/*! For license information please see 3964.bundle.83b1ba567fe4bf5848d4.js.LICENSE.txt */
"use strict";(self.webpackChunkframeworkbundle=self.webpackChunkframeworkbundle||[]).push([[3964],{23964:(e,t,i)=>{var a=i(24994),r=i(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(17383)),o=a(i(34579)),s=a(i(28452)),l=a(i(63072)),d=a(i(29511)),p=function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,s={__proto__:null,default:e};if(null===e||"object"!=r(e)&&"function"!=typeof e)return s;if(n=t?a:i){if(n.has(e))return n.get(e);n.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?n(s,l,o):s[l]=e[l]);return s}(e,t)}(i(96540));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var f=p.default.lazy(function(){return i.e(6992).then(i.bind(i,76992))});t.default=function(e){function t(e){var i,a,r,o;return(0,n.default)(this,t),a=this,r=t,o=[e],r=(0,l.default)(r),(i=(0,s.default)(a,c()?Reflect.construct(r,o||[],(0,l.default)(a).constructor):r.apply(a,o))).hasValidExternalLink=i.hasValidExternalLink.bind(i),i.executeAsyncCall=i.executeAsyncCall.bind(i),i.handleImageLoad=i.handleImageLoad.bind(i),i.state={orientation:""},i}return(0,d.default)(t,e),(0,o.default)(t,[{key:"hasValidExternalLink",value:function(){if(!this.props.field.externalLinkField)return!1;try{var e=!1;if(0===this.props.field.externalLinkFieldConditionField.length)return!0;if(this.props.field.externalLinkFieldConditionField.length===this.props.field.externalLinkFieldConditionValue.length)return this.props.field.externalLinkFieldConditionField.forEach(function(t,i){String(this.props.data[t])===String(this.props.field.externalLinkFieldConditionValue[i])&&(e=!0)},this),e}catch(e){return!1}}},{key:"handleImageLoad",value:function(e){if(this.props.field.checkOrientation){var t=e.target;if(t.classList.contains("main-image")){var i=t.naturalWidth/t.naturalHeight>=1?"landscape":"portrait";this.setState({orientation:i})}}}},{key:"render",value:function(){var e=this;if(this.props.data[this.props.field.name]||this.props.field.imageSource){var t=null;this.props.field.label&&(t=p.default.createElement("span",{className:"entry-label"},this.props.field.label));var i=this.props.field.imageSource||this.props.data[this.props.field.name]&&this.props.data[this.props.field.name].src,a=this.props.field.imageAlt||this.props.data[this.props.field.name]&&this.props.data[this.props.field.name].alt,r=p.default.createElement("div",{className:"image-container".concat(this.props.field.checkOrientation?" ".concat(this.state.orientation):"")},this.props.field.checkOrientation&&p.default.createElement("img",{src:i,title:a,alt:a,loading:"lazy",className:"background-image"}),p.default.createElement("img",{src:i,title:a,alt:a,className:"".concat(this.props.field.class||""," main-image"),loading:"lazy",decoding:"async",fetchpriority:"high",onLoad:this.handleImageLoad})),n=this.props.field.href,o="image-wrapper "+this.props.field.wrapperClass;return this.hasValidExternalLink()?n=this.props.data[this.props.field.externalLinkField]:this.props.field.hrefFields&&this.props.field.hrefFields.map(function(t,i){n=n.replace(t,e.props.data[t])}),n?p.default.createElement(f,{data:this.props.data,conditions:this.props.field.conditions},p.default.createElement("div",{className:o},t,p.default.createElement("a",{href:n,rel:"noreferrer noopener"},r))):p.default.createElement(f,{data:this.props.data,conditions:this.props.field.conditions},p.default.createElement("div",{className:o},t,r))}return null}},{key:"executeAsyncCall",value:function(e){var t=this,i=this,a=new FormData;if(Object.entries(this.props.data).forEach(function(e){a.set(e[0],String(e[1]))}),fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"},redirect:"follow",referrerPolicy:"no-referrer",body:a}).then(function(e){try{e.json().then(function(e){if(""!==String(t.props.field.redirectPageOnSuccess)&&(window.location=String(t.props.field.redirectPageOnSuccess)),e.updatedData){var a=t.props.data,r=t.props.list.props.data;if("single"===e.updateType){for(var n in e.updatedData)e.updatedData.hasOwnProperty(n)&&(a[n]=e.updatedData[n]);for(var o=0;o<r.length;o++)if(r[o].id===a.id){r[o]=a;break}}else r=(e.updateType,e.updatedData);i.props.list.props.setFunction(i.props.list.props.name,r,[])}})}catch(e){}}),this.props.field.hookAfterClick&&this.props.field.hookName&&window.c4gHooks&&window.c4gHooks[this.props.field.hookName])for(var r=0;r<window.c4gHooks[this.props.field.hookName].length;r++)"function"==typeof window.c4gHooks[this.props.field.hookName][r]&&window.c4gHooks[this.props.field.hookName][r](this.props.field,this.props.data)}}])}(p.Component)}}]);