"use strict";(self.webpackChunkframeworkbundle=self.webpackChunkframeworkbundle||[]).push([[4534],{34534:(e,t,a)=>{var r=a(46147),l=a(78344);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(28110)),o=r(a(20963)),s=r(a(23673)),c=r(a(23422)),u=r(a(60560)),i=r(a(42315)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(3044)),p=a(66855),y=a(95751),d=a(74829),v=a(12200);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var l=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,u.default)(this,a)}}var g=f.default.lazy((function(){return Promise.resolve().then(a.bind(a,35501))})),b=function(e){(0,c.default)(a,e);var t=h(a);function a(e){var r;(0,n.default)(this,a),r=t.call(this,e);var l=(0,s.default)(r),o=document.createElement("div"),c=document.createElement("button");r.langConstants=(0,y.getLanguage)(e.mapController.data),c.title=r.langConstants.CTRL_BASELAYER,o.className="c4g-baselayer-control ol-unselectable ol-control ",e.open?o.className+="c4g-open":o.className+="c4g-close",e.external&&(o.className+=" c4g-external"),o.appendChild(c),jQuery(o).on("click",(function(e){l.state.open?l.close():l.open()}));var u=e.mapController,i=new p.Control({element:o,target:e.target});u.mapsControls.controls.baselayerSwitcher=i,u.map.addControl(i),r.open=r.open.bind((0,s.default)(r)),r.close=r.close.bind((0,s.default)(r));var f=!1;return e.mapController.proxy.baselayerLoaded?f=!0:(e.mapController.proxy.hook_baselayer_loaded=e.mapController.proxy.hook_baselayer_loaded||[],e.mapController.proxy.hook_baselayer_loaded.push((function(){l.setState({baselayerLoaded:!0,currentBaselayer:e.mapController.proxy.activeBaselayerId})}))),r.state={open:e.open||!1,className:e.className||"c4g-baselayerswitcher-panel",control:i,baselayerLoaded:f,currentBaselayer:0,baselayerFilter:""},r}return(0,o.default)(a,[{key:"componentDidMount",value:function(){}},{key:"getFilteredBaselayerIds",value:function(){var e=this.props.baselayerController.arrBaselayers,t=this.props.baselayerController.baselayerIds,a=[];if(""===this.state.baselayerFilter)a=t;else for(var r=0;r<t.length;r++){var l=e[t[r]];if(-1!==l.name.toLowerCase().indexOf(this.state.baselayerFilter.toLowerCase()))a.push(t[r]);else{var n=l.overlayController.arrOverlays,o=Object.keys(n);if(o.length>0)for(var s=0;s<o.length;s++)if(-1!==n[o[s]].name.toLowerCase().indexOf(this.state.baselayerFilter.toLowerCase())){a.push(t[r]);break}}}return a}},{key:"render",value:function(){var e=this,t=this.props.baselayerController.arrBaselayers,a=this.getFilteredBaselayerIds(),r="";this.props.mapController.data.baselayerswitcher.filter&&(r=f.default.createElement("div",{className:"c4g-baselayer-filter without-button"},f.default.createElement("input",{className:"c4g-baselayer-filter-field",type:"text",placeholder:"ï€‚",onInput:function(){e.filterBaselayers(e.value)}}))),this.state.open?(jQuery(this.state.control.element).addClass("c4g-open").removeClass("c4g-close"),jQuery(".c4g-baselayer-container").addClass("c4g-open").removeClass("c4g-close")):(jQuery(this.state.control.element).removeClass("c4g-open").addClass("c4g-close"),jQuery(".c4g-baselayer-container").removeClass("c4g-open").addClass("c4g-close"));var l=this,n=this.props.mapController.data.baselayerswitcher.label?this.props.mapController.data.baselayerswitcher.label:"Basiskarten";return f.default.createElement("div",{className:"c4g-baselayer-wrapper"},f.default.createElement(f.Suspense,{fallback:f.default.createElement("div",null,"Loading...")},f.default.createElement(g,{wrapperClass:"c4g-baselayer-header",headerClass:"c4g-baselayer-headline",header:n,closeBtnClass:"c4g-baselayer-close",closeBtnCb:this.close,closeBtnTitle:this.langConstants.CLOSE})),r,f.default.createElement("div",{className:"c4g-baselayertree-content"},f.default.createElement("ul",null,a.map((function(e,a){var r=t[e],n=l.state.currentBaselayer===e?"c4g-active":"c4g-inactive",o="";r.preview_image&&(o=f.default.createElement("img",{className:"c4g-baselayer-preview",src:r.preview_image,alt:""}));var s="";r.overlayController.arrOverlays.length>0&&l.state.currentBaselayer===e&&(s=f.default.createElement(d.OverlayControls,{overlayController:r.overlayController}));var c=r.name;return o&&(c=f.default.createElement("span",null,r.name)),f.default.createElement("li",{key:a,className:o?"with-image":"without-image"},f.default.createElement("a",{onMouseUp:function(t){t.preventDefault(),t.stopPropagation(),l.entryClick(e)},className:n},c,o),s)})))))}},{key:"filterBaselayers",value:function(e){var t=jQuery(".c4g-baselayer-filter-field").val();this.setState({baselayerFilter:t})}},{key:"entryClick",value:function(e){this.props.baselayerController.showBaseLayer(e),this.props.changeActiveLayers(e),this.setState({currentBaselayer:e})}},{key:"open",value:function(){this.setState({open:!0}),this.props.mapController.setOpenComponent(this)}},{key:"close",value:function(){this.setState({open:!1})}},{key:"componentDidUpdate",value:function(e,t,a){this.props.mapController.data.caching&&!this.state.open&&(v.utils.getValue("panel")===this.constructor.name&&v.utils.storeValue("panel",""))}}]),a}(f.Component);t.default=b},74829:(e,t,a)=>{var r=a(46147),l=a(78344);Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayControls=void 0;var n=r(a(28110)),o=r(a(20963)),s=r(a(23422)),c=r(a(60560)),u=r(a(42315)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(3044));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.default)(e);if(t){var l=(0,u.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,s.default)(a,e);var t=p(a);function a(e){return(0,n.default)(this,a),t.call(this,e)}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.props.overlayController.arrOverlays;return i.default.createElement("ul",{className:"c4g-overlays"},t.map((function(t,a){return i.default.createElement("li",{key:a},i.default.createElement("a",null,i.default.createElement("span",null,t.name),i.default.createElement("input",{id:"c4g-overlay-toggle_"+a,className:"c4g-overlay-toggle",type:"range",onInput:function(){return t=a,r=jQuery("#c4g-overlay-toggle_"+t).val(),void e.props.overlayController.arrOverlays[t].changeOpacity(r);var t,r},min:0,max:100,step:10,defaultValue:t.opacity})))})))}}]),a}(i.Component);t.OverlayControls=y}}]);