/*! For license information please see 9018.bundle.3d0fba15f739aa29cf2a.js.LICENSE.txt */
(self.webpackChunkframeworkbundle=self.webpackChunkframeworkbundle||[]).push([[9018],{20113:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.default=t.exports,t.exports.__esModule=!0},69674:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},23673:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},63631:t=>{function e(t,e,r,n,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=t.apply(r,n);function s(t){e(a,i,o,s,l,"next",t)}function l(t){e(a,i,o,s,l,"throw",t)}s(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},28110:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},20963:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},51542:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.default=t.exports,t.exports.__esModule=!0},42315:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},23422:(t,e,r)=>{var n=r(3653);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},46147:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},91305:t=>{t.exports=function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0},38090:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},60560:(t,e,r)=>{var n=r(78344).default,i=r(23673);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},3653:t=>{function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,e(r,n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},68563:(t,e,r)=>{var n=r(69674),i=r(91305),o=r(85565),a=r(38090);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},78344:t=>{function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},85565:(t,e,r)=>{var n=r(20113);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},48033:(t,e,r)=>{t.exports=r(15343)},98099:()=>{var t=null,e=null;function r(t,r,n){t.addEventListener(r,(function(t){var i=new MouseEvent(n,t);i.pointerId=1,i.isPrimary=!0,i.pointerType="mouse",i.width=1,i.height=1,i.tiltX=0,i.tiltY=0,"buttons"in t&&0!==t.buttons?i.pressure=.5:i.pressure=0;var o=t.target;null!==e&&(o=e,"mouseup"===r&&(e=null)),o.dispatchEvent(i),i.defaultPrevented&&t.preventDefault()}))}function n(e,r,n){e.addEventListener(r,(function(e){for(var i=e.changedTouches,o=i.length,a=0;a<o;a++){var s=new CustomEvent(n,{bubbles:!0,cancelable:!0});s.ctrlKey=e.ctrlKey,s.shiftKey=e.shiftKey,s.altKey=e.altKey,s.metaKey=e.metaKey;var l=i.item(a);s.clientX=l.clientX,s.clientY=l.clientY,s.screenX=l.screenX,s.screenY=l.screenY,s.pageX=l.pageX,s.pageY=l.pageY;var u=l.target.getBoundingClientRect();s.offsetX=l.clientX-u.left,s.offsetY=l.clientY-u.top,s.pointerId=1+l.identifier,s.button=0,s.buttons=1,s.movementX=0,s.movementY=0,s.region=null,s.relatedTarget=null,s.x=s.clientX,s.y=s.clientY,s.pointerType="touch",s.width=1,s.height=1,s.tiltX=0,s.tiltY=0,s.pressure=1,"touchstart"===r&&null===t&&(t=l.identifier),s.isPrimary=l.identifier===t,"touchend"===r&&s.isPrimary&&(t=null),e.target.dispatchEvent(s),s.defaultPrevented&&e.preventDefault()}}))}"PointerEvent"in window||(Element.prototype.setPointerCapture=Element.prototype.setCapture,Element.prototype.releasePointerCapture=Element.prototype.releaseCapture,"TouchEvent"in window||(r(document,"mousedown","pointerdown"),r(document,"mousemove","pointermove"),r(document,"mouseup","pointerup")),n(document,"touchstart","pointerdown"),n(document,"touchmove","pointermove"),n(document,"touchend","pointerup"))},6564:(t,e)=>{e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,d=t[e+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[r+d]=255&a,d+=f,a/=256,u-=8);t[r+d-f]|=128*g}},94122:t=>{var e={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},r=" ",n=/(italic|oblique)$/i,i={};t.exports=function(t,o,a){var s=i[t];if(!s){Array.isArray(t)||(t=[t]);for(var l=400,u="normal",c=[],h=0,p=t.length;h<p;++h){var d=t[h].split(" "),f=d[d.length-1].toLowerCase();for(var g in"normal"==f||"italic"==f||"oblique"==f?(u=f,d.pop(),f=d[d.length-1].toLowerCase()):n.test(f)&&(f=f.replace(n,""),u=d[d.length-1].replace(f,"")),e)if(f==g||f==g.replace("-","")||f==g.replace("-",r)){l=e[g],d.pop();break}"number"==typeof f&&(l=f);var m=d.join(r).replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(r)&&(m='"'+m+'"'),c.push(m)}s=i[t]=[u,l,c]}return s[0]+r+s[1]+r+o+"px"+(a?"/"+a:"")+r+s[2]}},45109:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,l=i(t),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))r.call(a,c)&&(l[c]=a[c]);if(e){s=e(a);for(var h=0;h<s.length;h++)n.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},81225:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>$});var n=r(4655),i=r(93558);const o={};function a(t,e,r){return t.on(e,r)}o.obj=function(t){return t},o.supportsImageRenderingPixelatedResult_=void 0,o.imageRenderingValueResult_=void 0,o.supportsImageRenderingPixelated=function(){if(void 0===o.supportsImageRenderingPixelatedResult_){const t=document.createElement("canvas");t.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;");const e=t.style.imageRendering;o.supportsImageRenderingPixelatedResult_=!!e,o.supportsImageRenderingPixelatedResult_&&(o.imageRenderingValueResult_=e)}return o.supportsImageRenderingPixelatedResult_},o.imageRenderingValue=function(){return o.supportsImageRenderingPixelated(),o.imageRenderingValueResult_||""},o.getSourceProjection=function(t){return t.get("olcs.projection")||t.getProjection()};let s=0;function l(t){return t.olcs_uid||(t.olcs_uid=++s)}function u(t){const e=Cesium.GroundPolylinePrimitive;return e&&e.isSupported(t)}const c=o;var h=r(92502),p=r(94286),d=r(68750),f=r(67500),g=r(91281),m=r(36595),y=r(33155),v=r(18385),_=r(34620);const b=function(){const t=new _.Z({projection:"EPSG:3857",wrapX:!0}).getTileCoordForTileUrlFunction([6,-31,22]);return t&&33===t[1]&&22===t[2]}();class x{constructor(t,e,r){this.source_=e,this.projection_=null,this.fallbackProj_=r||null,this.ready_=!1,this.tilingScheme_=null,this.rectangle_=null,this.map_=t;const n=this.source_.get("olcs.proxy");n&&("function"==typeof n?this.proxy_={getURL:n}:"string"==typeof n&&(this.proxy_=new Cesium.DefaultProxy(n))),this.errorEvent_=new Cesium.Event,this.emptyCanvas_=document.createElement("canvas"),this.emptyCanvas_.width=1,this.emptyCanvas_.height=1,this.source_.on("change",(t=>{this.handleSourceChanged_()})),this.handleSourceChanged_()}handleSourceChanged_(t){if(!this.ready_&&"ready"==this.source_.getState()){if(this.projection_=c.getSourceProjection(this.source_)||this.fallbackProj_,this.projection_==(0,i.get)("EPSG:4326"))this.tilingScheme_=new Cesium.GeographicTilingScheme;else{if(this.projection_!=(0,i.get)("EPSG:3857"))return;this.tilingScheme_=new Cesium.WebMercatorTilingScheme}this.rectangle_=this.tilingScheme_.rectangle,this.ready_=!0}}getTileCredits(t,e,r){const n=this.map_.getView().calculateExtent(this.map_.getSize()),i=this.map_.getView().getCenter(),o={viewState:{zoom:this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?r+1:r,center:i},extent:n},a=this.source_.getAttributions();if(!a)return[];let s=a(o);return Array.isArray(s)||(s=[s]),s.map((t=>new Cesium.Credit(t,!0)))}requestImage(t,e,r){const n=this.source_.getTileUrlFunction();if(n&&this.projection_){const i=this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?r+1:r;let o=e;b||(o=-e-1);let a=n.call(this.source_,[i,t,o],1,this.projection_);return this.proxy_&&(a=this.proxy_.getURL(a)),a?Cesium.ImageryProvider.loadImage(this,a):this.emptyCanvas_}return this.emptyCanvas_}}Object.defineProperties(x.prototype,{ready:{get:function(){return this.ready_}},rectangle:{get:function(){return this.rectangle_}},tileWidth:{get:function(){const t=this.source_.getTileGrid();return t?Array.isArray(t.getTileSize(0))?t.getTileSize(0)[0]:t.getTileSize(0):256}},tileHeight:{get:function(){const t=this.source_.getTileGrid();return t?Array.isArray(t.getTileSize(0))?t.getTileSize(0)[1]:t.getTileSize(0):256}},maximumLevel:{get:function(){const t=this.source_.getTileGrid();return t?t.getMaxZoom():18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this.tilingScheme_}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this.errorEvent_}},proxy:{get:function(){return this.proxy_}},hasAlphaChannel:{get:function(){return!0}},pickFeatures:{get:function(){}}});const w=x,E={computePixelSizeAtCoordinate:function(t,e){const r=t.camera,n=t.canvas,i=r.frustum,o=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(r.position,e,new Cesium.Cartesian3)),a=new Cesium.Cartesian2;return i.getPixelDimensions(n.clientWidth,n.clientHeight,o,a)},computeBoundingBoxAtTarget:function(t,e,r){const n=E.computePixelSizeAtCoordinate(t,e),i=Cesium.Transforms.eastNorthUpToFixedFrame(e),o=Cesium.Matrix4.multiplyByPoint(i,new Cesium.Cartesian3(-n.x*r,-n.y*r,0),new Cesium.Cartesian3),a=Cesium.Matrix4.multiplyByPoint(i,new Cesium.Cartesian3(n.x*r,n.y*r,0),new Cesium.Cartesian3);return Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray([o,a])},applyHeightOffsetToGeometry:function(t,e){t.applyTransform(((t,r,n)=>{if(console.assert(t===r),void 0!==n&&n>=3)for(let t=0;t<r.length;t+=n)r[t+2]=r[t+2]+e;return r}))},createMatrixAtCoordinates:function(t,e=0,r=Cesium.Cartesian3.ZERO,n=new Cesium.Cartesian3(1,1,1)){const i=E.ol4326CoordinateToCesiumCartesian(t),o=Cesium.Transforms.eastNorthUpToFixedFrame(i),a=Cesium.Quaternion.fromAxisAngle(Cesium.Cartesian3.UNIT_Z,-e),s=Cesium.Matrix4.fromTranslationQuaternionRotationScale(r,a,n);return Cesium.Matrix4.multiply(o,s,new Cesium.Matrix4)},rotateAroundAxis:function(t,e,r,n,i){const o=Cesium.Math.clamp,a=Cesium.defaultValue,s=i||{},l=a(s.duration,500),u=a(s.easing,h.linear),c=s.callback;let p=0;const d=new Cesium.Matrix4,f=Date.now(),g=function(){const i=Date.now(),a=u(o((i-f)/l,0,1));console.assert(a>=p),t.transform.clone(d);const s=(a-p)*e;p=a,t.lookAtTransform(n),t.rotate(r,s),t.lookAtTransform(d),a<1?window.requestAnimationFrame(g):c&&c()};window.requestAnimationFrame(g)},setHeadingUsingBottomCenter:function(t,e,r,n){const i=t.camera,o=E.computeAngleToZenith(t,r),a=i.right,s=Cesium.Quaternion.fromAxisAngle(a,o),l=Cesium.Matrix3.fromQuaternion(s),u=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(i.position,r,u);const c=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(l,u,c),Cesium.Cartesian3.add(c,r,c);const h=Cesium.Matrix4.fromTranslation(c);(0,E.rotateAroundAxis)(i,e,c,h,n)},pickOnTerrainOrEllipsoid:function(t,e){const r=t.camera.getPickRay(e);return t.globe.pick(r,t)||t.camera.pickEllipsoid(e)},pickBottomPoint:function(t){const e=t.canvas,r=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight);return E.pickOnTerrainOrEllipsoid(t,r)},pickCenterPoint:function(t){const e=t.canvas,r=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return E.pickOnTerrainOrEllipsoid(t,r)},computeSignedTiltAngleOnGlobe:function(t){const e=t.camera,r=new Cesium.Ray(e.position,e.direction);let n=t.globe.pick(r,t);if(!n){const t=Cesium.Ellipsoid.WGS84,e=Cesium.IntersectionTests.rayEllipsoid(r,t);e&&(n=Cesium.Ray.getPoint(r,e.start))}if(!n)return;const i=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(n,i);const o=(0,E.signedAngleBetween)(e.direction,i,e.right)-Math.PI;return Cesium.Math.convertLongitudeRange(o)},bottomFovRay:function(t){const e=t.camera,r=e.frustum.fovy/2,n=e.direction,i=Cesium.Quaternion.fromAxisAngle(e.right,r),o=Cesium.Matrix3.fromQuaternion(i),a=new Cesium.Cartesian3;return Cesium.Matrix3.multiplyByVector(o,n,a),new Cesium.Ray(e.position,a)},signedAngleBetween:function(t,e,r){const n=new Cesium.Cartesian3,i=new Cesium.Cartesian3,o=new Cesium.Cartesian3;Cesium.Cartesian3.normalize(t,n),Cesium.Cartesian3.normalize(e,i),Cesium.Cartesian3.cross(n,i,o);const a=Cesium.Cartesian3.dot(n,i),s=Cesium.Cartesian3.magnitude(o),l=Cesium.Cartesian3.dot(r,o),u=Math.atan2(s,a);return l>=0?u:-u},computeAngleToZenith:function(t,e){const r=t.camera,n=r.frustum.fovy/2,i=E.bottomFovRay(t),o=Cesium.Cartesian3.clone(i.direction);Cesium.Cartesian3.negate(o,o);const a=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(e,a);const s=new Cesium.Cartesian3;Cesium.Cartesian3.negate(r.right,s);return E.signedAngleBetween(a,o,s)+n},extentToRectangle:function(t,e){if(t&&e){const r=(0,i.transformExtent)(t,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(r[0],r[1],r[2],r[3])}return null},tileLayerToImageryLayer:function(t,e,r){if(!(e instanceof p.default||e instanceof d.Z))return null;let n=null,i=e.getSource();if(i instanceof g.Z&&i.getUrl()&&i.getImageLoadFunction()===v.r6){const t={"olcs.proxy":i.get("olcs.proxy"),"olcs.extent":i.get("olcs.extent"),"olcs.projection":i.get("olcs.projection"),"olcs.imagesource":i};i=new y.Z({url:i.getUrl(),attributions:i.getAttributions(),projection:i.getProjection(),params:i.getParams()}),i.setProperties(t)}if(i instanceof m.Z){let e=c.getSourceProjection(i);if(e||(e=r),!E.isCesiumProjection(e))return null;n=new w(t,i,r)}else{if(!(i instanceof f.Z))return null;{let t=c.getSourceProjection(i);if(t||(t=r),!E.isCesiumProjection(t))return null;n=new Cesium.SingleTileImageryProvider({url:i.getUrl(),rectangle:new Cesium.Rectangle.fromDegrees(i.getImageExtent()[0],i.getImageExtent()[1],i.getImageExtent()[2],i.getImageExtent()[3])})}}const o={},a=e.get("olcs.extent")||e.getExtent();a&&(o.rectangle=E.extentToRectangle(a,r));return new Cesium.ImageryLayer(n,o)},updateCesiumLayerProperties:function(t,e){let r=1,n=!0;[t.layer].concat(t.parents).forEach((t=>{const e=t.getOpacity();void 0!==e&&(r*=e);const i=t.getVisible();void 0!==i&&(n&=i)})),e.alpha=r,e.show=n},ol4326CoordinateToCesiumCartesian:function(t){const e=t;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])},ol4326CoordinateArrayToCsCartesians:function(t){console.assert(null!==t);const e=E.ol4326CoordinateToCesiumCartesian,r=[];for(let n=0;n<t.length;++n)r.push(e(t[n]));return r},olGeometryCloneTo4326:function(t,e){console.assert(e);const r=(0,i.get)("EPSG:4326"),n=(0,i.get)(e);if(n!==r){const e=t.getProperties();(t=t.clone()).transform(n,r),t.setProperties(e)}return t},convertColorToCesium:function(t){if(t=t||"black",Array.isArray(t))return new Cesium.Color(Cesium.Color.byteToFloat(t[0]),Cesium.Color.byteToFloat(t[1]),Cesium.Color.byteToFloat(t[2]),t[3]);if("string"==typeof t)return Cesium.Color.fromCssColorString(t);if(t instanceof CanvasPattern||t instanceof CanvasGradient){const e=document.createElement("canvas"),r=e.getContext("2d");return e.width=e.height=256,r.fillStyle=t,r.fillRect(0,0,e.width,e.height),new Cesium.ImageMaterialProperty({image:e})}console.assert(!1,"impossible")},convertUrlToCesium:function(t){let e="";const r=/\{(\d|[a-z])-(\d|[a-z])\}/,n=r.exec(t);if(n){t=t.replace(r,"{s}");const i=n[1].charCodeAt(0),o=n[2].charCodeAt(0);let a;for(a=i;a<=o;++a)e+=String.fromCharCode(a)}return{url:t,subdomains:e}},resetToNorthZenith:function(t,e){return new Promise(((r,n)=>{const i=e.camera,o=E.pickBottomPoint(e);if(!o)return void n("Could not get bottom pivot");const a=t.getView().getRotation();if(void 0===a)return void n("The view is not initialized");const s=E.computeAngleToZenith(e,o);E.setHeadingUsingBottomCenter(e,a,o);const l=Cesium.Matrix4.fromTranslation(o),u=i.right,c={callback:()=>{const e=t.getView();E.normalizeView(e),r()}};E.rotateAroundAxis(i,-s,u,l,c)}))},rotateAroundBottomCenter:function(t,e){return new Promise(((r,n)=>{const i=t.camera,o=E.pickBottomPoint(t);if(!o)return void n("could not get bottom pivot");const a={callback:r},s=Cesium.Matrix4.fromTranslation(o),l=i.right;(0,E.rotateAroundAxis)(i,-e,l,s,a)}))},normalizeView:function(t,e=0){const r=t.getResolution();t.setRotation(e),t.setResolution(t.constrainResolution(r))},isCesiumProjection:function(t){const e=t===(0,i.get)("EPSG:3857"),r=t===(0,i.get)("EPSG:4326");return e||r}},C=E;const S=class{constructor(t){this.ol3d=t,this.scene_=t.getCesiumScene(),this.canvas_=this.scene_.canvas,this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this),this.repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"],this.enable()}enable(){this.scene_.requestRenderMode=!0,this.scene_.maximumRenderTimeChange=1e3;for(const t of this.repaintEventNames_)this.canvas_.addEventListener(t,this._boundNotifyRepaintRequired,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)}disable(){for(const t of this.repaintEventNames_)this.canvas_.removeEventListener(t,this._boundNotifyRepaintRequired,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired),this.scene_.requestRenderMode=!1}restartRenderLoop(){this.notifyRepaintRequired()}notifyRepaintRequired(){this.scene_.requestRender()}};var T=r(68459);function P(t){return 180*t/Math.PI}function O(t){return t*Math.PI/180}class M{constructor(t,e){this.scene_=t,this.cam_=t.camera,this.map_=e,this.view_=null,this.viewListenKey_=null,this.toLonLat_=M.identityProjection,this.fromLonLat_=M.identityProjection,this.tilt_=0,this.distance_=0,this.lastCameraViewMatrix_=null,this.viewUpdateInProgress_=!1,this.map_.on("change:view",(t=>{this.setView_(this.map_.getView())})),this.setView_(this.map_.getView())}static identityProjection(t,e,r){const n=r||t.length;if(e)for(let r=0;r<n;++r)e[r]=t[r];return t}setView_(t){if(this.view_&&((0,T.unByKey)(this.viewListenKey_),this.viewListenKey_=null),this.view_=t,t){const e=(0,i.getTransform)(t.getProjection(),"EPSG:4326"),r=(0,i.getTransform)("EPSG:4326",t.getProjection());console.assert(e&&r),this.toLonLat_=e,this.fromLonLat_=r,this.viewListenKey_=t.on("propertychange",(t=>this.handleViewEvent_(t))),this.readFromView()}else this.toLonLat_=M.identityProjection,this.fromLonLat_=M.identityProjection}handleViewEvent_(t){this.viewUpdateInProgress_||this.readFromView()}setHeading(t){this.view_&&this.view_.setRotation(t)}getHeading(){if(!this.view_)return;return this.view_.getRotation()||0}setTilt(t){this.tilt_=t,this.updateCamera_()}getTilt(){return this.tilt_}setDistance(t){this.distance_=t,this.updateCamera_(),this.updateView()}getDistance(){return this.distance_}setCenter(t){this.view_&&this.view_.setCenter(t)}getCenter(){if(this.view_)return this.view_.getCenter()}setPosition(t){if(!this.toLonLat_)return;const e=this.toLonLat_(t);console.assert(e);const r=new Cesium.Cartographic(O(e[0]),O(e[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}),this.updateView()}getPosition(){if(!this.fromLonLat_)return;const t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position),e=this.fromLonLat_([P(t.longitude),P(t.latitude)]);return console.assert(e),e}setAltitude(t){const e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);e.height=t,this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(e),this.updateView()}getAltitude(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height}updateCamera_(){if(!this.view_||!this.toLonLat_)return;const t=this.view_.getCenter();if(!t)return;const e=this.toLonLat_(t);console.assert(e);const r=new Cesium.Cartographic(O(e[0]),O(e[1]));if(this.scene_.globe){const t=this.scene_.globe.getHeight(r);r.height=t||0}const n=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r),i={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:n,orientation:i}),this.cam_.moveBackward(this.distance_),this.checkCameraChange(!0)}readFromView(){if(!this.view_||!this.toLonLat_)return;const t=this.view_.getCenter();if(null==t)return;const e=this.toLonLat_(t);console.assert(e);const r=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(r||0,O(e[1])),this.updateCamera_()}updateView(){if(!this.view_||!this.fromLonLat_)return;this.viewUpdateInProgress_=!0;const t=Cesium.Ellipsoid.WGS84,e=this.scene_,r=C.pickCenterPoint(e);let n=r;if(!n){const t=e.globe,r=this.cam_.positionCartographic.clone(),i=t.getHeight(r);r.height=i||0,n=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}this.distance_=Cesium.Cartesian3.distance(n,this.cam_.position);const i=t.cartesianToCartographic(n);if(this.view_.setCenter(this.fromLonLat_([P(i.longitude),P(i.latitude)])),this.view_.setResolution(this.calcResolutionForDistance(this.distance_,i?i.latitude:0)),r){const e=this.cam_.position,n=new Cesium.Cartesian3;t.geocentricSurfaceNormal(r,n);const i=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(e,r,i),Cesium.Cartesian3.normalize(i,i);const o=this.cam_.up,a=this.cam_.right,s=new Cesium.Cartesian3(-r.y,r.x,0),l=Cesium.Cartesian3.angleBetween(a,s),u=Cesium.Cartesian3.cross(r,o,new Cesium.Cartesian3).z;this.view_.setRotation(u<0?l:-l);const c=Math.acos(Cesium.Cartesian3.dot(n,i));this.tilt_=isNaN(c)?0:c}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;this.viewUpdateInProgress_=!1}checkCameraChange(t){const e=this.lastCameraViewMatrix_,r=this.cam_.viewMatrix;e&&Cesium.Matrix4.equalsEpsilon(e,r,1e-5)||(this.lastCameraViewMatrix_=r.clone(),!0!==t&&this.updateView())}calcDistanceForResolution(t,e){const r=this.scene_.canvas,n=this.cam_.frustum.fovy;console.assert(!isNaN(n));const i=this.view_.getProjection().getMetersPerUnit();return t*r.clientHeight*i*Math.cos(Math.abs(e))/2/Math.tan(n/2)}calcResolutionForDistance(t,e){const r=this.scene_.canvas,n=this.cam_.frustum.fovy,i=this.view_.getProjection().getMetersPerUnit();return 2*t*Math.tan(n/2)/i/Math.cos(Math.abs(e))/r.clientHeight}}const R=M;var I=r(38964);const L=class{constructor(t,e){this.map=t,this.view=t.getView(),this.scene=e,this.olLayers=t.getLayerGroup().getLayers(),this.mapLayerGroup=t.getLayerGroup(),this.layerMap={},this.olLayerListenKeys={},this.olGroupListenKeys_={}}synchronize(){this.destroyAll(),this.addLayers_(this.mapLayerGroup)}orderLayers(){}addLayers_(t){const e=[{layer:t,parents:[]}];for(;e.length>0;){const t=e.splice(0,1)[0],r=t.layer,n=l(r).toString();this.olLayerListenKeys[n]=[],console.assert(!this.layerMap[n]);let i=null;if(r instanceof I.default)this.listenForGroupChanges_(r),r!==this.mapLayerGroup&&(i=this.createSingleLayerCounterparts(t)),i||r.getLayers().forEach((n=>{if(n){const i={layer:n,parents:r===this.mapLayerGroup?[]:[t.layer].concat(t.parents)};e.push(i)}}));else if(i=this.createSingleLayerCounterparts(t),!i){const e=n,r=t,i=t=>{const n=this.createSingleLayerCounterparts(r);n&&(r.layer.un("change",i),this.addCesiumObjects_(n,e,r.layer),this.orderLayers())};this.olLayerListenKeys[n].push(a(r.layer,"change",i))}i&&this.addCesiumObjects_(i,n,r)}this.orderLayers()}addCesiumObjects_(t,e,r){this.layerMap[e]=t,this.olLayerListenKeys[e].push(a(r,"change:zIndex",(()=>this.orderLayers()))),t.forEach((t=>{this.addCesiumObject(t)}))}removeAndDestroySingleLayer_(t){const e=l(t).toString(),r=this.layerMap[e];return r&&(r.forEach((t=>{this.removeSingleCesiumObject(t,!1),this.destroyCesiumObject(t)})),this.olLayerListenKeys[e].forEach(T.unByKey),delete this.olLayerListenKeys[e]),delete this.layerMap[e],!!r}unlistenSingleGroup_(t){if(t===this.mapLayerGroup)return;const e=l(t).toString();this.olGroupListenKeys_[e].forEach((t=>{(0,T.unByKey)(t)})),delete this.olGroupListenKeys_[e],delete this.layerMap[e]}removeLayer_(t){if(t){const e=[t];for(;e.length>0;){const t=e.splice(0,1)[0],r=this.removeAndDestroySingleLayer_(t);t instanceof I.default&&(this.unlistenSingleGroup_(t),r||t.getLayers().forEach((t=>{e.push(t)})))}}}listenForGroupChanges_(t){const e=l(t).toString();console.assert(void 0===this.olGroupListenKeys_[e]);const r=[];this.olGroupListenKeys_[e]=r;let n=[];const i=function(){const e=t.getLayers();e&&(n=[e.on("add",(t=>{this.addLayers_(t.element)})),e.on("remove",(t=>{this.removeLayer_(t.element)}))],r.push(...n))}.bind(this);i(),r.push(t.on("change:layers",(t=>{n.forEach((t=>{const e=r.indexOf(t);e>=0&&r.splice(e,1),(0,T.unByKey)(t)})),i()})))}destroyAll(){let t;for(t in this.removeAllCesiumObjects(!0),this.olGroupListenKeys_){this.olGroupListenKeys_[t].forEach(T.unByKey)}for(t in this.olLayerListenKeys)this.olLayerListenKeys[t].forEach(T.unByKey);this.olGroupListenKeys_={},this.olLayerListenKeys={},this.layerMap={}}addCesiumObject(t){}destroyCesiumObject(t){}removeSingleCesiumObject(t,e){}removeAllCesiumObjects(t){}createSingleLayerCounterparts(t){}};const k=class extends L{constructor(t,e){super(t,e),this.cesiumLayers_=e.imageryLayers,this.ourLayers_=new Cesium.ImageryLayerCollection}addCesiumObject(t){this.cesiumLayers_.add(t),this.ourLayers_.add(t)}destroyCesiumObject(t){t.destroy()}removeSingleCesiumObject(t,e){this.cesiumLayers_.remove(t,e),this.ourLayers_.remove(t,!1)}removeAllCesiumObjects(t){for(let e=0;e<this.ourLayers_.length;++e)this.cesiumLayers_.remove(this.ourLayers_.get(e),t);this.ourLayers_.removeAll(!1)}convertLayerToCesiumImageries(t,e){const r=C.tileLayerToImageryLayer(this.map,t,e);return r?[r]:null}createSingleLayerCounterparts(t){const e=t.layer,r=l(e).toString(),n=this.view.getProjection();console.assert(n);const i=this.convertLayerToCesiumImageries(e,n);if(i){const n=[];[t.layer].concat(t.parents).forEach((e=>{n.push(e.on(["change:opacity","change:visible"],(()=>{console.assert(i);for(let e=0;e<i.length;++e)C.updateCesiumLayerProperties(t,i[e])})))}));for(let e=0;e<i.length;++e)C.updateCesiumLayerProperties(t,i[e]);n.push(e.on("change:extent",(t=>{for(let t=0;t<i.length;++t)this.cesiumLayers_.remove(i[t],!0),this.ourLayers_.remove(i[t],!1);delete this.layerMap[l(e)],this.synchronize()}))),n.push(e.on("change",(t=>{for(let t=0;t<i.length;++t){const e=this.cesiumLayers_.indexOf(i[t]);e>=0&&(this.cesiumLayers_.remove(i[t],!1),this.cesiumLayers_.add(i[t],e))}}))),this.olLayerListenKeys[r].push(...n)}return Array.isArray(i)?i:null}orderLayers(){const t=[],e={},r=[this.mapLayerGroup];for(;r.length>0;){const n=r.splice(0,1)[0];if(t.push(n),e[l(n)]=n.getZIndex()||0,n instanceof I.default){const t=n.getLayers();t&&r.unshift(...t.getArray())}}!function(t,e){const r=t.length,n=Array(t.length);for(let e=0;e<r;e++)n[e]={index:e,value:t[e]};n.sort(((t,r)=>e(t.value,r.value)||t.index-r.index));for(let e=0;e<t.length;e++)t[e]=n[e].value}(t,((t,r)=>e[l(t)]-e[l(r)])),t.forEach((t=>{const e=l(t).toString(),r=this.layerMap[e];r&&r.forEach((t=>{this.raiseToTop(t)}))}))}raiseToTop(t){this.cesiumLayers_.raiseToTop(t)}};var A=r(40622),F=r(57379),N=r(75492),Z=r(26692),j=r(92184),D=r(89564),G=r(3806),z=r(36850),U=r(2309),B=r(13585);const q=class{constructor(t,e){const r=new Cesium.BillboardCollection({scene:e}),n=new Cesium.PrimitiveCollection;this.olListenKeys=[],this.rootCollection_=new Cesium.PrimitiveCollection,this.context={projection:t,billboards:r,featureToCesiumMap:{},primitives:n},this.rootCollection_.add(r),this.rootCollection_.add(n)}destroy(){this.olListenKeys.forEach(T.unByKey),this.olListenKeys.length=0}getRootPrimitive(){return this.rootCollection_}};const V=class{constructor(t){this.scene=t,this.boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this),this.defaultBillboardEyeOffset_=new Cesium.Cartesian3(0,0,10)}onRemoveOrClearFeature_(t){const e=t.target;console.assert(e instanceof A.Z);const r=c.obj(e).olcs_cancellers;if(r){const n=t.feature;if(n){const t=l(n),e=r[t];e&&(e(),delete r[t])}else{for(const t in r)r.hasOwnProperty(t)&&r[t]();c.obj(e).olcs_cancellers={}}}}setReferenceForPicking(t,e,r){r.olLayer=t,r.olFeature=e}createColoredPrimitive(t,e,r,n,i,o){const a={flat:!0,renderState:{depthTest:{enabled:!0}}};void 0!==o&&(a.renderState||(a.renderState={}),a.renderState.lineWidth=o);const s=function(t,e){const r=new Cesium.GeometryInstance({geometry:t});return!e||e instanceof Cesium.ImageMaterialProperty||(r.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(e)}),r}(n,i);let l;if(this.getHeightReference(t,e,r)===Cesium.HeightReference.CLAMP_TO_GROUND){const t=s.geometry.constructor;if(t&&!t.createShadowVolume)return null;l=new Cesium.GroundPrimitive({geometryInstances:s})}else l=new Cesium.Primitive({geometryInstances:s});if(i instanceof Cesium.ImageMaterialProperty){const t=i.image.getValue().toDataURL();l.appearance=new Cesium.MaterialAppearance({flat:!0,renderState:{depthTest:{enabled:!0}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:t}}})})}else l.appearance=new Cesium.PerInstanceColorAppearance(a);return this.setReferenceForPicking(t,e,l),l}extractColorFromOlStyle(t,e){const r=t.getFill()?t.getFill().getColor():null,n=t.getStroke()?t.getStroke().getColor():null;let i="black";return n&&e?i=n:r&&(i=r),C.convertColorToCesium(i)}extractLineWidthFromOlStyle(t){const e=t.getStroke()?t.getStroke().getWidth():void 0;return void 0!==e?e:1}wrapFillAndOutlineGeometries(t,e,r,n,i,o){const a=this.extractColorFromOlStyle(o,!1),s=this.extractColorFromOlStyle(o,!0),l=new Cesium.PrimitiveCollection;if(o.getFill()){const i=this.createColoredPrimitive(t,e,r,n,a);console.assert(!!i),l.add(i)}if(o.getStroke()&&i){const n=this.extractLineWidthFromOlStyle(o),a=this.createColoredPrimitive(t,e,r,i,s,n);a&&l.add(a)}return l}addTextStyle(t,e,r,n,i){let o;if(i instanceof Cesium.PrimitiveCollection?o=i:(o=new Cesium.PrimitiveCollection,o.add(i)),!n.getText())return o;const a=n.getText(),s=this.olGeometry4326TextPartToCesium(t,e,r,a);return s&&o.add(s),o}csAddBillboard(t,e,r,n,i,o){e.eyeOffset||(e.eyeOffset=this.defaultBillboardEyeOffset_);const a=t.add(e);return this.setReferenceForPicking(r,n,a),a}olCircleGeometryToCesium(t,e,r,n,i){r=C.olGeometryCloneTo4326(r,n),console.assert("Circle"==r.getType());let o=r.getCenter();const a=3==o.length?o[2]:0;let s=o.slice();s[0]+=r.getRadius(),o=C.ol4326CoordinateToCesiumCartesian(o),s=C.ol4326CoordinateToCesiumCartesian(s);const l=Cesium.Cartesian3.distance(o,s),c=new Cesium.CircleGeometry({center:o,radius:l,height:a});let h,p;if(this.getHeightReference(t,e,r)===Cesium.HeightReference.CLAMP_TO_GROUND){const n=this.extractLineWidthFromOlStyle(i);if(n){const o=(0,z.iu)(r.getCenter(),l),a=C.ol4326CoordinateArrayToCsCartesians(o.getLinearRing(0).getCoordinates());if(u(this.scene))h=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:a,width:n})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,i,!0)}),classificationType:Cesium.ClassificationType.TERRAIN}),h.readyPromise.then((()=>{this.setReferenceForPicking(t,e,h._primitive)}));else{const r=this.extractColorFromOlStyle(i,!0);h=this.createStackedGroundCorridors(t,e,n,r,a)}}}else p=new Cesium.CircleOutlineGeometry({center:o,radius:l,extrudedHeight:a,height:a});const d=this.wrapFillAndOutlineGeometries(t,e,r,c,p,i);return h&&d.add(h),this.addTextStyle(t,e,r,i,d)}createStackedGroundCorridors(t,e,r,n,i){Array.isArray(i[0])||(i=[i]),r=Math.max(3,r);const o=[];let a=0;for(const t of[1e3,4e3,16e3,64e3,254e3,1e6,1e7]){const e={width:r*=2.14,vertexFormat:Cesium.VertexFormat.POSITION_ONLY};for(const r of i)e.positions=r,o.push(new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(e),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(n),distanceDisplayCondition:new Cesium.DistanceDisplayConditionGeometryInstanceAttribute(a,t-1)}}));a=t}return new Cesium.GroundPrimitive({geometryInstances:o})}olLineStringGeometryToCesium(t,e,r,n,i){r=C.olGeometryCloneTo4326(r,n),console.assert("LineString"==r.getType());const o=C.ol4326CoordinateArrayToCsCartesians(r.getCoordinates()),a=this.extractLineWidthFromOlStyle(i);let s;const l=this.getHeightReference(t,e,r);if(l!==Cesium.HeightReference.CLAMP_TO_GROUND||u(this.scene)){const r=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,i,!0)}),n={positions:o,width:a},u={appearance:r};if(l===Cesium.HeightReference.CLAMP_TO_GROUND){const r=new Cesium.GroundPolylineGeometry(n);u.geometryInstances=new Cesium.GeometryInstance({geometry:r}),s=new Cesium.GroundPolylinePrimitive(u),s.readyPromise.then((()=>{this.setReferenceForPicking(t,e,s._primitive)}))}else{n.vertexFormat=r.vertexFormat;const t=new Cesium.PolylineGeometry(n);u.geometryInstances=new Cesium.GeometryInstance({geometry:t}),s=new Cesium.Primitive(u)}}else{const r=this.extractColorFromOlStyle(i,!0);s=this.createStackedGroundCorridors(t,e,a,r,o)}return this.setReferenceForPicking(t,e,s),this.addTextStyle(t,e,r,i,s)}olPolygonGeometryToCesium(t,e,r,n,i){r=C.olGeometryCloneTo4326(r,n),console.assert("Polygon"==r.getType());const o=this.getHeightReference(t,e,r);let a,s,l;if(5==r.getCoordinates()[0].length&&"rectangle"===e.getGeometry().get("olcs.polygon_kind")){const t=r.getCoordinates()[0],e=(0,U.boundingExtent)(t),n=Cesium.Rectangle.fromDegrees(e[0],e[1],e[2],e[3]);let i=0;if(3==t[0].length)for(let e=0;e<t.length;e++)i=Math.max(i,t[e][2]);a=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:n,height:i}),s=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:n,height:i})}else{const n=r.getLinearRings(),c={},h=c;console.assert(n.length>0);for(let t=0;t<n.length;++t){const e=n[t].getCoordinates(),r=C.ol4326CoordinateArrayToCsCartesians(e);console.assert(r&&r.length>0),0==t?c.positions=r:(c.holes||(c.holes=[]),c.holes.push({positions:r}))}if(a=new Cesium.PolygonGeometry({polygonHierarchy:h,perPositionHeight:!0}),o===Cesium.HeightReference.CLAMP_TO_GROUND){const r=this.extractLineWidthFromOlStyle(i);if(r>0){const n=[c.positions];if(c.holes)for(let t=0;t<c.holes.length;++t)n.push(c.holes[t].positions);if(u(this.scene)){const o=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,i,!0)}),a=[];for(const t of n){const e=new Cesium.GroundPolylineGeometry({positions:t,width:r});a.push(new Cesium.GeometryInstance({geometry:e}))}const s={appearance:o,geometryInstances:a};l=new Cesium.GroundPolylinePrimitive(s),l.readyPromise.then((()=>{this.setReferenceForPicking(t,e,l._primitive)}))}else{const o=this.extractColorFromOlStyle(i,!0);l=this.createStackedGroundCorridors(t,e,r,o,n)}}}else s=new Cesium.PolygonOutlineGeometry({polygonHierarchy:c,perPositionHeight:!0})}const c=this.wrapFillAndOutlineGeometries(t,e,r,a,s,i);return l&&c.add(l),this.addTextStyle(t,e,r,i,c)}getHeightReference(t,e,r){let n=r.get("altitudeMode");void 0===n&&(n=e.get("altitudeMode")),void 0===n&&(n=t.get("altitudeMode"));let i=Cesium.HeightReference.NONE;return"clampToGround"===n?i=Cesium.HeightReference.CLAMP_TO_GROUND:"relativeToGround"===n&&(i=Cesium.HeightReference.RELATIVE_TO_GROUND),i}createBillboardFromImage(t,e,r,n,i,o,a,s){o instanceof G.Z&&o.load();const u=o.getImage(1),h=function(){if(!u)return;if(!(u instanceof HTMLCanvasElement||u instanceof Image||u instanceof HTMLImageElement))return;const n=r.getCoordinates(),l=C.ol4326CoordinateToCesiumCartesian(n);let c;const h=o.getOpacity();void 0!==h&&(c=new Cesium.Color(1,1,1,h));const p=o.getScale(),d=this.getHeightReference(t,e,r),f={image:u,color:c,scale:p,heightReference:d,position:l};if(o instanceof G.Z){const t=o.getAnchor();t&&(f.pixelOffset=new Cesium.Cartesian2((u.width/2-t[0])*p,(u.height/2-t[1])*p))}const g=this.csAddBillboard(a,f,t,e,r,i);s&&s(g)}.bind(this);if(u instanceof Image&&!function(t){return""!=t.src&&0!=t.naturalHeight&&0!=t.naturalWidth&&t.complete}(u)){let r=!1;const n=t.getSource(),i=function(){r=!0};n.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);let o=c.obj(n).olcs_cancellers;o||(o=c.obj(n).olcs_cancellers={});const s=l(e);o[s]&&o[s](),o[s]=i;const p=function(){u.removeEventListener("load",p),a.isDestroyed()||r||h()};u.addEventListener("load",p)}else h()}olPointGeometryToCesium(t,e,r,n,i,o,a){console.assert("Point"==r.getType()),r=C.olGeometryCloneTo4326(r,n);let s=null;const l=i.getImage();if(l){const u=r.get("olcs_model")||e.get("olcs_model");if(u){const t=u(),e=Object.assign({},{scene:this.scene},t.cesiumOptions),r=Cesium.Model.fromGltf(e);s=new Cesium.PrimitiveCollection,s.add(r),t.debugModelMatrix&&s.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:t.debugModelMatrix}))}else this.createBillboardFromImage(t,e,r,n,i,l,o,a)}return i.getText()?this.addTextStyle(t,e,r,i,s||new Cesium.Primitive):s}olMultiGeometryToCesium(t,e,r,n,i,o,a){const s=function(r,o){const a=new Cesium.PrimitiveCollection;return r.forEach((r=>{a.add(o(t,e,r,n,i))})),a};let l;switch(r.getType()){case"MultiPoint":if(l=r.getPoints(),i.getText()){const r=new Cesium.PrimitiveCollection;return l.forEach((s=>{console.assert(s);const l=this.olPointGeometryToCesium(t,e,s,n,i,o,a);l&&r.add(l)})),r}return l.forEach((r=>{console.assert(r),this.olPointGeometryToCesium(t,e,r,n,i,o,a)})),null;case"MultiLineString":return l=r.getLineStrings(),s(l,this.olLineStringGeometryToCesium.bind(this));case"MultiPolygon":return l=r.getPolygons(),s(l,this.olPolygonGeometryToCesium.bind(this));default:console.assert(!1,`Unhandled multi geometry type${r.getType()}`)}}olGeometry4326TextPartToCesium(t,e,r,n){const i=n.getText();if(!i)return null;const o=new Cesium.LabelCollection({scene:this.scene}),a=(0,U.getCenter)(r.getExtent());if(r instanceof B.ZP){const t=r.getFirstCoordinate();a[2]=3==t.length?t[2]:0}const s={};s.position=C.ol4326CoordinateToCesiumCartesian(a),s.text=i,s.heightReference=this.getHeightReference(t,e,r);const l=n.getOffsetX(),u=n.getOffsetY();if(0!=l&&0!=u){const t=new Cesium.Cartesian2(l,u);s.pixelOffset=t}let c,h;switch(s.font=n.getFont()||"10px sans-serif",n.getFill()&&(s.fillColor=this.extractColorFromOlStyle(n,!1),c=Cesium.LabelStyle.FILL),n.getStroke()&&(s.outlineWidth=this.extractLineWidthFromOlStyle(n),s.outlineColor=this.extractColorFromOlStyle(n,!0),c=Cesium.LabelStyle.OUTLINE),n.getFill()&&n.getStroke()&&(c=Cesium.LabelStyle.FILL_AND_OUTLINE),s.style=c,n.getTextAlign()){case"left":h=Cesium.HorizontalOrigin.LEFT;break;case"right":h=Cesium.HorizontalOrigin.RIGHT;break;default:h=Cesium.HorizontalOrigin.CENTER}if(s.horizontalOrigin=h,n.getTextBaseline()){let t;switch(n.getTextBaseline()){case"top":case"alphabetic":t=Cesium.VerticalOrigin.TOP;break;case"middle":t=Cesium.VerticalOrigin.CENTER;break;case"bottom":case"hanging":t=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(!1,`unhandled baseline ${n.getTextBaseline()}`)}s.verticalOrigin=t}const p=o.add(s);return this.setReferenceForPicking(t,e,p),o}olStyleToCesium(t,e,r){const n=e.getFill(),i=e.getStroke();if(r&&!i||!r&&!n)return null;let o=r?i.getColor():n.getColor();return o=C.convertColorToCesium(o),r&&i.getLineDash()?Cesium.Material.fromType("Stripe",{horizontal:!1,repeat:500,evenColor:o,oddColor:new Cesium.Color(0,0,0,0)}):Cesium.Material.fromType("Color",{color:o})}computePlainStyle(t,e,r,n){const i=e.getStyleFunction();let o=null;return i&&(o=i(e,n)),!o&&r&&(o=r(e,n)),o?Array.isArray(o)?o:[o]:null}getGeometryFromFeature(t,e,r){if(r)return r;const n=t.get("olcs.3d_geometry");if(n&&n instanceof D.Z)return n;if(e){const r=e.getGeometryFunction()(t);if(r instanceof D.Z)return r}return t.getGeometry()}olFeatureToCesium(t,e,r,n,i){let o=this.getGeometryFromFeature(e,r,i);if(!o)return null;const a=n.projection,s=function(t){const r=n.featureToCesiumMap[l(e)];r instanceof Array?r.push(t):n.featureToCesiumMap[l(e)]=[t]};switch(o.getType()){case"GeometryCollection":const i=new Cesium.PrimitiveCollection;return o.getGeometries().forEach((o=>{if(o){const a=this.olFeatureToCesium(t,e,r,n,o);a&&i.add(a)}})),i;case"Point":const l=n.billboards,u=this.olPointGeometryToCesium(t,e,o,a,r,l,s);return u||null;case"Circle":return this.olCircleGeometryToCesium(t,e,o,a,r);case"LineString":return this.olLineStringGeometryToCesium(t,e,o,a,r);case"Polygon":return this.olPolygonGeometryToCesium(t,e,o,a,r);case"MultiPoint":case"MultiLineString":case"MultiPolygon":const c=this.olMultiGeometryToCesium(t,e,o,a,r,n.billboards,s);return c||null;case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error(`Ol geom type not handled : ${o.getType()}`)}}olVectorLayerToCesium(t,e,r){const n=e.getProjection(),i=e.getResolution();if(void 0===i||!n)throw console.assert(!1,"View not ready"),new Error("View not ready");let o=t.getSource();o instanceof N.Z&&(o=o.getSource()),console.assert(o instanceof A.Z);const a=o.getFeatures(),s=new q(n,this.scene),u=s.context;for(let e=0;e<a.length;++e){const n=a[e];if(!n)continue;const o=t.getStyleFunction(),c=this.computePlainStyle(t,n,o,i);if(!c||!c.length)continue;let h=null;for(let e=0;e<c.length;e++){const r=this.olFeatureToCesium(t,n,c[e],u);if(r)if(h){if(r){let t,e=0;for(;t=r.get(e);)h.add(t),e++}}else h=r}h&&(r[l(n)]=h,s.getRootPrimitive().add(h))}return s}convert(t,e,r,n){const i=e.getProjection(),o=e.getResolution();if(null==o||!i)return null;const a=t.getStyleFunction(),s=this.computePlainStyle(t,r,a,o);if(!s||!s.length)return null;n.projection=i;let l=null;for(let e=0;e<s.length;e++){const i=this.olFeatureToCesium(t,r,s[e],n);if(l){if(i){let t,e=0;for(;t=i.get(e);)l.add(t),e++}}else l=i}return l}};const Y=class extends L{constructor(t,e,r){super(t,e),this.converter=r||new V(e),this.csAllPrimitives_=new Cesium.PrimitiveCollection,e.primitives.add(this.csAllPrimitives_),this.csAllPrimitives_.destroyPrimitives=!1}addCesiumObject(t){console.assert(t),t.getRootPrimitive().counterpart=t,this.csAllPrimitives_.add(t.getRootPrimitive())}destroyCesiumObject(t){t.getRootPrimitive().destroy()}removeSingleCesiumObject(t,e){t.destroy(),this.csAllPrimitives_.destroyPrimitives=e,this.csAllPrimitives_.remove(t.getRootPrimitive()),this.csAllPrimitives_.destroyPrimitives=!1}removeAllCesiumObjects(t){if(this.csAllPrimitives_.destroyPrimitives=t,t)for(let t=0;t<this.csAllPrimitives_.length;++t)this.csAllPrimitives_.get(t).counterpart.destroy();this.csAllPrimitives_.removeAll(),this.csAllPrimitives_.destroyPrimitives=!1}updateLayerVisibility(t,e){let r=!0;[t.layer].concat(t.parents).forEach((t=>{const e=t.getVisible();void 0!==e?r&=e:r=!1})),e.show=r}createSingleLayerCounterparts(t){const e=t.layer;if(!(e instanceof Z.Z)||e instanceof j.default)return null;console.assert(e instanceof F.Z);let r=e.getSource();if(r instanceof N.Z&&(r=r.getSource()),!r)return null;console.assert(r instanceof A.Z),console.assert(this.view);const n=this.view,i={},o=this.converter.olVectorLayerToCesium(e,n,i),s=o.getRootPrimitive(),u=o.olListenKeys;[t.layer].concat(t.parents).forEach((e=>{u.push(a(e,"change:visible",(()=>{this.updateLayerVisibility(t,s)})))})),this.updateLayerVisibility(t,s);const c=function(t){console.assert(e instanceof Z.Z||e instanceof d.Z);const r=o.context,a=this.converter.convert(e,n,t,r);a&&(i[l(t)]=a,s.add(a))}.bind(this),h=function(t){const e=l(t),r=o.context,n=r.featureToCesiumMap[e];n&&(delete r.featureToCesiumMap[e],n.forEach((t=>{t instanceof Cesium.Billboard&&r.billboards.remove(t)})));const a=i[e];delete i[e],a&&s.remove(a)}.bind(this);return u.push(a(r,"addfeature",(t=>{console.assert(t.feature),c(t.feature)}))),u.push(a(r,"removefeature",(t=>{console.assert(t.feature),h(t.feature)}))),u.push(a(r,"changefeature",(t=>{const e=t.feature;console.assert(e),h(e),c(e)}))),o?[o]:null}};var W=r(32246);class X extends W.Z{constructor(t){const e=t.parent;super(e.getOptions()),this.scenePostRenderListenerRemover_=null,this.scene_=t.scene,this.synchronizer_=t.synchronizer,this.parent_=e,this.positionWGS84_=void 0,this.observer_=new MutationObserver(this.handleElementChanged.bind(this)),this.attributeObserver_=[],this.listenerKeys_=[];const r=t=>this.setPropertyFromEvent_(t);this.listenerKeys_.push(this.parent_.on("change:position",r)),this.listenerKeys_.push(this.parent_.on("change:element",r)),this.listenerKeys_.push(this.parent_.on("change:offset",r)),this.listenerKeys_.push(this.parent_.on("change:position",r)),this.listenerKeys_.push(this.parent_.on("change:positioning",r)),this.setProperties(this.parent_.getProperties()),this.handleMapChanged(),this.handleElementChanged()}observeTarget_(t){if(this.observer_){this.observer_.disconnect(),this.observer_.observe(t,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),this.attributeObserver_.forEach((t=>{t.disconnect()})),this.attributeObserver_.length=0;for(let e=0;e<t.childNodes.length;e++){const r=t.childNodes[e];if(1===r.nodeType){const t=new MutationObserver(this.handleElementChanged.bind(this));t.observe(r,{attributes:!0,subtree:!0}),this.attributeObserver_.push(t)}}}}setPropertyFromEvent_(t){t.target&&t.key&&this.set(t.key,t.target.get(t.key))}getScene(){return this.scene_}handleMapChanged(){var t;this.scenePostRenderListenerRemover_&&(this.scenePostRenderListenerRemover_(),(t=this.element)&&t.parentNode&&t.parentNode.removeChild(t)),this.scenePostRenderListenerRemover_=null;const e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this)),this.updatePixelPosition();const t=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}}handlePositionChanged(){const t=this.getPosition();if(t){const e=this.parent_.getMap().getView().getProjection();this.positionWGS84_=(0,i.transform)(t,e,"EPSG:4326")}else this.positionWGS84_=void 0;this.updatePixelPosition()}handleElementChanged(){function t(e,r){const n=e.cloneNode();r&&r.appendChild(n),e.nodeType!=Node.TEXT_NODE&&n.addEventListener("click",(t=>{e.dispatchEvent(new MouseEvent("click",t)),t.stopPropagation()}));const i=e.childNodes;for(let e=0;e<i.length;e++)i[e]&&t(i[e],n);return n}!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.element);const e=this.getElement();if(e&&e.parentNode&&e.parentNode.childNodes)for(const r of e.parentNode.childNodes){const e=t(r,null);this.element.appendChild(e)}e.parentNode&&this.observeTarget_(e.parentNode)}updatePixelPosition(){const t=this.positionWGS84_;if(!this.scene_||!t)return void this.setVisible(!1);let e=0;if(2===t.length){const r=this.scene_.globe.getHeight(Cesium.Cartographic.fromDegrees(t[0],t[1]));r&&this.scene_.globe.tilesLoaded&&(t[2]=r),r&&(e=r)}else e=t[2];const r=Cesium.Cartesian3.fromDegrees(t[0],t[1],e),n=this.scene_.camera,i=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);if(!new Cesium.Occluder(i,n.position).isPointVisible(r))return void this.setVisible(!1);if(1!==n.frustum.computeCullingVolume(n.position,n.direction,n.up).computeVisibility(new Cesium.BoundingSphere(r)))return void this.setVisible(!1);this.setVisible(!0);const o=this.scene_.cartesianToCanvasCoordinates(r),a=[o.x,o.y],s=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(a,s)}destroy(){this.scenePostRenderListenerRemover_&&this.scenePostRenderListenerRemover_(),this.observer_&&this.observer_.disconnect(),(0,T.unByKey)(this.listenerKeys_),this.listenerKeys_.splice(0),this.element.removeNode?this.element.removeNode(!0):this.element.remove(),this.element=null}}const H=X;const K=class{constructor(t,e){this.map=t,this.overlays_=this.map.getOverlays(),this.scene=e,this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"].forEach((t=>{this.overlayContainerStopEvent_.addEventListener(t,(t=>t.stopPropagation()))})),this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_),this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.scene.canvas.parentElement.appendChild(this.overlayContainer_),this.overlayMap_={}}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOverlayContainer(){return this.overlayContainer_}synchronize(){this.destroyAll(),this.addOverlays(),this.overlays_.on("add",this.addOverlayFromEvent_.bind(this)),this.overlays_.on("remove",this.removeOverlayFromEvent_.bind(this))}addOverlayFromEvent_(t){const e=t.element;this.addOverlay(e)}addOverlays(){this.overlays_.forEach((t=>{this.addOverlay(t)}))}addOverlay(t){if(!t)return;const e=new H({scene:this.scene,synchronizer:this,parent:t}),r=l(t).toString();this.overlayMap_[r]=e}removeOverlayFromEvent_(t){const e=t.element;this.removeOverlay(e)}removeOverlay(t){const e=l(t).toString(),r=this.overlayMap_[e];r&&(r.destroy(),delete this.overlayMap_[e])}destroyAll(){Object.keys(this.overlayMap_).forEach((t=>{this.overlayMap_[t].destroy(),delete this.overlayMap_[t]}))}};class J{constructor(t){this.autoRenderLoop_=null,this.map_=t.map,this.time_=t.time||function(){return Cesium.JulianDate.now()},this.to4326Transform_=(0,i.getTransform)(this.map_.getView().getProjection(),"EPSG:4326"),this.resolutionScale_=1,this.canvasClientWidth_=0,this.canvasClientHeight_=0,this.resolutionScaleChanged_=!0;const e="position:absolute;top:0;left:0;width:100%;height:100%;";this.container_=document.createElement("DIV");const r=document.createAttribute("style");r.value=`${e}visibility:hidden;`,this.container_.setAttributeNode(r);let n=t.target||null;if(n)"string"==typeof n&&(n=document.getElementById(n)),n.appendChild(this.container_);else{const t=this.map_.getViewport().querySelector(".ol-overlaycontainer-stopevent");t.insertBefore(this.container_,t.firstChild)}if(this.isOverMap_=!n,this.isOverMap_&&t.stopOpenLayersEventsPropagation){const t=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];for(let e=0,r=t.length;e<r;++e)this.container_.addEventListener(t[e],(t=>t.stopPropagation()))}this.canvas_=document.createElement("CANVAS");const o=document.createAttribute("style");o.value=e,this.canvas_.setAttributeNode(o),c.supportsImageRenderingPixelated()&&(this.canvas_.style.imageRendering=c.imageRenderingValue()),this.canvas_.oncontextmenu=function(){return!1},this.canvas_.onselectstart=function(){return!1},this.container_.appendChild(this.canvas_),this.enabled_=!1,this.pausedInteractions_=[],this.hiddenRootGroup_=null;const a=void 0!==t.sceneOptions?t.sceneOptions:{};a.canvas=this.canvas_,a.scene3DOnly=!0,this.scene_=new Cesium.Scene(a);const s=this.scene_.screenSpaceCameraController;s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT}),s.enableLook=!1,this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.camera_=new R(this.scene_,this.map_),this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.globe_.baseColor=Cesium.Color.WHITE,this.scene_.globe=this.globe_,this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;const l=new Cesium.SingleTileImageryProvider({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(l,0),this.dataSourceCollection_=new Cesium.DataSourceCollection,this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_});const u=t.createSynchronizers?t.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new k(this.map_,this.scene_),new Y(this.map_,this.scene_),new K(this.map_,this.scene_)];this.handleResize_();for(let t=u.length-1;t>=0;--t)u[t].synchronize();this.lastFrameTime_=0,this.renderId_=void 0,this.targetFrameRate_=Number.POSITIVE_INFINITY,this.blockCesiumRendering_=!1,this.warmingUp_=!1,this.trackedFeature_=null,this.trackedEntity_=null,this.entityView_=null,this.needTrackedEntityUpdate_=!1,this.boundingSphereScratch_=new Cesium.BoundingSphere;(new Cesium.EventHelper).add(this.scene_.postRender,J.prototype.updateTrackedEntity_,this),Cesium.Camera.enableSuspendTerrainAdjustment=!1}render_(){void 0!==this.renderId_&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0),!this.enabled_&&!this.warmingUp_||this.blockCesiumRendering_||(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))}onAnimationFrame_(t){this.renderId_=void 0;const e=1e3/this.targetFrameRate_;if(t-this.lastFrameTime_<e)return void this.render_();this.lastFrameTime_=t;const r=this.time_();if(this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(r),this.entityView_){const t=this.trackedEntity_;this.dataSourceDisplay_.getBoundingSphere(t,!1,this.boundingSphereScratch_)===Cesium.BoundingSphereState.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(r,this.boundingSphereScratch_))}this.scene_.render(r),this.camera_.checkCameraChange(),this.render_()}updateTrackedEntity_(){if(!this.needTrackedEntityUpdate_)return;const t=this.trackedEntity_,e=this.scene_,r=this.dataSourceDisplay_.getBoundingSphere(t,!1,this.boundingSphereScratch_);if(r===Cesium.BoundingSphereState.PENDING)return;e.screenSpaceCameraController.enableTilt=!1;const n=r!==Cesium.BoundingSphereState.FAILED?this.boundingSphereScratch_:void 0;n&&(n.radius=1),this.entityView_=new Cesium.EntityView(t,e,e.mapProjection.ellipsoid),this.entityView_.update(this.time_(),n),this.needTrackedEntityUpdate_=!1}handleResize_(){let t=this.canvas_.clientWidth,e=this.canvas_.clientHeight;if(0===t|0===e)return;if(t===this.canvasClientWidth_&&e===this.canvasClientHeight_&&!this.resolutionScaleChanged_)return;let r=this.resolutionScale_;c.supportsImageRenderingPixelated()||(r*=window.devicePixelRatio||1),this.resolutionScaleChanged_=!1,this.canvasClientWidth_=t,this.canvasClientHeight_=e,t*=r,e*=r,this.canvas_.width=t,this.canvas_.height=e,this.scene_.camera.frustum.aspectRatio=t/e}getCamera(){return this.camera_}getOlMap(){return this.map_}getOlView(){const t=this.map_.getView();return console.assert(t),t}getCesiumScene(){return this.scene_}getDataSources(){return this.dataSourceCollection_}getDataSourceDisplay(){return this.dataSourceDisplay_}getEnabled(){return this.enabled_}setEnabled(t){if(this.enabled_===t)return;let e;if(this.enabled_=t,this.container_.style.visibility=this.enabled_?"visible":"hidden",this.enabled_){if(this.throwOnUnitializedMap_(),this.isOverMap_){e=this.map_.getInteractions(),e.forEach(((t,e,r)=>{this.pausedInteractions_.push(t)})),e.clear(),this.map_.addInteraction=t=>this.pausedInteractions_.push(t),this.map_.removeInteraction=t=>this.pausedInteractions_=this.pausedInteractions_.filter((e=>e!==t));const t=this.map_.getLayerGroup();t.getVisible()&&(this.hiddenRootGroup_=t,this.hiddenRootGroup_.setVisible(!1)),this.map_.getOverlayContainer().classList.add("olcs-hideoverlay")}this.camera_.readFromView(),this.render_()}else this.isOverMap_&&(e=this.map_.getInteractions(),this.pausedInteractions_.forEach((t=>{e.push(t)})),this.pausedInteractions_.length=0,this.map_.addInteraction=t=>this.map_.getInteractions().push(t),this.map_.removeInteraction=t=>this.map_.getInteractions().remove(t),this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay"),this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()}warmUp(t,e){if(this.enabled_)return;this.throwOnUnitializedMap_(),this.camera_.readFromView();const r=this.globe_.ellipsoid,n=this.scene_.camera,i=r.cartesianToCartographic(n.position);i.height<t&&(i.height=t,n.position=r.cartographicToCartesian(i)),this.warmingUp_=!0,this.render_(),setTimeout((()=>{this.warmingUp_=!1}),e)}setBlockCesiumRendering(t){this.blockCesiumRendering_!==t&&(this.blockCesiumRendering_=t,this.render_())}enableAutoRenderLoop(){this.autoRenderLoop_||(this.autoRenderLoop_=new S(this))}getAutoRenderLoop(){return this.autoRenderLoop_}setResolutionScale(t){(t=Math.max(0,t))!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,t),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())}setTargetFrameRate(t){this.targetFrameRate_!==t&&(this.targetFrameRate_=t,this.render_())}throwOnUnitializedMap_(){const t=this.map_.getView(),e=t.getCenter();if(!t.isDef()||isNaN(e[0])||isNaN(e[1]))throw new Error(`The OpenLayers map is not properly initialized: ${e} / ${t.getResolution()}`)}get trackedFeature(){return this.trackedFeature_}set trackedFeature(t){if(this.trackedFeature_!==t){const e=this.scene_;if(!t||!t.getGeometry())return this.needTrackedEntityUpdate_=!1,e.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.trackedEntity_=null,this.trackedFeature_=null,this.entityView_=null,void e.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);this.trackedFeature_=t,this.needTrackedEntityUpdate_=!0;const r=this.to4326Transform_,i=function(){const e=t.getGeometry();console.assert(e instanceof n.Z);const i=e.getCoordinates(),o=r(i,void 0,i.length);return C.ol4326CoordinateToCesiumCartesian(o)},o={position:new Cesium.CallbackProperty(((t,e)=>i()),!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(o)}}}const $=J},42708:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var n=r(46982),i=r(23113),o=r(36850),a=r(2309),s=function(t){var e={attributions:t.attributions,logo:t.logo,projection:t.projection};this.center=t.imageCenter,this.scale=t.imageScale,this.rotate=t.imageRotate?t.imageRotate:0,this.crop=t.imageCrop,this.mask=t.imageMask,this._image=t.image?t.image:new Image,this._image.crossOrigin=t.crossOrigin;var r=this;this._image.onload=function(){r.setCrop(r.crop),r.changed()},t.image||(this._image.src=t.url),e.canvasFunction=function(t,e,r,n){var i=document.createElement("canvas");i.width=n[0],i.height=n[1];var o=i.getContext("2d");if(!this._imageSize)return i;function a(e){return[(e[0]-t[0])/(t[2]-t[0])*n[0],(e[1]-t[3])/(t[1]-t[3])*n[1]]}if(this.mask){o.beginPath();var s=a(this.mask[0]);o.moveTo(s[0],s[1]);for(var l=1;l<this.mask.length;l++)s=a(this.mask[l]),o.lineTo(s[0],s[1]);o.clip()}var u=a(this.center),c=(this._image.naturalWidth/2-this.crop[0])*this.scale[0]/e*r,h=(this._image.naturalHeight/2-this.crop[1])*this.scale[1]/e*r,p=this._imageSize[0]*this.scale[0]/e*r,d=this._imageSize[1]*this.scale[1]/e*r;return o.translate(u[0],u[1]),this.rotate&&o.rotate(this.rotate),o.drawImage(this._image,this.crop[0],this.crop[1],this._imageSize[0],this._imageSize[1],-c,-h,p,d),i},i.Z.call(this,e),this.setCrop(this.crop),this.on("change",function(){this.set("extent",this.calculateExtent())}.bind(this))};(0,n.Z)(s,i.Z),s.prototype.getCenter=function(){return this.center},s.prototype.setCenter=function(t){this.center=t,this.changed()},s.prototype.getScale=function(){return this.scale},s.prototype.setScale=function(t){switch(typeof t){case"number":t=[t,t];break;case"object":if(2!=t.length)return;break;default:return}this.scale=t,this.changed()},s.prototype.getRotation=function(){return this.rotate},s.prototype.setRotation=function(t){this.rotate=t,this.changed()},s.prototype.getGeoImage=function(){return this._image},s.prototype.getCrop=function(){return this.crop},s.prototype.setMask=function(t){this.mask=t,this.changed()},s.prototype.getMask=function(){return this.mask},s.prototype.setCrop=function(t){if(this._image.naturalWidth){if(t){switch(typeof t){case"number":t=[t,t,this._image.naturalWidth-t,this._image.naturalHeight-t];break;case"object":if(4!=t.length)return;break;default:return}t=(0,a.boundingExtent)([[t[0],t[1]],[t[2],t[3]]]),this.crop=[Math.max(0,t[0]),Math.max(0,t[1]),Math.min(this._image.naturalWidth,t[2]),Math.min(this._image.naturalHeight,t[3])]}else this.crop=[0,0,this._image.naturalWidth,this._image.naturalHeight];this.crop[2]<=this.crop[0]&&(this.crop[2]=this.crop[0]+1),this.crop[3]<=this.crop[1]&&(this.crop[3]=this.crop[1]+1),this._imageSize=[this.crop[2]-this.crop[0],this.crop[3]-this.crop[1]],this.changed()}else this.crop=t},s.prototype.getExtent=function(t){if(t){for(var e=this.get("extent"),r=0;r<t.length;r++)t[r]=e[r];return e}return this.get("extent")},s.prototype.calculateExtent=function(t){var e;if(!1!==t&&this.getMask())e=new o.ZP([this.getMask()]);else{var r=this.getCenter(),n=this.getScale(),i=this.getGeoImage().width*n[0],s=this.getGeoImage().height*n[1],l=(0,a.boundingExtent)([[r[0]-i/2,r[1]-s/2],[r[0]+i/2,r[1]+s/2]]);(e=(0,o.oJ)(l)).rotate(-this.getRotation(),r)}return e.getExtent()};const l=s},1398:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var n=r(46982),i=r(6443),o=r(35295),a=r(86650),s=function(t){t=t||{},this.sanchor_="anchored"==t.kind?8:0,this.shadow_=Number(t.shadow)||0,t.stroke||(t.stroke=new a.Z({width:0,color:"#000"}));var e=t.stroke.getWidth();if(e<0&&(e=0),"folio"==t.kind&&(e+=6),t.stroke.setWidth(e),i.Z.call(this,{radius:t.radius+e+this.sanchor_/2+this.shadow_/2,points:0}),!this.hitDetectionCanvas_){var r=this.getImage();for(var n in this)if(this[n]&&this[n].getContext&&this[n]!==r){this.hitDetectionCanvas_=this[n];break}}this.hitDetectionCanvas_=document.createElement("canvas"),this.hitDetectionCanvas_.width=this.getImage().width,this.hitDetectionCanvas_.height=this.getImage().height,this.stroke_=t.stroke,this.fill_=t.fill,this.crop_=t.crop,this.crossOrigin_=t.crossOrigin,this.kind_=t.kind||"default",this.radius_=t.radius,this.src_=t.src,this.offset_=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],this.onload_=t.onload,"number"==typeof t.opacity&&this.setOpacity(t.opacity),"number"==typeof t.rotation&&this.setRotation(t.rotation),this.renderPhoto_()};(0,n.Z)(s,i.Z),s.prototype.clone=function(){return new s({stroke:this.stroke_,fill:this.fill_,shadow:this.shadow_,crop:this.crop_,crossOrigin:this.crossOrigin_,kind:this.kind_,radius:this.radius_,src:this.src_,offsetX:this.offset_[0],offsetY:this.offset_[1],opacity:this.getOpacity(),rotation:this.getRotation()})},CanvasRenderingContext2D.prototype.roundRect=function(t,e,r,n,i){return i?(r<2*i&&(i=r/2),n<2*i&&(i=n/2),this.beginPath(),this.moveTo(t+i,e),this.arcTo(t+r,e,t+r,e+n,i),this.arcTo(t+r,e+n,t,e+n,i),this.arcTo(t,e+n,t,e,i),this.arcTo(t,e,t+r,e,i),this.closePath()):this.rect(t,e,r,n),this},s.prototype.drawBack_=function(t,e,r){var n=t.canvas;switch(t.beginPath(),t.fillStyle=e,t.clearRect(0,0,n.width,n.height),this.kind_){case"square":t.rect(0,0,n.width-this.shadow_,n.height-this.shadow_);break;case"circle":t.arc(this.radius_+r,this.radius_+r,this.radius_+r,0,2*Math.PI,!1);break;case"folio":r-=6,t.strokeStyle="rgba(0,0,0,0.5)";var i=n.width-this.shadow_-12,o=Math.atan(6/i);t.save(),t.rotate(-o),t.translate(-6,2),t.beginPath(),t.rect(6,6,i,i),t.stroke(),t.fill(),t.restore(),t.save(),t.translate(6,-1),t.rotate(o),t.beginPath(),t.rect(6,6,i,i),t.stroke(),t.fill(),t.restore(),t.beginPath(),t.rect(6,6,i,i),t.stroke();break;case"anchored":t.roundRect(this.sanchor_/2,0,n.width-this.sanchor_-this.shadow_,n.height-this.sanchor_-this.shadow_,r),t.moveTo(n.width/2-this.sanchor_-this.shadow_/2,n.height-this.sanchor_-this.shadow_),t.lineTo(n.width/2+this.sanchor_-this.shadow_/2,n.height-this.sanchor_-this.shadow_),t.lineTo(n.width/2-this.shadow_/2,n.height-this.shadow_);break;default:t.roundRect(0,0,n.width-this.shadow_,n.height-this.shadow_,r)}t.closePath()},s.prototype.renderPhoto_=function(){var t,e=0;this.stroke_&&(t=(0,o.XC)(this.stroke_.getColor()),e=this.stroke_.getWidth());var r=this.getImage(),n=this.hitDetectionCanvas_.getContext("2d");this.drawBack_(n,"#000",e),n.fill(),n=r.getContext("2d"),this.drawBack_(n,t,e),this.shadow_&&(n.shadowColor="rgba(0,0,0,0.5)",n.shadowBlur=this.shadow_/2,n.shadowOffsetX=this.shadow_/2,n.shadowOffsetY=this.shadow_/2),n.fill(),n.shadowColor="transparent";var i=this,a=this.img_=new Image;this.crossOrigin_&&(a.crossOrigin=this.crossOrigin_),a.src=this.src_,a.width?i.drawImage_(a):a.onload=function(){i.drawImage_(a),i.onload_&&i.onload_()};var s=this.getAnchor();s[0]=(r.width-this.shadow_)/2,s[1]=(r.height-this.shadow_)/2,this.sanchor_&&(s[1]=r.height-this.shadow_)},s.prototype.drawImage_=function(t){var e=this.getImage().getContext("2d"),r=0;this.stroke_&&(r=this.stroke_.getWidth());var n,i,a,s,l,u,c,h,p,d=2*this.radius_;e.save(),"circle"==this.kind_&&(e.beginPath(),e.arc(this.radius_+r,this.radius_+r,this.radius_,0,2*Math.PI,!1),e.clip()),this.crop_?(h=p=(n=Math.min(t.width/d,t.height/d))*d,u=(t.width-h)/2,c=(t.height-p)/2,i=a=0,s=l=d+1):(u=c=0,i=(d-(s=(n=Math.min(d/t.width,d/t.height))*(h=t.width)))/2,a=(d-(l=n*(p=t.height)))/2),i+=r+this.sanchor_/2,a+=r,e.drawImage(t,u,c,h,p,i,a,s,l),e.restore(),"circle"==this.kind_&&r&&(e.beginPath(),e.strokeStyle=(0,o.XC)(this.stroke_.getColor()),e.lineWidth=r/4,e.arc(this.radius_+r,this.radius_+r,this.radius_,0,2*Math.PI,!1),e.stroke())};const l=s},46982:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i}),window.ol&&!ol.ext&&(ol.ext={});var n=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=n)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});const i=n},28342:(t,e,r)=>{"use strict";r.r(e),r.d(e,{_finalizeLayer:()=>ni,_getFonts:()=>Bn,apply:()=>ri,applyBackground:()=>Kn,applyStyle:()=>Wn,default:()=>ei,getLayer:()=>ii,getLayers:()=>oi,getSource:()=>ai});var n=r(94122),i=r.n(n),o=r(57911),a=r(18085),s=r(86650),l=r(3806),u=r(31179),c=r(36301),h=r(15955),p={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0"},"data-driven styling":{js:"1.2.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0"},"data-driven styling":{js:"1.2.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0"},"data-driven styling":{js:"1.2.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key when they overlap. Features with a lower sort key will have priority over other features when doing placement.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"If `symbol-sort-key` is set, sort based on that. Otherwise sort symbols by their y-position relative to the viewport."},"viewport-y":{doc:"Symbols will be sorted by their y-position relative to the viewport."},source:{doc:"Symbols will be rendered in the same order as the source data with no sorting applied."}},default:"auto",doc:"Controls the order in which overlapping symbols in the same layer are rendered","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n * a single literal value; or\n * an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\n\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:"Returns `formatted` text containing annotations for use in mixed-format `text-field` entries. For a `text-field` entries of a string type, following option object's properties are supported: If set, the `text-font` value overrides the font specified by the root layout properties. If set, the `font-scale` value specifies a scaling factor relative to the `text-size` specified in the root layout properties. If set, the `text-color` value overrides the color specified by the root paint properties for this layer.",group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}};var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function f(t,e){return t(e={exports:{}},e.exports),e.exports}var g=f((function(t,e){!function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,o="object"==typeof d&&d;o.global!==o&&o.window!==o&&o.self!==o||(r=o);var a,s,l=2147483647,u=36,c=/^xn--/,h=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,m=String.fromCharCode;function y(t){throw RangeError(f[t])}function v(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function _(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+v((t=t.replace(p,".")).split("."),e).join(".")}function b(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function x(t){return v(t,(function(t){var e="";return t>65535&&(e+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=m(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,r){var n=0;for(t=r?g(t/700):t>>1,t+=g(t/e);t>455;n+=u)t=g(t/35);return g(n+36*t/(t+38))}function C(t){var e,r,n,i,o,a,s,c,h,p,d,f=[],m=t.length,v=0,_=128,b=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&y("not-basic"),f.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=v,a=1,s=u;i>=m&&y("invalid-input"),((c=(d=t.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u)>=u||c>g((l-v)/a))&&y("overflow"),v+=c*a,!(c<(h=s<=b?1:s>=b+26?26:s-b));s+=u)a>g(l/(p=u-h))&&y("overflow"),a*=p;b=E(v-o,e=f.length+1,0==o),g(v/e)>l-_&&y("overflow"),_+=g(v/e),v%=e,f.splice(v++,0,_)}return x(f)}function S(t){var e,r,n,i,o,a,s,c,h,p,d,f,v,_,x,C=[];for(f=(t=b(t)).length,e=128,r=0,o=72,a=0;a<f;++a)(d=t[a])<128&&C.push(m(d));for(n=i=C.length,i&&C.push("-");n<f;){for(s=l,a=0;a<f;++a)(d=t[a])>=e&&d<s&&(s=d);for(s-e>g((l-r)/(v=n+1))&&y("overflow"),r+=(s-e)*v,e=s,a=0;a<f;++a)if((d=t[a])<e&&++r>l&&y("overflow"),d==e){for(c=r,h=u;!(c<(p=h<=o?1:h>=o+26?26:h-o));h+=u)x=c-p,_=u-p,C.push(m(w(p+x%_,0))),c=g(x/_);C.push(m(w(c,0))),o=E(r,v,n==i),r=0,++n}++r,++e}return C.join("")}if(a={version:"1.3.2",ucs2:{decode:b,encode:x},decode:C,encode:S,toASCII:function(t){return _(t,(function(t){return h.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return _(t,(function(t){return c.test(t)?C(t.slice(4).toLowerCase()):t}))}},n&&i)if(t.exports==n)i.exports=a;else for(s in a)a.hasOwnProperty(s)&&(n[s]=a[s]);else r.punycode=a}(d)})),m=function(t){return"string"==typeof t},y=function(t){return"object"==typeof t&&null!==t},v=function(t){return null===t},_=function(t){return null==t};function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var x=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=t.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,c,h,p,d=t[l].replace(o,"%20"),f=d.indexOf(r);f>=0?(u=d.substr(0,f),c=d.substr(f+1)):(u=d,c=""),h=decodeURIComponent(u),p=decodeURIComponent(c),b(i,h)?Array.isArray(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i},w=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},E=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var i=encodeURIComponent(w(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return i+encodeURIComponent(w(t))})).join(e):i+encodeURIComponent(w(t[n]))})).join(e):n?encodeURIComponent(w(n))+r+encodeURIComponent(w(t)):""},C=f((function(t,e){e.decode=e.parse=x,e.encode=e.stringify=E}));C.decode,C.parse,C.encode,C.stringify;function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var T=/^([a-z0-9.+-]+:)/i,P=/:[0-9]*$/,O=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,M=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),R=["'"].concat(M),I=["%","/","?",";","#"].concat(R),L=["/","?","#"],k=/^[+a-z0-9A-Z_-]{0,63}$/,A=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,F={javascript:!0,"javascript:":!0},N={javascript:!0,"javascript:":!0},Z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function j(t,e,r){if(t&&y(t)&&t instanceof S)return t;var n=new S;return n.parse(t,e,r),n}S.prototype.parse=function(t,e,r){if(!m(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(i);if(a=a.trim(),!r&&1===t.split("#").length){var s=O.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?C.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=T.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);!c||l&&N[l]||(a=a.substr(2),this.slashes=!0)}if(!N[l]&&(c||l&&!Z[l])){for(var h,p,d=-1,f=0;f<L.length;f++){-1!==(y=a.indexOf(L[f]))&&(-1===d||y<d)&&(d=y)}-1!==(p=-1===d?a.lastIndexOf("@"):a.lastIndexOf("@",d))&&(h=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(h)),d=-1;for(f=0;f<I.length;f++){var y;-1!==(y=a.indexOf(I[f]))&&(-1===d||y<d)&&(d=y)}-1===d&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var _=this.hostname.split(/\./),b=(f=0,_.length);f<b;f++){var x=_[f];if(x&&!x.match(k)){for(var w="",E=0,S=x.length;E<S;E++)x.charCodeAt(E)>127?w+="x":w+=x[E];if(!w.match(k)){var P=_.slice(0,f),M=_.slice(f+1),j=x.match(A);j&&(P.push(j[1]),M.unshift(j[2])),M.length&&(a="/"+M.join(".")+a),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=g.toASCII(this.hostname));var D=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+D,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!F[u])for(f=0,b=R.length;f<b;f++){var z=R[f];if(-1!==a.indexOf(z)){var U=encodeURIComponent(z);U===z&&(U=escape(z)),a=a.split(z).join(U)}}var B=a.indexOf("#");-1!==B&&(this.hash=a.substr(B),a=a.slice(0,B));var q=a.indexOf("?");if(-1!==q?(this.search=a.substr(q),this.query=a.substr(q+1),e&&(this.query=C.parse(this.query)),a=a.slice(0,q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Z[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var V=this.search||"";this.path=D+V}return this.href=this.format(),this},S.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&y(this.query)&&Object.keys(this.query).length&&(o=C.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Z[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},S.prototype.resolve=function(t){return this.resolveObject(j(t,!1,!0)).format()},S.prototype.resolveObject=function(t){if(m(t)){var e=new S;e.parse(t,!1,!0),t=e}for(var r=new S,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(r[l]=t[l])}return Z[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Z[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||N[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",f=r.search||"";r.path=d+f}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||g||r.host&&t.pathname,x=b,w=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!Z[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===w[0])),y)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!_(t.search)){if(E)r.hostname=r.host=w.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift());return r.search=t.search,r.query=t.query,v(r.pathname)&&v(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=w.slice(-1)[0],T=(r.host||t.host||w.length>1)&&("."===C||".."===C)||""===C,P=0,O=w.length;O>=0;O--)"."===(C=w[O])?w.splice(O,1):".."===C?(w.splice(O,1),P++):P&&(w.splice(O,1),P--);if(!b&&!x)for(;P--;P)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),T&&"/"!==w.join("/").substr(-1)&&w.push("");var M,R=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=R?"":w.length?w.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift()));return(b=b||r.host&&w.length)&&!R&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),v(r.pathname)&&v(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},S.prototype.parseHost=function(){var t=this.host,e=P.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};function D(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,i=e;n<i.length;n+=1){var o=i[n];for(var a in o)t[a]=o[a]}return t}var G=function(t){function e(e,r){t.call(this,r),this.message=r,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),z=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var r=0,n=e;r<n.length;r+=1){var i=n[r],o=i[0],a=i[1];this.bindings[o]=a}};z.prototype.concat=function(t){return new z(this,t)},z.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},z.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var U={kind:"null"},B={kind:"number"},q={kind:"string"},V={kind:"boolean"},Y={kind:"color"},W={kind:"object"},X={kind:"value"},H={kind:"collator"},K={kind:"formatted"},J={kind:"resolvedImage"};function $(t,e){return{kind:"array",itemType:t,N:e}}function Q(t){if("array"===t.kind){var e=Q(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var tt=[U,B,q,V,Y,K,W,$(X),J];function et(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!et(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var r=0,n=tt;r<n.length;r+=1){if(!et(n[r],e))return null}}return"Expected "+Q(t)+" but found "+Q(e)+" instead."}var rt=f((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=i.indexOf("("),u=i.indexOf(")");if(-1!==l&&u+1===i.length){var c=i.substr(0,l),h=i.substr(l+1,u-(l+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),p];case"hsla":if(4!==h.length)return null;p=a(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,f=a(h[1]),g=a(h[2]),m=g<=.5?g*(f+1):g+f-g*f,y=2*g-m;return[n(255*s(y,m,d+1/3)),n(255*s(y,m,d)),n(255*s(y,m,d-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,nt=function(t,e,r,n){void 0===n&&(n=1),this.r=t,this.g=e,this.b=r,this.a=n};nt.parse=function(t){if(t){if(t instanceof nt)return t;if("string"==typeof t){var e=rt(t);if(e)return new nt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},nt.prototype.toString=function(){var t=this.toArray(),e=t[0],r=t[1],n=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(r)+","+Math.round(n)+","+i+")"},nt.prototype.toArray=function(){var t=this,e=t.r,r=t.g,n=t.b,i=t.a;return 0===i?[0,0,0,0]:[255*e/i,255*r/i,255*n/i,i]},nt.black=new nt(0,0,0,1),nt.white=new nt(1,1,1,1),nt.transparent=new nt(0,0,0,0),nt.red=new nt(1,0,0,1);var it=function(t,e,r){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};it.prototype.compare=function(t,e){return this.collator.compare(t,e)},it.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ot=function(t,e,r,n,i){this.text=t,this.image=e,this.scale=r,this.fontStack=n,this.textColor=i},at=function(t){this.sections=t};at.fromString=function(t){return new at([new ot(t,null,null,null,null)])},at.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},at.factory=function(t){return t instanceof at?t:at.fromString(t)},at.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},at.prototype.serialize=function(){for(var t=["format"],e=0,r=this.sections;e<r.length;e+=1){var n=r[e];if(n.image)t.push(["image",n.image.name]);else{t.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(i)}}return t};var st=function(t){this.name=t.name,this.available=t.available};function lt(t,e,r,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[t,e,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[t,e,r,n]:[t,e,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ut(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof nt)return!0;if(t instanceof it)return!0;if(t instanceof at)return!0;if(t instanceof st)return!0;if(Array.isArray(t)){for(var e=0,r=t;e<r.length;e+=1){if(!ut(r[e]))return!1}return!0}if("object"==typeof t){for(var n in t)if(!ut(t[n]))return!1;return!0}return!1}function ct(t){if(null===t)return U;if("string"==typeof t)return q;if("boolean"==typeof t)return V;if("number"==typeof t)return B;if(t instanceof nt)return Y;if(t instanceof it)return H;if(t instanceof at)return K;if(t instanceof st)return J;if(Array.isArray(t)){for(var e,r=t.length,n=0,i=t;n<i.length;n+=1){var o=ct(i[n]);if(e){if(e===o)continue;e=X;break}e=o}return $(e||X,r)}return W}function ht(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof nt||t instanceof at||t instanceof st?t.toString():JSON.stringify(t)}st.prototype.toString=function(){return this.name},st.fromString=function(t){return new st({name:t,available:!1})},st.prototype.serialize=function(){return["image",this.name]};var pt=function(t,e){this.type=t,this.value=e};pt.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ut(t[1]))return e.error("invalid value");var r=t[1],n=ct(r),i=e.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new pt(n,r)},pt.prototype.evaluate=function(){return this.value},pt.prototype.eachChild=function(){},pt.prototype.possibleOutputs=function(){return[this.value]},pt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof nt?["rgba"].concat(this.value.toArray()):this.value instanceof at?this.value.serialize():this.value};var dt=function(t){this.name="ExpressionEvaluationError",this.message=t};dt.prototype.toJSON=function(){return this.message};var ft={string:q,number:B,boolean:V,object:W},gt=function(t,e){this.type=t,this.args=e};gt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var r,n=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in ft)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=ft[s],n++}else o=X;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],n++}r=$(o,a)}else r=ft[i];for(var l=[];n<t.length;n++){var u=e.parse(t[n],n,X);if(!u)return null;l.push(u)}return new gt(r,l)},gt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var r=this.args[e].evaluate(t);if(!et(this.type,ct(r)))return r;if(e===this.args.length-1)throw new dt("Expected value to be of type "+Q(this.type)+", but found "+Q(ct(r))+" instead.")}return null},gt.prototype.eachChild=function(t){this.args.forEach(t)},gt.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},gt.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var r=t.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){e.push(r.kind);var n=t.N;("number"==typeof n||this.args.length>1)&&e.push(n)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var mt=function(t){this.type=K,this.sections=t};mt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return e.error("First argument must be an image or text section.");for(var n=[],i=!1,o=1;o<=t.length-1;++o){var a=t[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,B)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,$(q))))return null;var u=null;if(a["text-color"]&&!(u=e.parse(a["text-color"],1,Y)))return null;var c=n[n.length-1];c.scale=s,c.font=l,c.textColor=u}else{var h=e.parse(t[o],1,X);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:h,scale:null,font:null,textColor:null})}}return new mt(n)},mt.prototype.evaluate=function(t){return new at(this.sections.map((function(e){var r=e.content.evaluate(t);return ct(r)===J?new ot("",r,null,null,null):new ot(ht(r),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},mt.prototype.eachChild=function(t){for(var e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}},mt.prototype.possibleOutputs=function(){return[void 0]},mt.prototype.serialize=function(){for(var t=["format"],e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),t.push(i)}return t};var yt=function(t){this.type=J,this.input=t};yt.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var r=e.parse(t[1],1,q);return r?new yt(r):e.error("No image name provided.")},yt.prototype.evaluate=function(t){var e=this.input.evaluate(t),r=!1;return t.availableImages&&t.availableImages.indexOf(e)>-1&&(r=!0),new st({name:e,available:r})},yt.prototype.eachChild=function(t){t(this.input)},yt.prototype.possibleOutputs=function(){return[void 0]},yt.prototype.serialize=function(){return["image",this.input.serialize()]};var vt={"to-boolean":V,"to-color":Y,"to-number":B,"to-string":q},_t=function(t,e){this.type=t,this.args=e};_t.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return e.error("Expected one argument.");for(var n=vt[r],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,X);if(!a)return null;i.push(a)}return new _t(n,i)},_t.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,(e=i[n].evaluate(t))instanceof nt)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(r=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":lt(e[0],e[1],e[2],e[3])))return new nt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new dt(r||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new dt("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?at.fromString(ht(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?st.fromString(ht(this.args[0].evaluate(t))):ht(this.args[0].evaluate(t))},_t.prototype.eachChild=function(t){this.args.forEach(t)},_t.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},_t.prototype.serialize=function(){if("formatted"===this.type.kind)return new mt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new yt(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var bt=["Unknown","Point","LineString","Polygon"],xt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};xt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},xt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?bt[this.feature.type]:this.feature.type:null},xt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},xt.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=nt.parse(t)),e};var wt=function(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n};wt.prototype.evaluate=function(t){return this._evaluate(t,this.args)},wt.prototype.eachChild=function(t){this.args.forEach(t)},wt.prototype.possibleOutputs=function(){return[void 0]},wt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},wt.parse=function(t,e){var r,n=t[0],i=wt.definitions[n];if(!i)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var r=e[0];return!Array.isArray(r)||r.length===t.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var h=c[u],p=h[0],d=h[1];l=new Ot(e.registry,e.path,null,e.scope);for(var f=[],g=!1,m=1;m<t.length;m++){var y=t[m],v=Array.isArray(p)?p[m-1]:p.type,_=l.parse(y,1+f.length,v);if(!_){g=!0;break}f.push(_)}if(!g)if(Array.isArray(p)&&p.length!==f.length)l.error("Expected "+p.length+" arguments, but found "+f.length+" instead.");else{for(var b=0;b<f.length;b++){var x=Array.isArray(p)?p[b]:p.type,w=f[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new wt(n,o,d,f)}}if(1===s.length)(r=e.errors).push.apply(r,l.errors);else{for(var E=(s.length?s:a).map((function(t){var e,r=t[0];return e=r,Array.isArray(e)?"("+e.map(Q).join(", ")+")":"("+Q(e.type)+"...)"})).join(" | "),C=[],S=1;S<t.length;S++){var T=e.parse(t[S],1+C.length);if(!T)return null;C.push(Q(T.type))}e.error("Expected arguments of type "+E+", but found ("+C.join(", ")+") instead.")}return null},wt.register=function(t,e){for(var r in wt.definitions=e,e)t[r]=wt};var Et=function(t,e,r){this.type=H,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e};function Ct(t){if(t instanceof wt){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!Ct(t)&&(e=!1)})),e}function St(t){if(t instanceof wt&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!St(t)&&(e=!1)})),e}function Tt(t,e){if(t instanceof wt&&e.indexOf(t.name)>=0)return!1;var r=!0;return t.eachChild((function(t){r&&!Tt(t,e)&&(r=!1)})),r}Et.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return e.error("Collator options argument must be an object.");var n=e.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,V);if(!n)return null;var i=e.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,V);if(!i)return null;var o=null;return r.locale&&!(o=e.parse(r.locale,1,q))?null:new Et(n,i,o)},Et.prototype.evaluate=function(t){return new it(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Et.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Et.prototype.possibleOutputs=function(){return[void 0]},Et.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Pt=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Pt.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var r=t[1];return e.scope.has(r)?new Pt(r,e.scope.get(r)):e.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Pt.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Pt.prototype.eachChild=function(){},Pt.prototype.possibleOutputs=function(){return[void 0]},Pt.prototype.serialize=function(){return["var",this.name]};var Ot=function(t,e,r,n,i){void 0===e&&(e=[]),void 0===n&&(n=new z),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};function Mt(t){if(t instanceof Pt)return Mt(t.boundExpression);if(t instanceof wt&&"error"===t.name)return!1;if(t instanceof Et)return!1;var e=t instanceof _t||t instanceof gt,r=!0;return t.eachChild((function(t){r=e?r&&Mt(t):r&&t instanceof pt})),!!r&&(Ct(t)&&Tt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]))}function Rt(t,e){for(var r,n,i=t.length-1,o=0,a=i,s=0;o<=a;)if(r=t[s=Math.floor((o+a)/2)],n=t[s+1],r<=e){if(s===i||e<n)return s;o=s+1}else{if(!(r>e))throw new dt("Input is not a number.");a=s-1}return 0}Ot.prototype.parse=function(t,e,r,n,i){return void 0===i&&(i={}),e?this.concat(e,r,n)._parse(t,i):this._parse(t,i)},Ot.prototype._parse=function(t,e){function r(t,e,r){return"assert"===r?new gt(e,[t]):"coerce"===r?new _t(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=t[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=r(o,a,e.typeAnnotation||"coerce");else o=r(o,a,e.typeAnnotation||"assert")}if(!(o instanceof pt)&&"resolvedImage"!==o.type.kind&&Mt(o)){var l=new xt;try{o=new pt(o.type,o.evaluate(l))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Ot.prototype.concat=function(t,e,r){var n="number"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new Ot(this.registry,n,e||null,i,this.errors)},Ot.prototype.error=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var n=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new G(n,t))},Ot.prototype.checkSubtype=function(t,e){var r=et(t,e);return r&&this.error(r),r};var It=function(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var o=i[n],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};It.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var r=e.parse(t[1],1,B);if(!r)return null;var n=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],l=o,u=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&&n[n.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=e.parse(s,u,i);if(!c)return null;i=i||c.type,n.push([a,c])}return new It(i,r,n)},It.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var i=e.length;return n>=e[i-1]?r[i-1].evaluate(t):r[Rt(e,n)].evaluate(t)},It.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1){t(r[e])}},It.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},It.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Lt=kt;function kt(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n}function At(t,e,r){return t*(1-r)+e*r}kt.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},kt.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},kt.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},kt.prototype.solveCurveX=function(t,e){var r,n,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?r=i:n=i,i=.5*(n-r)+r}return i},kt.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var Ft=Object.freeze({__proto__:null,number:At,color:function(t,e,r){return new nt(At(t.r,e.r,r),At(t.g,e.g,r),At(t.b,e.b,r),At(t.a,e.a,r))},array:function(t,e,r){return t.map((function(t,n){return At(t,e[n],r)}))}}),Nt=.95047,Zt=1.08883,jt=4/29,Dt=6/29,Gt=3*Dt*Dt,zt=Math.PI/180,Ut=180/Math.PI;function Bt(t){return t>.008856451679035631?Math.pow(t,1/3):t/Gt+jt}function qt(t){return t>Dt?t*t*t:Gt*(t-jt)}function Vt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Wt(t){var e=Yt(t.r),r=Yt(t.g),n=Yt(t.b),i=Bt((.4124564*e+.3575761*r+.1804375*n)/Nt),o=Bt((.2126729*e+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Bt((.0193339*e+.119192*r+.9503041*n)/Zt)),alpha:t.a}}function Xt(t){var e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*qt(e),r=Nt*qt(r),n=Zt*qt(n),new nt(Vt(3.2404542*r-1.5371385*e-.4985314*n),Vt(-.969266*r+1.8760108*e+.041556*n),Vt(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}function Ht(t,e,r){var n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var Kt={forward:Wt,reverse:Xt,interpolate:function(t,e,r){return{l:At(t.l,e.l,r),a:At(t.a,e.a,r),b:At(t.b,e.b,r),alpha:At(t.alpha,e.alpha,r)}}},Jt={forward:function(t){var e=Wt(t),r=e.l,n=e.a,i=e.b,o=Math.atan2(i,n)*Ut;return{h:o<0?o+360:o,c:Math.sqrt(n*n+i*i),l:r,alpha:t.a}},reverse:function(t){var e=t.h*zt,r=t.c;return Xt({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return{h:Ht(t.h,e.h,r),c:At(t.c,e.c,r),l:At(t.l,e.l,r),alpha:At(t.alpha,e.alpha,r)}}},$t=Object.freeze({__proto__:null,lab:Kt,hcl:Jt}),Qt=function(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function te(t,e,r,n){var i=n-r,o=t-r;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}Qt.interpolationFactor=function(t,e,r,n){var i=0;if("exponential"===t.name)i=te(e,t.base,r,n);else if("linear"===t.name)i=te(e,1,r,n);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new Lt(o[0],o[1],o[2],o[3]).solve(te(e,1,r,n))}return i},Qt.parse=function(t,e){var r=t[0],n=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,B)))return null;var l=[],u=null;"interpolate-hcl"===r||"interpolate-lab"===r?u=Y:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var h=o[c],p=o[c+1],d=c+3,f=c+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(l.length&&l[l.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var g=e.parse(p,f,u);if(!g)return null;u=u||g.type,l.push([h,g])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Qt(u,r,n,i,l):e.error("Type "+Q(u)+" is not interpolatable.")},Qt.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var i=e.length;if(n>=e[i-1])return r[i-1].evaluate(t);var o=Rt(e,n),a=e[o],s=e[o+1],l=Qt.interpolationFactor(this.interpolation,n,a,s),u=r[o].evaluate(t),c=r[o+1].evaluate(t);return"interpolate"===this.operator?Ft[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?Jt.reverse(Jt.interpolate(Jt.forward(u),Jt.forward(c),l)):Kt.reverse(Kt.interpolate(Kt.forward(u),Kt.forward(c),l))},Qt.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1){t(r[e])}},Qt.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Qt.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],r=0;r<this.labels.length;r++)e.push(this.labels[r],this.outputs[r].serialize());return e};var ee=function(t,e){this.type=t,this.args=e};ee.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var r=null,n=e.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],l=e.parse(s,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,i.push(l)}var u=n&&i.some((function(t){return et(n,t.type)}));return new ee(u?X:r,i)},ee.prototype.evaluate=function(t){for(var e,r=null,n=0,i=0,o=this.args;i<o.length;i+=1){if(n++,(r=o[i].evaluate(t))&&r instanceof st&&!r.available&&(e||(e=r.name),r=null,n===this.args.length&&(r=e)),null!==r)break}return r},ee.prototype.eachChild=function(t){this.args.forEach(t)},ee.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},ee.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var re=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};re.prototype.evaluate=function(t){return this.result.evaluate(t)},re.prototype.eachChild=function(t){for(var e=0,r=this.bindings;e<r.length;e+=1){t(r[e][1])}t(this.result)},re.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var r=[],n=1;n<t.length-1;n+=2){var i=t[n];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);var o=e.parse(t[n+1],n+1);if(!o)return null;r.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return a?new re(r,a):null},re.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},re.prototype.serialize=function(){for(var t=["let"],e=0,r=this.bindings;e<r.length;e+=1){var n=r[e],i=n[0],o=n[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var ne=function(t,e,r){this.type=t,this.index=e,this.input=r};ne.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1,B),n=e.parse(t[2],2,$(e.expectedType||X));if(!r||!n)return null;var i=n.type;return new ne(i.itemType,r,n)},ne.prototype.evaluate=function(t){var e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new dt("Array index out of bounds: "+e+" < 0.");if(e>=r.length)throw new dt("Array index out of bounds: "+e+" > "+(r.length-1)+".");if(e!==Math.floor(e))throw new dt("Array index must be an integer, but found "+e+" instead.");return r[e]},ne.prototype.eachChild=function(t){t(this.index),t(this.input)},ne.prototype.possibleOutputs=function(){return[void 0]},ne.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ie=function(t,e){this.type=V,this.needle=t,this.haystack=e};ie.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r,n=e.parse(t[1],1,X),i=e.parse(t[2],2,X);return n&&i?"boolean"!==(r=n.type).kind&&"string"!==r.kind&&"number"!==r.kind&&"null"!==r.kind&&"value"!==r.kind?e.error("Expected first argument to be of type boolean, string, number or null, but found "+Q(n.type)+" instead"):new ie(n,i):null},ie.prototype.evaluate=function(t){var e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!e||!r)return!1;if(!function(t){return"boolean"==typeof t||"string"==typeof t||"number"==typeof t}(e))throw new dt("Expected first argument to be of type boolean, string or number, but found "+Q(ct(e))+" instead.");if(!function(t){return Array.isArray(t)||"string"==typeof t}(r))throw new dt("Expected second argument to be of type array or string, but found "+Q(ct(r))+" instead.");return r.indexOf(e)>=0},ie.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},ie.prototype.possibleOutputs=function(){return[!0,!1]},ie.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var oe=function(t,e,r,n,i,o){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o};oe.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var r,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,h=s;c<h.length;c+=1){var p=h[c];if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,ct(p)))return null}else r=ct(p);if(void 0!==i[String(p)])return u.error("Branch labels must be unique.");i[String(p)]=o.length}var d=e.parse(l,a,n);if(!d)return null;n=n||d.type,o.push(d)}var f=e.parse(t[1],1,X);if(!f)return null;var g=e.parse(t[t.length-1],t.length-1,n);return g?"value"!==f.type.kind&&e.concat(1).checkSubtype(r,f.type)?null:new oe(r,n,f,i,o,g):null},oe.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ct(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},oe.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},oe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},oe.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],r=[],n={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(h=n[this.cases[a]])?(n[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[h][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,u=r;l<u.length;l+=1){var c=u[l],h=c[0],p=c[1];1===p.length?e.push(s(p[0])):e.push(p.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var ae=function(t,e,r){this.type=t,this.branches=e,this.otherwise=r};function se(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function le(t,e,r,n){return 0===n.compare(e,r)}function ue(t,e,r){var n="=="!==t&&"!="!==t;return function(){function i(t,e,r){this.type=V,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var r=t[0],o=e.parse(t[1],1,X);if(!o)return null;if(!se(r,o.type))return e.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Q(o.type)+"'.");var a=e.parse(t[2],2,X);if(!a)return null;if(!se(r,a.type))return e.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Q(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Q(o.type)+"' and '"+Q(a.type)+"'.");n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new gt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new gt(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,H)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=ct(o),l=ct(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new dt('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var u=ct(o),c=ct(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}ae.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var n=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,V);if(!o)return null;var a=e.parse(t[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}var s=e.parse(t[t.length-1],t.length-1,r);return s?new ae(r,n,s):null},ae.prototype.evaluate=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],i=n[0],o=n[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},ae.prototype.eachChild=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],i=n[0],o=n[1];t(i),t(o)}t(this.otherwise)},ae.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){t[0];return t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},ae.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var ce=ue("==",(function(t,e,r){return e===r}),le),he=ue("!=",(function(t,e,r){return e!==r}),(function(t,e,r,n){return!le(0,e,r,n)})),pe=ue("<",(function(t,e,r){return e<r}),(function(t,e,r,n){return n.compare(e,r)<0})),de=ue(">",(function(t,e,r){return e>r}),(function(t,e,r,n){return n.compare(e,r)>0})),fe=ue("<=",(function(t,e,r){return e<=r}),(function(t,e,r,n){return n.compare(e,r)<=0})),ge=ue(">=",(function(t,e,r){return e>=r}),(function(t,e,r,n){return n.compare(e,r)>=0})),me=function(t,e,r,n,i){this.type=q,this.number=t,this.locale=e,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};me.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var r=e.parse(t[1],1,B);if(!r)return null;var n=t[2];if("object"!=typeof n||Array.isArray(n))return e.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=e.parse(n.locale,1,q)))return null;var o=null;if(n.currency&&!(o=e.parse(n.currency,1,q)))return null;var a=null;if(n["min-fraction-digits"]&&!(a=e.parse(n["min-fraction-digits"],1,B)))return null;var s=null;return n["max-fraction-digits"]&&!(s=e.parse(n["max-fraction-digits"],1,B))?null:new me(r,i,o,a,s)},me.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},me.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},me.prototype.possibleOutputs=function(){return[void 0]},me.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var ye=function(t){this.type=B,this.input=t};ye.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?e.error("Expected argument of type string or array, but found "+Q(r.type)+" instead."):new ye(r):null},ye.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new dt("Expected value to be of type string or array, but found "+Q(ct(e))+" instead.")},ye.prototype.eachChild=function(t){t(this.input)},ye.prototype.possibleOutputs=function(){return[void 0]},ye.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var ve={"==":ce,"!=":he,">":de,"<":pe,">=":ge,"<=":fe,array:gt,at:ne,boolean:gt,case:ae,coalesce:ee,collator:Et,format:mt,image:yt,in:ie,interpolate:Qt,"interpolate-hcl":Qt,"interpolate-lab":Qt,length:ye,let:re,literal:pt,match:oe,number:gt,"number-format":me,object:gt,step:It,string:gt,"to-boolean":_t,"to-color":_t,"to-number":_t,"to-string":_t,var:Pt};function _e(t,e){var r=e[0],n=e[1],i=e[2],o=e[3];r=r.evaluate(t),n=n.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=lt(r,n,i,a);if(s)throw new dt(s);return new nt(r/255*a,n/255*a,i/255*a,a)}function be(t,e){return t in e}function xe(t,e){var r=e[t];return void 0===r?null:r}function we(t){return{type:t}}function Ee(t){return{result:"success",value:t}}function Ce(t){return{result:"error",value:t}}function Se(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Te(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Pe(t){return!!t.expression&&t.expression.interpolated}function Oe(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Me(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Re(t){return t}function Ie(t,e){var r,n,i,o="color"===e.type,a=t.stops&&"object"==typeof t.stops[0][0],s=a||void 0!==t.property,l=a||!s,u=t.type||(Pe(e)?"exponential":"interval");if(o&&((t=D({},t)).stops&&(t.stops=t.stops.map((function(t){return[t[0],nt.parse(t[1])]}))),t.default?t.default=nt.parse(t.default):t.default=nt.parse(e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!$t[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===u)r=Fe;else if("interval"===u)r=Ae;else if("categorical"===u){r=ke,n=Object.create(null);for(var c=0,h=t.stops;c<h.length;c+=1){var p=h[c];n[p[0]]=p[1]}i=typeof t.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=Ne}if(a){for(var d={},f=[],g=0;g<t.stops.length;g++){var m=t.stops[g],y=m[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:t.type,property:t.property,default:t.default,stops:[]},f.push(y)),d[y].stops.push([m[0].value,m[1]])}for(var v=[],_=0,b=f;_<b.length;_+=1){var x=b[_];v.push([d[x].zoom,Ie(d[x],e)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:Qt.interpolationFactor.bind(void 0,w),zoomStops:v.map((function(t){return t[0]})),evaluate:function(r,n){var i=r.zoom;return Fe({stops:v,base:t.base},e,i).evaluate(i,n)}}}if(l){var E="exponential"===u?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:Qt.interpolationFactor.bind(void 0,E),zoomStops:t.stops.map((function(t){return t[0]})),evaluate:function(o){var a=o.zoom;return r(t,e,a,n,i)}}}return{kind:"source",evaluate:function(o,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?Le(t.default,e.default):r(t,e,s,n,i)}}}function Le(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function ke(t,e,r,n,i){return Le(typeof r===i?n[r]:void 0,t.default,e.default)}function Ae(t,e,r){if("number"!==Oe(r))return Le(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];var i=Rt(t.stops.map((function(t){return t[0]})),r);return t.stops[i][1]}function Fe(t,e,r){var n=void 0!==t.base?t.base:1;if("number"!==Oe(r))return Le(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[i-1][0])return t.stops[i-1][1];var o=Rt(t.stops.map((function(t){return t[0]})),r),a=function(t,e,r,n){var i=n-r,o=t-r;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],u=Ft[e.type]||Re;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=$t[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=s.evaluate.apply(void 0,t),n=l.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==n)return u(r,n,a)}}:u(s,l,a)}function Ne(t,e,r){return"color"===e.type?r=nt.parse(r):"formatted"===e.type?r=at.fromString(r.toString()):"resolvedImage"===e.type?r=st.fromString(r.toString()):Oe(r)===e.type||"enum"===e.type&&e.values[r]||(r=void 0),Le(r,t.default,e.default)}wt.register(ve,{error:[{kind:"error"},[q],function(t,e){var r=e[0];throw new dt(r.evaluate(t))}],typeof:[q,[X],function(t,e){return Q(ct(e[0].evaluate(t)))}],"to-rgba":[$(B,4),[Y],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Y,[B,B,B],_e],rgba:[Y,[B,B,B,B],_e],has:{type:V,overloads:[[[q],function(t,e){return be(e[0].evaluate(t),t.properties())}],[[q,W],function(t,e){var r=e[0],n=e[1];return be(r.evaluate(t),n.evaluate(t))}]]},get:{type:X,overloads:[[[q],function(t,e){return xe(e[0].evaluate(t),t.properties())}],[[q,W],function(t,e){var r=e[0],n=e[1];return xe(r.evaluate(t),n.evaluate(t))}]]},"feature-state":[X,[q],function(t,e){return xe(e[0].evaluate(t),t.featureState||{})}],properties:[W,[],function(t){return t.properties()}],"geometry-type":[q,[],function(t){return t.geometryType()}],id:[X,[],function(t){return t.id()}],zoom:[B,[],function(t){return t.globals.zoom}],"heatmap-density":[B,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[B,[],function(t){return t.globals.lineProgress||0}],accumulated:[X,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[B,we(B),function(t,e){for(var r=0,n=0,i=e;n<i.length;n+=1){r+=i[n].evaluate(t)}return r}],"*":[B,we(B),function(t,e){for(var r=1,n=0,i=e;n<i.length;n+=1){r*=i[n].evaluate(t)}return r}],"-":{type:B,overloads:[[[B,B],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)-n.evaluate(t)}],[[B],function(t,e){return-e[0].evaluate(t)}]]},"/":[B,[B,B],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)/n.evaluate(t)}],"%":[B,[B,B],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)%n.evaluate(t)}],ln2:[B,[],function(){return Math.LN2}],pi:[B,[],function(){return Math.PI}],e:[B,[],function(){return Math.E}],"^":[B,[B,B],function(t,e){var r=e[0],n=e[1];return Math.pow(r.evaluate(t),n.evaluate(t))}],sqrt:[B,[B],function(t,e){var r=e[0];return Math.sqrt(r.evaluate(t))}],log10:[B,[B],function(t,e){var r=e[0];return Math.log(r.evaluate(t))/Math.LN10}],ln:[B,[B],function(t,e){var r=e[0];return Math.log(r.evaluate(t))}],log2:[B,[B],function(t,e){var r=e[0];return Math.log(r.evaluate(t))/Math.LN2}],sin:[B,[B],function(t,e){var r=e[0];return Math.sin(r.evaluate(t))}],cos:[B,[B],function(t,e){var r=e[0];return Math.cos(r.evaluate(t))}],tan:[B,[B],function(t,e){var r=e[0];return Math.tan(r.evaluate(t))}],asin:[B,[B],function(t,e){var r=e[0];return Math.asin(r.evaluate(t))}],acos:[B,[B],function(t,e){var r=e[0];return Math.acos(r.evaluate(t))}],atan:[B,[B],function(t,e){var r=e[0];return Math.atan(r.evaluate(t))}],min:[B,we(B),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[B,we(B),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[B,[B],function(t,e){var r=e[0];return Math.abs(r.evaluate(t))}],round:[B,[B],function(t,e){var r=e[0].evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[B,[B],function(t,e){var r=e[0];return Math.floor(r.evaluate(t))}],ceil:[B,[B],function(t,e){var r=e[0];return Math.ceil(r.evaluate(t))}],"filter-==":[V,[q,X],function(t,e){var r=e[0],n=e[1];return t.properties()[r.value]===n.value}],"filter-id-==":[V,[X],function(t,e){var r=e[0];return t.id()===r.value}],"filter-type-==":[V,[q],function(t,e){var r=e[0];return t.geometryType()===r.value}],"filter-<":[V,[q,X],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],o=n.value;return typeof i==typeof o&&i<o}],"filter-id-<":[V,[X],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[V,[q,X],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],o=n.value;return typeof i==typeof o&&i>o}],"filter-id->":[V,[X],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[V,[q,X],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],o=n.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[V,[X],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[V,[q,X],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],o=n.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[V,[X],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[V,[X],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[V,[],function(t){return null!==t.id()}],"filter-type-in":[V,[$(q)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[V,[$(X)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[V,[q,$(X)],function(t,e){var r=e[0];return e[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[V,[q,$(X)],function(t,e){var r=e[0],n=e[1];return function(t,e,r,n){for(;r<=n;){var i=r+n>>1;if(e[i]===t)return!0;e[i]>t?n=i-1:r=i+1}return!1}(t.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:V,overloads:[[[V,V],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)&&n.evaluate(t)}],[we(V),function(t,e){for(var r=0,n=e;r<n.length;r+=1){if(!n[r].evaluate(t))return!1}return!0}]]},any:{type:V,overloads:[[[V,V],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)||n.evaluate(t)}],[we(V),function(t,e){for(var r=0,n=e;r<n.length;r+=1){if(n[r].evaluate(t))return!0}return!1}]]},"!":[V,[V],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[V,[q],function(t,e){var r=e[0],n=t.globals&&t.globals.isSupportedScript;return!n||n(r.evaluate(t))}],upcase:[q,[q],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[q,[q],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[q,we(X),function(t,e){return e.map((function(e){return ht(e.evaluate(t))})).join("")}],"resolved-locale":[q,[H],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Ze=function(t,e){var r;this.expression=t,this._warningHistory={},this._evaluator=new xt,this._defaultValue=e?"color"===(r=e).type&&Me(r.default)?new nt(0,0,0,0):"color"===r.type?nt.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=e&&"enum"===e.type?e.values:null};function je(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in ve}function De(t,e){var r=new Ot(ve,[],e?function(t){var e={color:Y,string:q,number:B,enum:q,boolean:V,formatted:K,resolvedImage:J};if("array"===t.type)return $(e[t.value]||X,t.length);return e[t.type]}(e):void 0),n=r.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return n?Ee(new Ze(n,e)):Ce(r.errors)}Ze.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,i){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)},Ze.prototype.evaluate=function(t,e,r,n,i){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=i||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new dt("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Ge=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!St(e.expression)};Ge.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i)},Ge.prototype.evaluate=function(t,e,r,n,i){return this._styleExpression.evaluate(t,e,r,n,i)};var ze=function(t,e,r,n){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent="camera"!==t&&!St(e.expression),this.interpolationType=n};function Ue(t,e){if("error"===(t=De(t,e)).result)return t;var r=t.value.expression,n=Ct(r);if(!n&&!Se(e))return Ce([new G("","data expressions not supported")]);var i=Tt(r,["zoom"]);if(!i&&!Te(e))return Ce([new G("","zoom expressions not supported")]);var o=qe(r);if(!o&&!i)return Ce([new G("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof G)return Ce([o]);if(o instanceof Qt&&!Pe(e))return Ce([new G("",'"interpolate" expressions cannot be used with this property')]);if(!o)return Ee(new Ge(n?"constant":"source",t.value));var a=o instanceof Qt?o.interpolation:void 0;return Ee(new ze(n?"camera":"composite",t.value,o.labels,a))}ze.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i)},ze.prototype.evaluate=function(t,e,r,n,i){return this._styleExpression.evaluate(t,e,r,n,i)},ze.prototype.interpolationFactor=function(t,e,r){return this.interpolationType?Qt.interpolationFactor(this.interpolationType,t,e,r):0};var Be=function(t,e){this._parameters=t,this._specification=e,D(this,Ie(this._parameters,this._specification))};function qe(t){var e=null;if(t instanceof re)e=qe(t.result);else if(t instanceof ee)for(var r=0,n=t.args;r<n.length;r+=1){var i=n[r];if(e=qe(i))break}else(t instanceof It||t instanceof Qt)&&t.input instanceof wt&&"zoom"===t.input.name&&(e=t);return e instanceof G||t.eachChild((function(t){var r=qe(t);r instanceof G?e=r:!e&&r?e=new G("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&r&&e!==r&&(e=new G("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function Ve(t){return"object"==typeof t?["literal",t]:t}function Ye(t,e){var r=t.stops;if(!r)return function(t,e){var r=["get",t.property];if(void 0===t.default)return"string"===e.type?["string",r]:r;if("enum"===e.type)return["match",r,Object.keys(e.values),r,t.default];var n=["color"===e.type?"to-color":e.type,r,Ve(t.default)];return"array"===e.type&&n.splice(1,0,e.value,e.length||null),n}(t,e);var n=r&&"object"==typeof r[0][0],i=n||void 0!==t.property,o=n||!i;return r=r.map((function(t){return!i&&e.tokens&&"string"==typeof t[1]?[t[0],Qe(t[1])]:[t[0],Ve(t[1])]})),n?function(t,e,r){for(var n={},i={},o=[],a=0;a<r.length;a++){var s=r[a],l=s[0].zoom;void 0===n[l]&&(n[l]={zoom:l,type:t.type,property:t.property,default:t.default},i[l]=[],o.push(l)),i[l].push([s[0].value,s[1]])}if("exponential"===$e({},e)){for(var u=[We(t),["linear"],["zoom"]],c=0,h=o;c<h.length;c+=1){var p=h[c];Je(u,p,He(n[p],e,i[p]),!1)}return u}for(var d=["step",["zoom"]],f=0,g=o;f<g.length;f+=1){var m=g[f];Je(d,m,He(n[m],e,i[m]),!0)}return Ke(d),d}(t,e,r):o?function(t,e,r,n){void 0===n&&(n=["zoom"]);var i,o=$e(t,e),a=!1;if("interval"===o)i=["step",n],a=!0;else{if("exponential"!==o)throw new Error('Unknown zoom function type "'+o+'"');var s=void 0!==t.base?t.base:1;i=[We(t),1===s?["linear"]:["exponential",s],n]}for(var l=0,u=r;l<u.length;l+=1){var c=u[l];Je(i,c[0],c[1],a)}return Ke(i),i}(t,e,r):He(t,e,r)}function We(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Xe(t,e){return void 0!==t?t:void 0!==e?e:void 0}function He(t,e,r){var n=$e(t,e),i=["get",t.property];if("categorical"===n&&"boolean"==typeof r[0][0]){for(var o=["case"],a=0,s=r;a<s.length;a+=1){var l=s[a];o.push(["==",i,l[0]],l[1])}return o.push(Ve(Xe(t.default,e.default))),o}if("categorical"===n){for(var u=["match",i],c=0,h=r;c<h.length;c+=1){var p=h[c];Je(u,p[0],p[1],!1)}return u.push(Ve(Xe(t.default,e.default))),u}if("interval"===n){for(var d=["step",["number",i]],f=0,g=r;f<g.length;f+=1){var m=g[f];Je(d,m[0],m[1],!0)}return Ke(d),void 0===t.default?d:["case",["==",["typeof",i],"number"],d,Ve(t.default)]}if("exponential"===n){for(var y=void 0!==t.base?t.base:1,v=[We(t),1===y?["linear"]:["exponential",y],["number",i]],_=0,b=r;_<b.length;_+=1){var x=b[_];Je(v,x[0],x[1],!1)}return void 0===t.default?v:["case",["==",["typeof",i],"number"],v,Ve(t.default)]}throw new Error("Unknown property function type "+n)}function Ke(t){"step"===t[0]&&3===t.length&&(t.push(0),t.push(t[3]))}function Je(t,e,r,n){t.length>3&&e===t[t.length-2]||(n&&2===t.length||t.push(e),t.push(r))}function $e(t,e){return t.type?t.type:e.expression.interpolated?"exponential":"interval"}function Qe(t){for(var e=["concat"],r=/{([^{}]+)}/g,n=0,i=r.exec(t);null!==i;i=r.exec(t)){var o=t.slice(n,r.lastIndex-i[0].length);n=r.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(1===e.length)return t;if(n<t.length)e.push(t.slice(n));else if(2===e.length)return["to-string",e[1]];return e}function tr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&Array.isArray(t[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,r=t.slice(1);e<r.length;e+=1){var n=r[e];if(!tr(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}Be.deserialize=function(t){return new Be(t._parameters,t._specification)},Be.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var er={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function rr(t,e){return t<e?-1:t>e?1:0}function nr(t){if(!t)return!0;var e,r=t[0];return t.length<=1?"any"!==r:"=="===r?ir(t[1],t[2],"=="):"!="===r?sr(ir(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?ir(t[1],t[2],r):"any"===r?(e=t.slice(1),["any"].concat(e.map(nr))):"all"===r?["all"].concat(t.slice(1).map(nr)):"none"===r?["all"].concat(t.slice(1).map(nr).map(sr)):"in"===r?or(t[1],t.slice(2)):"!in"===r?sr(or(t[1],t.slice(2))):"has"===r?ar(t[1]):"!has"!==r||sr(ar(t[1]))}function ir(t,e,r){switch(t){case"$type":return["filter-type-"+r,e];case"$id":return["filter-id-"+r,e];default:return["filter-"+r,t,e]}}function or(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(rr)]]:["filter-in-small",t,["literal",e]]}}function ar(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function sr(t){return["!",t]}var lr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ur(t,e){var r={};for(var n in t)"ref"!==n&&(r[n]=t[n]);return lr.forEach((function(t){t in e&&(r[t]=e[t])})),r}var cr=function(t,e,r,n){this.message=(t?t+": ":"")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__)},hr=function(t){this.error=t,this.message=t.message;var e=t.message.match(/line (\d+)/);this.line=e?parseInt(e[1],10):0};function pr(t){var e=t.key,r=t.value;return r?[new cr(e,r,"constants have been deprecated as of v8")]:[]}function dr(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function fr(t){if(Array.isArray(t))return t.map(fr);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var r in t)e[r]=fr(t[r]);return e}return dr(t)}function gr(t){var e=t.key,r=t.value,n=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=Oe(r);if("object"!==l)return[new cr(e,r,"object expected, "+l+" found")];for(var u in r){var c=u.split(".")[0],h=n[c]||n["*"],p=void 0;if(i[c])p=i[c];else if(n[c])p=Lr;else if(i["*"])p=i["*"];else{if(!n["*"]){s.push(new cr(e,r[u],'unknown property "'+u+'"'));continue}p=Lr}s=s.concat(p({key:(e?e+".":e)+u,value:r[u],valueSpec:h,style:o,styleSpec:a,object:r,objectKey:u},r))}for(var d in n)i[d]||n[d].required&&void 0===n[d].default&&void 0===r[d]&&s.push(new cr(e,r,'missing required property "'+d+'"'));return s}function mr(t){var e=t.value,r=t.valueSpec,n=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Lr;if("array"!==Oe(e))return[new cr(o,e,"array expected, "+Oe(e)+" found")];if(r.length&&e.length!==r.length)return[new cr(o,e,"array length "+r.length+" expected, length "+e.length+" found")];if(r["min-length"]&&e.length<r["min-length"])return[new cr(o,e,"array length at least "+r["min-length"]+" expected, length "+e.length+" found")];var s={type:r.value,values:r.values};i.$version<7&&(s.function=r.function),"object"===Oe(r.value)&&(s=r.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:n,styleSpec:i,key:o+"["+u+"]"}));return l}function yr(t){var e=t.key,r=t.value,n=t.valueSpec,i=Oe(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new cr(e,r,"number expected, "+i+" found")]:"minimum"in n&&r<n.minimum?[new cr(e,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new cr(e,r,r+" is greater than the maximum value "+n.maximum)]:[]}function vr(t){var e,r,n,i=t.valueSpec,o=dr(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,l=!s,u="array"===Oe(t.value.stops)&&"array"===Oe(t.value.stops[0])&&"object"===Oe(t.value.stops[0][0]),c=gr({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new cr(t.key,t.value,'identity function may not have a "stops" property')];var e=[],r=t.value;e=e.concat(mr({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Oe(r)&&0===r.length&&e.push(new cr(t.key,r,"array must have at least one stop"));return e},default:function(t){return Lr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new cr(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new cr(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Pe(t.valueSpec)&&c.push(new cr(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!Se(t.valueSpec)?c.push(new cr(t.key,t.value,"property functions not supported")):s&&!Te(t.valueSpec)&&c.push(new cr(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new cr(t.key,t.value,'"property" property is required')),c;function h(t){var e=[],o=t.value,s=t.key;if("array"!==Oe(o))return[new cr(s,o,"array expected, "+Oe(o)+" found")];if(2!==o.length)return[new cr(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==Oe(o[0]))return[new cr(s,o,"object expected, "+Oe(o[0])+" found")];if(void 0===o[0].zoom)return[new cr(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new cr(s,o,"object stop key must have value")];if(n&&n>dr(o[0].zoom))return[new cr(s,o[0].zoom,"stop zoom values must appear in ascending order")];dr(o[0].zoom)!==n&&(n=dr(o[0].zoom),r=void 0,a={}),e=e.concat(gr({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:yr,value:p}}))}else e=e.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return je(fr(o[1]))?e.concat([new cr(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Lr({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function p(t,n){var s=Oe(t.value),l=dr(t.value),u=null!==t.value?t.value:n;if(e){if(s!==e)return[new cr(t.key,u,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new cr(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return Se(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new cr(t.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==r&&l<r?[new cr(t.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===o&&l in a?[new cr(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new cr(t.key,u,"integer expected, found "+l)]}}function _r(t){var e=("property"===t.expressionContext?Ue:De)(fr(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new cr(""+t.key+e.key,t.value,e.message)}));var r=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==r.possibleOutputs().indexOf(void 0))return[new cr(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!St(r))return[new cr(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!St(r))return[new cr(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Tt(r,["zoom","feature-state"]))return[new cr(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ct(r))return[new cr(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function br(t){var e=t.key,r=t.value,n=t.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(dr(r))&&i.push(new cr(e,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(dr(r))&&i.push(new cr(e,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),i}function xr(t){return tr(fr(t.value))?_r(D({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):wr(t)}function wr(t){var e=t.value,r=t.key;if("array"!==Oe(e))return[new cr(r,e,"array expected, "+Oe(e)+" found")];var n,i=t.styleSpec,o=[];if(e.length<1)return[new cr(r,e,"filter array must have at least 1 element")];switch(o=o.concat(br({key:r+"[0]",value:e[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),dr(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===dr(e[1])&&o.push(new cr(r,e,'"$type" cannot be use with operator "'+e[0]+'"'));case"==":case"!=":3!==e.length&&o.push(new cr(r,e,'filter array for operator "'+e[0]+'" must have 3 elements'));case"in":case"!in":e.length>=2&&"string"!==(n=Oe(e[1]))&&o.push(new cr(r+"[1]",e[1],"string expected, "+n+" found"));for(var a=2;a<e.length;a++)n=Oe(e[a]),"$type"===dr(e[1])?o=o.concat(br({key:r+"["+a+"]",value:e[a],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&o.push(new cr(r+"["+a+"]",e[a],"string, number, or boolean expected, "+n+" found"));break;case"any":case"all":case"none":for(var s=1;s<e.length;s++)o=o.concat(wr({key:r+"["+s+"]",value:e[s],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":n=Oe(e[1]),2!==e.length?o.push(new cr(r,e,'filter array for "'+e[0]+'" operator must have 2 elements')):"string"!==n&&o.push(new cr(r+"[1]",e[1],"string expected, "+n+" found"))}return o}function Er(t,e){var r=t.key,n=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return Lr({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new cr(r,o,'unknown property "'+a+'"')];if("string"===Oe(o)&&Se(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new cr(r,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===a&&n&&!n.glyphs&&h.push(new cr(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Me(fr(o))&&"identity"===dr(o.type)&&h.push(new cr(r,o,'"text-font" does not support identity functions'))),h.concat(Lr({key:t.key,value:o,valueSpec:c,style:n,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Cr(t){return Er(t,"paint")}function Sr(t){return Er(t,"layout")}function Tr(t){var e=[],r=t.value,n=t.key,i=t.style,o=t.styleSpec;r.type||r.ref||e.push(new cr(n,r,'either "type" or "ref" is required'));var a,s=dr(r.type),l=dr(r.ref);if(r.id)for(var u=dr(r.id),c=0;c<t.arrayIndex;c++){var h=i.layers[c];dr(h.id)===u&&e.push(new cr(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+h.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(t){t in r&&e.push(new cr(n,r[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){dr(t.id)===l&&(a=t)})),a?a.ref?e.push(new cr(n,r.ref,"ref cannot reference another ref layer")):s=dr(a.type):e.push(new cr(n,r.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(r.source){var p=i.sources&&i.sources[r.source],d=p&&dr(p.type);p?"vector"===d&&"raster"===s?e.push(new cr(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new cr(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==d||r["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new cr(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||e.push(new cr(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new cr(n,r,'layer "'+r.id+'" must specify a "source-layer"')):e.push(new cr(n,r.source,'source "'+r.source+'" not found'))}else e.push(new cr(n,r,'missing required property "source"'));return e=e.concat(gr({key:n,value:r,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Lr({key:n+".type",value:r.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:"type"})},filter:xr,layout:function(t){return gr({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Sr(D({layerType:s},t))}}})},paint:function(t){return gr({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Cr(D({layerType:s},t))}}})}}})),e}function Pr(t){var e=t.value,r=t.key,n=Oe(e);return"string"!==n?[new cr(r,e,"string expected, "+n+" found")]:[]}var Or={promoteId:function(t){var e=t.key,r=t.value;if("string"===Oe(r))return Pr({key:e,value:r});var n=[];for(var i in r)n.push.apply(n,Pr({key:e+"."+i,value:r[i]}));return n}};function Mr(t){var e=t.value,r=t.key,n=t.styleSpec,i=t.style;if(!e.type)return[new cr(r,e,'"type" is required')];var o,a=dr(e.type);switch(a){case"vector":case"raster":case"raster-dem":return o=gr({key:r,value:e,valueSpec:n["source_"+a.replace("-","_")],style:t.style,styleSpec:n,objectElementValidators:Or});case"geojson":if(o=gr({key:r,value:e,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:Or}),e.cluster)for(var s in e.clusterProperties){var l=e.clusterProperties[s],u=l[0],c=l[1],h="string"==typeof u?[u,["accumulated"],["get",s]]:u;o.push.apply(o,_r({key:r+"."+s+".map",value:c,expressionContext:"cluster-map"})),o.push.apply(o,_r({key:r+"."+s+".reduce",value:h,expressionContext:"cluster-reduce"}))}return o;case"video":return gr({key:r,value:e,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return gr({key:r,value:e,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new cr(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return br({key:r+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function Rr(t){var e=t.value,r=t.styleSpec,n=r.light,i=t.style,o=[],a=Oe(e);if(void 0===e)return o;if("object"!==a)return o=o.concat([new cr("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=l&&n[l[1]]&&n[l[1]].transition?o.concat(Lr({key:s,value:e[s],valueSpec:r.transition,style:i,styleSpec:r})):n[s]?o.concat(Lr({key:s,value:e[s],valueSpec:n[s],style:i,styleSpec:r})):o.concat([new cr(s,e[s],'unknown property "'+s+'"')])}return o}var Ir={"*":function(){return[]},array:mr,boolean:function(t){var e=t.value,r=t.key,n=Oe(e);return"boolean"!==n?[new cr(r,e,"boolean expected, "+n+" found")]:[]},number:yr,color:function(t){var e=t.key,r=t.value,n=Oe(r);return"string"!==n?[new cr(e,r,"color expected, "+n+" found")]:null===rt(r)?[new cr(e,r,'color expected, "'+r+'" found')]:[]},constants:pr,enum:br,filter:xr,function:vr,layer:Tr,object:gr,source:Mr,light:Rr,string:Pr,formatted:function(t){return 0===Pr(t).length?[]:_r(t)},resolvedImage:function(t){return 0===Pr(t).length?[]:_r(t)}};function Lr(t){var e=t.value,r=t.valueSpec,n=t.styleSpec;return r.expression&&Me(dr(e))?vr(t):r.expression&&je(fr(e))?_r(t):r.type&&Ir[r.type]?Ir[r.type](t):gr(D({},t,{valueSpec:r.type?n[r.type]:r}))}function kr(t){var e=t.value,r=t.key,n=Pr(t);return n.length||(-1===e.indexOf("{fontstack}")&&n.push(new cr(r,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new cr(r,e,'"glyphs" url must include a "{range}" token'))),n}function Ar(t,e){void 0===e&&(e=p);var r=[];return r=r.concat(Lr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:kr,"*":function(){return[]}}})),t.constants&&(r=r.concat(pr({key:"constants",value:t.constants,style:t,styleSpec:e}))),Fr(r)}function Fr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Nr(t){return function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return Fr(t.apply(this,e))}}Ar.source=Nr(Mr),Ar.light=Nr(Rr),Ar.layer=Nr(Tr),Ar.filter=Nr(xr),Ar.paintProperty=Nr(Cr),Ar.layoutProperty=Nr(Sr);var Zr=f((function(t,e){var r=function(){var t=function(t,e,r,n){for(r=r||{},n=t.length;n--;r[t[n]]=e);return r},e=[1,12],r=[1,13],n=[1,9],i=[1,10],o=[1,11],a=[1,14],s=[1,15],l=[14,18,22,24],u=[18,22],c=[22,24],h={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,r,n,i,o,a){var s=o.length-1;switch(i){case 1:this.$=new String(t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(t),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=o[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:e,5:6,6:r,7:3,8:n,9:4,10:i,11:o,12:1,13:2,15:7,16:8,17:a,23:s},{1:[3]},{14:[1,16]},t(l,[2,7]),t(l,[2,8]),t(l,[2,9]),t(l,[2,10]),t(l,[2,11]),t(l,[2,12]),t(l,[2,3]),t(l,[2,4]),t(l,[2,5]),t([14,18,21,22,24],[2,1]),t(l,[2,2]),{3:20,4:e,18:[1,17],19:18,20:19},{3:5,4:e,5:6,6:r,7:3,8:n,9:4,10:i,11:o,13:23,15:7,16:8,17:a,23:s,24:[1,21],25:22},{1:[2,6]},t(l,[2,13]),{18:[1,24],22:[1,25]},t(u,[2,16]),{21:[1,26]},t(l,[2,18]),{22:[1,28],24:[1,27]},t(c,[2,20]),t(l,[2,14]),{3:20,4:e,20:29},{3:5,4:e,5:6,6:r,7:3,8:n,9:4,10:i,11:o,13:30,15:7,16:8,17:a,23:s},t(l,[2,19]),{3:5,4:e,5:6,6:r,7:3,8:n,9:4,10:i,11:o,13:31,15:7,16:8,17:a,23:s},t(u,[2,17]),t(u,[2,15]),t(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,u=2,c=1,h=i.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(d.yy[f]=this.yy[f]);p.setInput(t,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;i.push(g);var m=p.options&&p.options.ranges;function y(){var t;return"number"!=typeof(t=p.lex()||c)&&(t=e.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,_,b,x,w,E,C,S,T,P={};;){if(b=r[r.length-1],this.defaultActions[b]?x=this.defaultActions[b]:(null==v&&(v=y()),x=o[b]&&o[b][v]),void 0===x||!x.length||!x[0]){var O="";for(E in T=[],o[b])this.terminals_[E]&&E>u&&T.push("'"+this.terminals_[E]+"'");O=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(s+1)+": Unexpected "+(v==c?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(O,{text:p.match,token:this.terminals_[v]||v,line:p.yylineno,loc:g,expected:T})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+v);switch(x[0]){case 1:r.push(v),n.push(p.yytext),i.push(p.yylloc),r.push(x[1]),v=null,_?(v=_,_=null):(l=p.yyleng,a=p.yytext,s=p.yylineno,g=p.yylloc);break;case 2:if(C=this.productions_[x[1]][1],P.$=n[n.length-C],P._$={first_line:i[i.length-(C||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(C||1)].first_column,last_column:i[i.length-1].last_column},m&&(P._$.range=[i[i.length-(C||1)].range[0],i[i.length-1].range[1]]),void 0!==(w=this.performAction.apply(P,[a,l,s,d.yy,x[1],n,i].concat(h))))return w;C&&(r=r.slice(0,-1*C*2),n=n.slice(0,-1*C),i=i.slice(0,-1*C)),r.push(this.productions_[x[1]][0]),n.push(P.$),i.push(P._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],r=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!e||r[0].length>e[0].length)){if(e=r,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(r,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,r,n){switch(r){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function d(){this.yy={}}return h.lexer=p,d.prototype=h,h.Parser=d,new d}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)}}));Zr.parser,Zr.Parser,Zr.parse;function jr(t){if(t instanceof String||"string"==typeof t||t instanceof Buffer)try{return Zr.parse(t.toString())}catch(t){throw new hr(t)}return t}function Dr(t,e){void 0===e&&(e=p);var r=t;try{r=jr(r)}catch(t){return[t]}return Ar(r,e)}var Gr=je,zr=Ue,Ur=Ye,Br=Me;Dr.parsed=Dr,Dr.latest=Dr;var qr=r(53732),Vr=r(21092),Yr=r(21765);function Wr(t){return t*Math.PI/180}var Xr=function(){for(var t=[],e=78271.51696402048;t.length<=24;e/=2)t.push(e);return t}();var Hr=Array(256).join(" ");function Kr(t,e){if(e>=.05){for(var r="",n=t.split("\n"),i=Hr.slice(0,Math.round(e/.1)),o=0,a=n.length;o<a;++o)o>0&&(r+="\n"),r+=n[o].split("").join(i);return r}return t}var Jr=document.createElement("CANVAS").getContext("2d");function $r(t,e){return Jr.measureText(t).width+(t.length-1)*e}var Qr={};function tn(t,e,r,n){var i=r+","+e+","+t+","+n,o=Qr[i];if(!o){var a=t.split(" ");if(a.length>1){Jr.font=e;for(var s=Jr.measureText("M").width*r,l="",u=[],c=0,h=a.length;c<h;++c){var p=a[c],d=l+(l?" ":"")+p;$r(d,n)<=s?l=d:(l&&u.push(l),l=p)}l&&u.push(l);for(c=0,h=u.length;c<h;++c){var f=u[c];if($r(f,n)<.35*s){var g=c>0?$r(u[c-1],n):1/0,m=c<h-1?$r(u[c+1],n):1/0;u.splice(c,1),g<m?(u[c-1]+=" "+f,c-=1):u[c]=f+" "+u[c],h-=1}}for(c=0,h=u.length-1;c<h;++c){var y=u[c],v=u[c+1];if($r(y,n)>.7*s&&$r(v,n)<.6*s){var _=y.split(" "),b=_.pop();$r(b,n)<.2*s&&(u[c]=_.join(" "),u[c+1]=b+" "+v),h-=1}}o=u.join("\n")}else o=t;o=Kr(o,n),Qr[i]=o}return o}Yr.GK&&(0,qr.oL)(Yr.GK,Vr.Z.CLEAR,(function(){Qr={}}));var en,rn,nn=Br,on=Ur,an=Gr,sn=zr,ln={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},un={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},cn={},hn={zoom:0},pn={};function dn(t,e,r,n,i){var o=t.id;pn[o]||(pn[o]={});var a=pn[o];if(!a[r]){var s=(t[e]||cn)[r],l=p[e+"_"+t.type][r];void 0===s&&(s=l.default);var u=an(s);if(!u&&nn(s)&&(s=on(s,l),u=!0),u){var c=function(t,e){var r=sn(t,e);if("error"===r.result)throw new Error(r.value.map((function(t){return t.key+": "+t.message})).join(", "));return r.value}(s,l);a[r]=c.evaluate.bind(c)}else"color"==l.type&&(s=nt.parse(s)),a[r]=function(){return s}}return hn.zoom=n,a[r](hn,i)}var fn={};function gn(t,e,r,n){return t in fn||(fn[t]=function(t){if(null==t)return function(){return!0};tr(t)||(t=nr(t));var e=De(t,er);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,r){return e.value.evaluate(t,r)}}(e)),hn.zoom=n,fn[t](hn,r)}function mn(t,e){if(t){if(0===t.a||0===e)return;var r=t.a;return e=void 0===e?1:e,"rgba("+Math.round(255*t.r/r)+","+Math.round(255*t.g/r)+","+Math.round(255*t.b/r)+","+r*e+")"}return t}var yn=/^([^]*)\{(.*)\}([^]*)$/;function vn(t,e){var r;do{if(r=t.match(yn)){var n=e[r[2]]||"";t=r[1]+n+r[3]}}while(r);return t}function _n(t,e,r,n,p,d,f){if(void 0===n&&(n=Xr),"string"==typeof e&&(e=JSON.parse(e)),8!=e.version)throw new Error("glStyle version 8 required.");var g,m;if(d){var y=new Image;y.crossOrigin="anonymous",y.onload=function(){g=y,m=[y.width,y.height],t.changed(),y.onload=null},y.src=d}for(var v,_=function(t){t=t.slice();for(var e=Object.create(null),r=0;r<t.length;r++)e[t[r].id]=t[r];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=ur(t[n],e[t[n].ref]));return t}(e.layers),b={},x=[],w=0,E=_.length;w<E;++w){var C=_[w],S=C.id;if("string"==typeof r&&C.source==r||-1!==r.indexOf(S)){var T=C["source-layer"];if(!v){v=C.source;var P=e.sources[v];if(!P)throw new Error('Source "'+v+'" is not defined');var O=P.type;if("vector"!==O&&"geojson"!==O)throw new Error('Source "'+v+'" is not of type "vector" or "geojson", but "'+O+'"')}var M=b[T];M||(M=b[T]=[]),M.push({layer:C,index:w}),x.push(S)}delete pn[S],delete fn[S]}var R=new s.Z,I=new a.Z,L={},k={},A=[],F=function(t,e){var r=t.getProperties(),d=b[r.layer];if(d){var y=n.indexOf(e);-1==y&&(y=function(t,e){for(var r=0,n=e.length;r<n;++r)if(e[r]<t&&r+1<n){var i=e[r]/e[r+1];return r+Math.log(e[r]/t)/Math.log(i)}return n-1}(e,n));for(var v=ln[t.getGeometry().getType()],_={properties:r,type:v},x=-1,w=function(n,b){var w=d[n],E=w.layer,C=E.id,S=E.layout||cn,T=E.paint||cn;if("none"===S.visibility||"minzoom"in E&&y<E.minzoom||"maxzoom"in E&&y>=E.maxzoom)return"continue";var P=E.filter;if(!P||gn(C,P,_,y)){var O=void 0,M=void 0,F=void 0,N=void 0,Z=void 0,j=void 0,D=w.index;if(3==v&&"fill"==E.type)if(M=dn(E,"paint","fill-opacity",y,_),"fill-pattern"in T){var G=dn(E,"paint","fill-pattern",y,_);if(G){var z="string"==typeof G?vn(G,r):G.toString();if(g&&p&&p[z]){++x,(j=A[x])&&j.getFill()&&!j.getStroke()&&!j.getText()||(j=A[x]=new o.ZP({fill:new a.Z})),F=j.getFill(),j.setZIndex(D);var U=k[yt=z+"."+M];if(!U){var B=p[z];(vt=document.createElement("canvas")).width=B.width,vt.height=B.height,(_t=vt.getContext("2d")).globalAlpha=M,_t.drawImage(g,B.x,B.y,B.width,B.height,0,0,B.width,B.height),U=_t.createPattern(vt,"repeat"),k[yt]=U}F.setColor(U)}}}else(O=mn(dn(E,"paint","fill-color",y,_),M))&&("fill-outline-color"in T&&(Z=mn(dn(E,"paint","fill-outline-color",y,_),M)),Z||(Z=O),++x,(j=A[x])&&j.getFill()&&j.getStroke()&&!j.getText()||(j=A[x]=new o.ZP({fill:new a.Z,stroke:new s.Z})),(F=j.getFill()).setColor(O),(N=j.getStroke()).setColor(Z),N.setWidth(1),j.setZIndex(D));if(1!=v&&"line"==E.type){O=!("line-pattern"in T)&&"line-color"in T?mn(dn(E,"paint","line-color",y,_),dn(E,"paint","line-opacity",y,_)):void 0;var q=dn(E,"paint","line-width",y,_);O&&q>0&&(++x,(j=A[x])&&j.getStroke()&&!j.getFill()&&!j.getText()||(j=A[x]=new o.ZP({stroke:new s.Z})),(N=j.getStroke()).setLineCap(dn(E,"layout","line-cap",y,_)),N.setLineJoin(dn(E,"layout","line-join",y,_)),N.setMiterLimit(dn(E,"layout","line-miter-limit",y,_)),N.setColor(O),N.setWidth(q),N.setLineDash(T["line-dasharray"]?dn(E,"paint","line-dasharray",y,_).map((function(t){return t*q})):null),j.setZIndex(D))}var V=!1,Y=null,W=0,X=void 0,H=void 0,K=void 0;if((1==v||2==v)&&"icon-image"in S){var J=dn(E,"layout","icon-image",y,_);if(J){X="string"==typeof J?vn(J,r):J.toString();var $=void 0;if(g&&p&&p[X]){var Q=dn(E,"layout","icon-rotation-alignment",y,_);if(2==v){var tt=t.getGeometry();if(tt.getFlatMidpoint){var et=tt.getExtent();if(Math.sqrt(Math.max(Math.pow((et[2]-et[0])/e,2),Math.pow((et[3]-et[1])/e,2)))>150){var rt=tt.getFlatMidpoint();if(rn||(en=[NaN,NaN],rn=new h.Z("Point",en,[],{},null)),$=rn,en[0]=rt[0],en[1]=rt[1],"line"===(Dt=dn(E,"layout","symbol-placement",y,_))&&"map"===Q)for(var nt=tt.getStride(),it=tt.getFlatCoordinates(),ot=0,at=it.length-nt;ot<at;ot+=nt){var st=it[ot],lt=it[ot+1],ut=it[ot+nt],ct=it[ot+nt+1],ht=Math.min(st,ut),pt=Math.min(lt,ct),dt=Math.max(st,ut),ft=Math.max(lt,ct);if(rt[0]>=ht&&rt[0]<=dt&&rt[1]>=pt&&rt[1]<=ft){W=Math.atan2(lt-ct,ut-st);break}}}}}if(2!==v||$){++x,(j=A[x])&&j.getImage()&&!j.getFill()&&!j.getStroke()||(j=A[x]=new o.ZP),j.setGeometry($);var gt=dn(E,"layout","icon-size",y,_),mt=void 0!==T["icon-color"]?dn(E,"paint","icon-color",y,_):null,yt=X+"."+gt;if(null!==mt&&(yt+="."+mt),!(H=L[yt])){B=p[X];if(null!==mt){var vt,_t;(vt=document.createElement("canvas")).width=B.width,vt.height=B.height,(_t=vt.getContext("2d")).drawImage(g,B.x,B.y,B.width,B.height,0,0,B.width,B.height);for(var bt=_t.getImageData(0,0,vt.width,vt.height),xt=0,wt=bt.data.length;xt<wt;xt+=4){var Et=mt.a;0!==Et&&(bt.data[xt]=255*mt.r/Et,bt.data[xt+1]=255*mt.g/Et,bt.data[xt+2]=255*mt.b/Et),bt.data[xt+3]=Et}_t.putImageData(bt,0,0),H=L[yt]=new l.Z({img:vt,imgSize:[vt.width,vt.height],scale:gt/B.pixelRatio})}else H=L[yt]=new l.Z({img:g,imgSize:m,size:[B.width,B.height],offset:[B.x,B.y],rotateWithView:"map"===Q,scale:gt/B.pixelRatio})}H.setRotation(W+Wr(dn(E,"layout","icon-rotate",y,_))),H.setOpacity(dn(E,"paint","icon-opacity",y,_)),H.setAnchor(un[dn(E,"layout","icon-anchor",y,_)]),j.setImage(H),Y=j.getText(),j.setText(void 0),j.setZIndex(D),V=!0,K=!1}else K=!0}}}if(1==v&&"circle-radius"in T){++x,(j=A[x])&&j.getImage()&&!j.getFill()&&!j.getStroke()||(j=A[x]=new o.ZP);var Ct=dn(E,"paint","circle-radius",y,_),St=mn(dn(E,"paint","circle-stroke-color",y,_),dn(E,"paint","circle-stroke-opacity",y,_)),Tt=mn(dn(E,"paint","circle-color",y,_),dn(E,"paint","circle-opacity",y,_)),Pt=dn(E,"paint","circle-stroke-width",y,_),Ot=Ct+"."+St+"."+Tt+"."+Pt;(H=L[Ot])||(H=L[Ot]=new c.default({radius:Ct,stroke:St&&Pt>0?new s.Z({width:Pt,color:St}):void 0,fill:Tt?new a.Z({color:Tt}):void 0})),j.setImage(H),Y=j.getText(),j.setText(void 0),j.setGeometry(void 0),j.setZIndex(D),V=!0}var Mt=void 0;if("text-field"in S)Mt=vn(dn(E,"layout","text-field",y,_).toString(),r).trim(),M=dn(E,"paint","text-opacity",y,_);if(Mt&&M&&!K){V||(++x,(j=A[x])&&j.getText()&&!j.getFill()&&!j.getStroke()||(j=A[x]=new o.ZP),j.setImage(void 0),j.setGeometry(void 0)),j.getText()||j.setText(Y||new u.Z({padding:[2,2,2,2]})),Y=j.getText();var Rt=Math.round(dn(E,"layout","text-size",y,_)),It=dn(E,"layout","text-font",y,_),Lt=dn(E,"layout","text-line-height",y,_),kt=i()(f?f(It):It,Rt,Lt),At=S["text-transform"];"uppercase"==At?Mt=Mt.toUpperCase():"lowercase"==At&&(Mt=Mt.toLowerCase());var Ft=dn(E,"layout","text-max-width",y,_),Nt=dn(E,"layout","text-letter-spacing",y,_),Zt=2==v?Kr(Mt,Nt):tn(Mt,kt,Ft,Nt);Y.setText(Zt),Y.setFont(kt),Y.setRotation(Wr(dn(E,"layout","text-rotate",y,_)));var jt=dn(E,"layout","text-anchor",y,_),Dt=V||1==v?"point":dn(E,"layout","symbol-placement",y,_);Y.setPlacement(Dt);var Gt=dn(E,"paint","text-halo-width",y,_),zt=dn(E,"layout","text-offset",y,_),Ut=dn(E,"paint","text-translate",y,_),Bt=0,qt=0;if("point"==Dt){var Vt="center";-1!==jt.indexOf("left")?(Vt="left",qt=Gt):-1!==jt.indexOf("right")&&(Vt="right",qt=-Gt),Y.setTextAlign(Vt);var Yt=dn(E,"layout","text-rotation-alignment",y,_);Y.setRotateWithView("map"==Yt)}else Y.setMaxAngle(Wr(dn(E,"layout","text-max-angle",y,_))*Mt.length/Zt.length),Y.setTextAlign(),Y.setRotateWithView(!1);var Wt="middle";0==jt.indexOf("bottom")?(Wt="bottom",Bt=-Gt-.5*(Lt-1)*Rt):0==jt.indexOf("top")&&(Wt="top",Bt=Gt+.5*(Lt-1)*Rt),Y.setTextBaseline(Wt),Y.setOffsetX(zt[0]*Rt+qt+Ut[0]),Y.setOffsetY(zt[1]*Rt+Bt+Ut[1]),I.setColor(mn(dn(E,"paint","text-color",y,_),M)),Y.setFill(I);var Xt=mn(dn(E,"paint","text-halo-color",y,_),M);if(Xt){R.setColor(Xt),Gt*=2;var Ht=.5*Rt;R.setWidth(Gt<=Ht?Gt:Ht),Y.setStroke(R)}else Y.setStroke(void 0);var Kt=dn(E,"layout","text-padding",y,_),Jt=Y.getPadding();Kt!==Jt[0]&&(Jt[0]=Jt[1]=Jt[2]=Jt[3]=Kt),j.setZIndex(D)}}},E=0,C=d.length;E<C;++E)w(E);return x>-1?(A.length=x+1,A):void 0}};return t.setStyle(F),t.set("mapbox-source",v),t.set("mapbox-layers",x),F}var bn,xn=r(76121),wn=r.n(xn),En=r(93558),Cn=r(57084),Sn=r(66824),Tn=r(20385),Pn=r(11903),On=r(19569),Mn=r(16659),Rn=r(68459),In=r(94286),Ln=r(26692),kn=r(92184),An=r(76291),Fn=r(40622),Nn=r(35274),Zn={},jn=/font-family: ?([^;]*);/,Dn=/("|')/g;function Gn(t){if(!bn){bn={};for(var e=document.styleSheets,r=0,n=e.length;r<n;++r){var i=e[r];try{var o=i.rules||i.cssRules;if(o)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(5==l.type){var u=l.cssText.match(jn);bn[u[1].replace(Dn,"")]=!0}}}catch(t){}}}return t in bn}var zn={},Un=wn().getNames();function Bn(t){var e=t.toString();if(e in zn)return t;for(var r=t.map((function(t){var e=i()(t,1).split(" ");return[e.slice(3).join(" ").replace(/"/g,""),e[1]+e[0]]})),n=0,o=r.length;n<o;++n){var a=r[n],s=a[0];if(!Gn(s)&&-1!==Un.indexOf(s)){var l="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+a[1];if(!document.querySelector('link[href="'+l+'"]')){var u=document.createElement("link");u.href=l,u.rel="stylesheet",document.head.appendChild(u)}}}return zn[e]=!0,t}var qn=/^(.*)(\?.*)$/;function Vn(t,e){return e&&t.startsWith(".")&&(t=e+t),t}function Yn(t,e,r){var n=(t=Vn(t,e)).match(qn);return n?n[1]+r+(n.length>2?n[2]:""):t+r}function Wn(t,e,r,n,i){return new Promise((function(o,a){if("object"!=typeof e&&(e=JSON.parse(e)),8!=e.version)return a(new Error("glStyle version 8 required."));if(!(t instanceof Ln.Z||t instanceof kn.default))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,l,u;function c(){u||e.sprite&&!s?u?(t.setStyle(u),o()):a(new Error("Something went wrong trying to apply style.")):(u=_n(t,e,r,i,s,l,Bn),t.getStyle()?o():a(new Error("Nothing to show for source ["+r+"]")))}if(e.sprite){var h=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",p=Yn(e.sprite,n,h+".json");fetch(p,{credentials:"same-origin"}).then((function(t){return t.ok||""===h?t:(p=Yn(e.sprite,n,".json"),fetch(p,{credentials:"same-origin"}))})).then((function(t){if(t.ok)return t.json();a(new Error("Problem fetching sprite from "+p+": "+t.statusText))})).then((function(t){if(void 0===t||0===Object.keys(t).length)return a(new Error("No sprites found."));s=t,l=Yn(e.sprite,n,h+".png"),c()})).catch((function(t){a(new Error("Sprites cannot be loaded: "+p+": "+t.message))}))}else c()}))}var Xn={};function Hn(t,e){var r={type:e.type};function n(){var n=t.getTargetElement();if(n){var i=e.layout||{},o=e.paint||{};r.paint=o,r.id="olms-bg-"+o["background-opacity"]+o["background-color"];var a=t.getView().getZoom();if(void 0!==o["background-color"]){var s=dn(r,"paint","background-color",a,Xn);n.style.backgroundColor=nt.parse(s).toString()}void 0!==o["background-opacity"]&&(n.style.opacity=dn(r,"paint","background-opacity",a,Xn)),"none"==i.visibility&&(n.style.backgroundColor="",n.style.opacity="")}}t.getTargetElement()&&n(),t.on(["change:resolution","change:target"],n)}function Kn(t,e){e.layers.some((function(e){if("background"==e.type)return Hn(t,e),!0}))}function Jn(t){var e=t.bounds;if(e){var r=(0,En.fromLonLat)([e[0],e[1]]),n=(0,En.fromLonLat)([e[2],e[3]]);return[r[0],r[1],n[0],n[1]]}}var $n=new On.default;function Qn(t,e,r){var n=dn(t,"paint","raster-opacity",r.getZoom(),Xn);e.setOpacity(n)}function ti(t,e,r,n,i,o){var a=[],s=e.getView();s.isDef()||s.getRotation()||s.getResolutions()||(s=new Pn.ZP({maxResolution:Xr[0]}),e.setView(s)),"center"in t&&!s.getCenter()&&s.setCenter((0,En.fromLonLat)(t.center)),"zoom"in t&&void 0===s.getZoom()&&s.setResolution(Xr[0]/Math.pow(2,t.zoom)),s.getCenter()&&void 0!==s.getZoom()||s.fit(s.getProjection().getExtent(),{nearest:!0,size:e.getSize()}),t.sprite&&(0==t.sprite.indexOf("mapbox://")?t.sprite=r+"/sprite"+o:0!=t.sprite.indexOf("http")&&(t.sprite=(n?n+i:"")+t.sprite+o));for(var l,u,c,h,p,d,f=t.layers,g=[],m=function(r,n){var m,v,_,b=(l=f[r]).type;if("heatmap"==b||"fill-extrusion"==b||"hillshade"==b);else if("background"==b)Hn(e,l);else{if(h=l.source||(m=f,v=l.ref,m.some((function(t){if(t.id==v)return _=t.source,!0})),_),h!=c){if(g.length&&(a.push(ni(p,g,t,i,e)),g=[]),u=t.sources[h],(d=u.url)&&0==(d=Vn(d,i)).indexOf("mapbox://")){var x=d.replace("mapbox://","");u.tiles=["a","b","c","d"].map((function(t){return"https://"+t+".tiles.mapbox.com/v4/"+x+"/{z}/{x}/{y}."+("vector"==u.type?"vector.pbf":"png")+o}))}"vector"==u.type?p=function(t,e,r){t=Object.assign({},t);var n=new kn.default({declutter:!0,visible:!1}),i=JSON.stringify(t),o=Zn[i];o||(o=Zn[i]=new An.default({url:t.tiles?void 0:r,tileJSON:t.tiles?t:void 0}));var a=o.on("change",(function(){var e=o.getState();if("ready"===e){var r=o.getTileJSON(),i=Array.isArray(r.tiles)?r.tiles:[r.tiles];if(t.url)for(var s=0,l=i.length;s<l;++s){var u=i[s];0!=u.indexOf("http")&&(i[s]=t.url+u)}var c=o.getTileGrid(),h=Jn(r),p=r.minzoom||0,d=r.maxzoom||22,f=o.get("ol-source");void 0===f&&(f=new Nn.default({attributions:o.getAttributions(),format:new Mn.Z,tileGrid:new Sn.Z({origin:c.getOrigin(0),extent:h||c.getExtent(),minZoom:p,resolutions:Xr.slice(0,d+1),tileSize:512}),urls:i}),o.set("ol-source",f)),(0,Rn.unByKey)(a),n.setSource(f)}else"error"===e&&(o.set("ol-source",null),(0,Rn.unByKey)(a),n.setSource(void 0))}));return"ready"===o.getState()&&o.changed(),n}(u,0,d):"raster"==u.type?(p=function(t,e){var r=new In.default,n=new An.default({transition:0,url:t.tiles?void 0:e,tileJSON:t.tiles?t:void 0,crossOrigin:"anonymous"}),i=n.on("change",(function(){var e=n.getState();if("ready"===e){(0,Rn.unByKey)(i);var o=n.getTileJSON(),a=Jn(o),s=n.getTileGrid(),l=t.tileSize||o.tileSize||512,u=o.minzoom||0,c=o.maxzoom||22;n.tileGrid=new Sn.Z({origin:s.getOrigin(0),extent:a||s.getExtent(),minZoom:u,resolutions:(0,Cn.createXYZ)({maxZoom:c,tileSize:l}).getResolutions(),tileSize:l}),r.setSource(n)}else"error"===e&&((0,Rn.unByKey)(i),r.setSource(void 0))}));return n.setTileLoadFunction((function(t,e){if(-1!=e.indexOf("{bbox-epsg-3857}")){var r=n.getTileGrid().getTileCoordExtent(t.getTileCoord());e=e.replace("{bbox-epsg-3857}",r.toString())}t.getImage().src=e})),r}(u,d),p.setVisible(!l.layout||"none"!==l.layout.visibility),s.on("change:resolution",Qn.bind(y,l,p,s)),Qn(l,p,s)):"geojson"==u.type&&(p=function(t,e){var r,n,i=t.data;return"string"==typeof i?n=Vn(i,e):r=$n.readFeatures(i,{featureProjection:"EPSG:3857"}),new Ln.Z({source:new Fn.Z({attributions:t.attribution,features:r,format:$n,url:n}),visible:!1})}(u,i)),c=h,p&&p.set("mapbox-source",c)}g.push(l.id)}},y=this,v=0,_=f.length;v<_;++v)m(v);return a.push(ni(p,g,t,i,e)),e.set("mapbox-style",t),Promise.all(a)}function ei(t,e){var r,n,i,o,a;if(r=n=i=o="",("string"==typeof t||t instanceof HTMLElement)&&(t=new Tn.Z({target:t})),"string"==typeof e){var s=e.match(qn);s&&(n=s[1],r=s.length>2?s[2]:""),a=new Promise((function(a,s){fetch(e,{credentials:"same-origin"}).then((function(t){return t.json()})).then((function(l){var u=document.createElement("A");u.href=e;var c=u.href;o=u.pathname.split("/").slice(0,-1).join("/")+"/",i=c.substr(0,c.indexOf(o)),ti(l,t,n,i,o,r).then((function(){a(t)})).catch(s)})).catch((function(t){s(new Error("Could not load "+e+": "+t.message))}))}))}else a=new Promise((function(r,n){ti(e,t).then((function(){r(t)})).catch(n)}));return a}function ri(t,e){return("string"==typeof t||t instanceof HTMLElement)&&(t=new Tn.Z({target:t})),setTimeout((function(){ei(t,e)}),0),t}function ni(t,e,r,n,i){for(var o=24,a=0,s=r.layers,l=0,u=s.length;l<u;++l){var c=s[l];-1!==e.indexOf(c.id)&&(o=Math.min("minzoom"in c?c.minzoom:0,o),a=Math.max("maxzoom"in c?c.maxzoom:24,a))}return new Promise((function(s,l){var u=function(){var i=t.getSource();if(i&&"error"!==i.getState()){if("function"==typeof i.getTileGrid){var u=i.getTileGrid();if(u){var c=u.getMinZoom();(o>0||c>0)&&t.setMaxResolution(Math.min(Xr[o],u.getResolution(c))+1e-9),a<24&&t.setMinResolution(Xr[a]+1e-9)}}i instanceof Fn.Z||i instanceof Nn.default?Wn(t,r,e,n).then((function(){t.setVisible(!0),s()}),(function(t){l(t)})):s()}else l(new Error("Error accessing data for source "+t.get("mapbox-source")))};t.set("mapbox-layers",e),-1===i.getLayers().getArray().indexOf(t)&&i.addLayer(t),t.getSource()?u():t.once("change:source",u)}))}function ii(t,e){for(var r=t.getLayers().getArray(),n=0,i=r.length;n<i;++n){var o=r[n].get("mapbox-layers");if(o&&-1!==o.indexOf(e))return r[n]}}function oi(t,e){for(var r=[],n=t.getLayers().getArray(),i=0,o=n.length;i<o;++i)n[i].get("mapbox-source")===e&&r.push(n[i]);return r}function ai(t,e){for(var r=t.getLayers().getArray(),n=0,i=r.length;n<i;++n){var o=r[n].getSource();if(r[n].get("mapbox-source")===e)return o}}},59049:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n,i=r(19579),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e){var r=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.q4?i.q4:"v"+i.q4.split("-")[0])+"/doc/errors/#"+e+" for details.";return(r=t.call(this,n)||this).code=e,r.name="AssertionError",r.message=n,r}return o(e,t),e}(Error)},17850:(t,e,r)=>{"use strict";r.r(e),r.d(e,{CollectionEvent:()=>c,default:()=>h});var n,i=r(59049),o=r(48625),a=r(10906),s=r(22567),l=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u="length",c=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.element=r,i.index=n,i}return l(e,t),e}(s.ZP);const h=function(t){function e(e,r){var n=t.call(this)||this,i=r||{};if(n.unique_=!!i.unique,n.array_=e||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)t(e[r],r,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(u)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(o.Z.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)if(e[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(o.Z.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(o.Z.REMOVE,n,t)),this.dispatchEvent(new c(o.Z.ADD,e,t))}else{for(var i=r;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(u,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===t&&r!==e)throw new i.Z(58)},e}(a.ZP)},48625:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={ADD:"add",REMOVE:"remove"}},85763:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}()},41013:(t,e,r)=>{"use strict";r.r(e),r.d(e,{createStyleFunction:()=>u,default:()=>c});var n,i=r(15989),o=r(53732),a=r(21092),s=r(10906),l=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function u(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,i.h)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}const c=function(t){function e(e){var r=t.call(this)||this;if(r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener((0,s.v_)(r.geometryName_),r.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;r.setGeometry(n)}else{var i=e;r.setProperties(i)}return r}return l(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,o.oL)(t,a.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?u(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener((0,s.v_)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener((0,s.v_)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(s.ZP)},63388:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>w});var n,i=r(10906),o=r(22567),a=r(21092),s=r(36850),l=r(25529),u=r(93558),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h="accuracy",p="accuracyGeometry",d="altitude",f="altitudeAccuracy",g="heading",m="position",y="projection",v="speed",_="tracking",b="trackingOptions",x=function(t){function e(e){var r=t.call(this,a.Z.ERROR)||this;return r.code=e.code,r.message=e.message,r}return c(e,t),e}(o.ZP);const w=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.position_=null,r.transform_=u.identityTransform,r.watchId_=void 0,r.addEventListener((0,i.v_)(y),r.handleProjectionChanged_),r.addEventListener((0,i.v_)(_),r.handleTrackingChanged_),void 0!==n.projection&&r.setProjection(n.projection),void 0!==n.trackingOptions&&r.setTrackingOptions(n.trackingOptions),r.setTracking(void 0!==n.tracking&&n.tracking),r}return c(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,u.getTransformFromProjections)((0,u.get)("EPSG:4326"),t),this.position_&&this.set(m,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(h,e.accuracy),this.set(d,null===e.altitude?void 0:e.altitude),this.set(f,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(g,null===e.heading?void 0:(0,l.Yr)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var r=this.transform_(this.position_);this.set(m,r),this.set(v,null===e.speed?void 0:e.speed);var n=(0,s.iu)(this.position_,e.accuracy);n.applyTransform(this.transform_),this.set(p,n),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new x(t))},e.prototype.getAccuracy=function(){return this.get(h)},e.prototype.getAccuracyGeometry=function(){return this.get(p)||null},e.prototype.getAltitude=function(){return this.get(d)},e.prototype.getAltitudeAccuracy=function(){return this.get(f)},e.prototype.getHeading=function(){return this.get(g)},e.prototype.getPosition=function(){return this.get(m)},e.prototype.getProjection=function(){return this.get(y)},e.prototype.getSpeed=function(){return this.get(v)},e.prototype.getTracking=function(){return this.get(_)},e.prototype.getTrackingOptions=function(){return this.get(b)},e.prototype.setProjection=function(t){this.set(y,(0,u.get)(t))},e.prototype.setTracking=function(t){this.set(_,t)},e.prototype.setTrackingOptions=function(t){this.set(b,t)},e}(i.ZP)},59917:(t,e,r)=>{"use strict";r.d(e,{K:()=>h,Z:()=>p});var n,i=r(160),o=r(92472),a=r(53732),s=r(21092),l=r(2309),u=r(98243),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function h(t,e,r){var n=t;if(n.src&&u.Tp){var i=n.decode(),o=!0;return i.then((function(){o&&e()})).catch((function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():r())})),function(){o=!1}}var l=[(0,a.Vx)(n,s.Z.LOAD,e),(0,a.Vx)(n,s.Z.ERROR,r)];return function(){l.forEach(a.bN)}}const p=function(t){function e(e,r,n,i,a,s){var l=t.call(this,e,r,n,o.Z.IDLE)||this;return l.src_=i,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=o.Z.IDLE,l.imageLoadFunction_=s,l}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=o.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,l.getHeight)(this.extent)/this.image_.height),this.state=o.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=o.Z.IDLE&&this.state!=o.Z.ERROR||(this.state=o.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=h(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.Z)},160:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n,i=r(19579),o=r(21131),a=r(21092),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const l=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=n,o.resolution=r,o.state=i,o}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(a.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,i.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,i.O3)()},e}(o.Z)},22352:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n,i=r(160),o=r(92472),a=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const s=function(t){function e(e,r,n,i,a){var s=this,l=void 0!==a?o.Z.IDLE:o.Z.LOADED;return(s=t.call(this,e,r,n,l)||this).loader_=void 0!==a?a:null,s.canvas_=i,s.error_=null,s}return a(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=o.Z.ERROR):this.state=o.Z.LOADED,this.changed()},e.prototype.load=function(){this.state==o.Z.IDLE&&(this.state=o.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(i.Z)},92472:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},52279:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,i=r(37860),o=r(66702),a=r(77713),s=r(59917),l=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const u=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r,a)||this;return s.crossOrigin_=i,s.src_=n,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return l(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){var t;this.state=o.Z.ERROR,this.unlistenImage_(),this.image_=((t=(0,a.E4)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.Z.LOADED:this.state=o.Z.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.Z.ERROR&&(this.state=o.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.Z.IDLE&&(this.state=o.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,s.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.Z)},46557:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(t,e,r){this.decay_=t,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var r=e-3;r>0&&this.points_[r+2]>t;)r-=3;var n=this.points_[e+2]-this.points_[r+2];if(n<1e3/60)return!1;var i=this.points_[e]-this.points_[r],o=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/n,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}()},20385:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n,i=r(24430),o=r(87985),a=r(56797),s=r(19664),l=r(90482),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const c=function(t){function e(e){return(e=(0,s.f0)({},e)).controls||(e.controls=(0,o.defaults)()),e.interactions||(e.interactions=(0,a.defaults)()),t.call(this,e)||this}return u(e,t),e.prototype.createRenderer=function(){return new l.Z(this)},e}(i.Z)},17139:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n,i=r(42626),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r,o)||this;return a.originalEvent=n,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return o(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(i.Z)},8823:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});r(98099);var n,i=r(98243),o=r(58544),a=r(96754),s=r(53732),l=r(21131),u=r(87090),c=r(21092),h=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const p=function(t){function e(e,r){var n=t.call(this,e)||this;n.map_=e,n.clickTimeoutId_,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=r?r*i.MP:i.MP,n.down_=null;var o=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=o,n.pointerdownListenerKey_=(0,s.oL)(o,u.Z.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=(0,s.oL)(o,u.Z.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(c.Z.TOUCHMOVE,n.boundHandleTouchMove_,!!i.bM&&{passive:!1}),n}return h(e,t),e.prototype.emulateClick_=function(t){var e=new a.Z(o.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new a.Z(o.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new a.Z(o.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==o.Z.POINTERUP||e.type==o.Z.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==o.Z.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new a.Z(o.Z.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(s.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new a.Z(o.Z.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push((0,s.oL)(document,o.Z.POINTERMOVE,this.handlePointerMove_,this),(0,s.oL)(document,o.Z.POINTERUP,this.handlePointerUp_,this),(0,s.oL)(this.element_,o.Z.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new a.Z(o.Z.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new a.Z(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_.defaultPrevented&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,s.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(c.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,s.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(s.bN),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(l.Z)},58544:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(21092);const i={SINGLECLICK:"singleclick",CLICK:n.Z.CLICK,DBLCLICK:n.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},96754:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n,i=r(17139),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r,n,i,o)||this;return a.pointerEvent=n,a}return o(e,t),e}(i.Z)},42626:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n,i=r(22567),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.map=r,i.frameState=void 0!==n?n:null,i}return o(e,t),e}(i.ZP)},86460:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},8796:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},10906:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>f,v_:()=>d});var n,i=r(19579),o=r(27332),a=r(68459),s=r(22567),l=r(19664),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.key=r,i.oldValue=n,i}return u(e,t),e}(s.ZP),h=function(t){function e(e){var r=t.call(this)||this;return(0,i.sq)(r),r.values_={},void 0!==e&&r.setProperties(e),r}return u(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return(0,l.f0)({},this.values_)},e.prototype.notify=function(t,e){var r;r=d(t),this.dispatchEvent(new c(r,t,e)),r=o.Z.PROPERTYCHANGE,this.dispatchEvent(new c(r,t,e))},e.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},e.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},e.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},e}(a.default),p={};function d(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}const f=h},27332:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={PROPERTYCHANGE:"propertychange"}},68459:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u,unByKey:()=>l});var n,i=r(53732),o=r(21131),a=r(21092),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function l(t){if(Array.isArray(t))for(var e=0,r=t.length;e<r;++e)(0,i.bN)(t[e]);else(0,i.bN)(t)}const u=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=(0,i.oL)(this,t[o],e);return n}return(0,i.oL)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=(0,i.Vx)(this,t[o],e);return n}return(0,i.Vx)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(o.Z)},32246:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n,i=r(86460),o=r(10906),a=r(4029),s=r(17333),l=r(77713),u=r(53732),c=r(2309),h=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p="element",d="map",f="offset",g="position",m="positioning";const y=function(t){function e(e){var r=t.call(this)||this;return r.options=e,r.id=e.id,r.insertFirst=void 0===e.insertFirst||e.insertFirst,r.stopEvent=void 0===e.stopEvent||e.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.$A,r.element.style.position="absolute",r.autoPan=void 0!==e.autoPan&&e.autoPan,r.autoPanAnimation=e.autoPanAnimation||{},r.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,r.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addEventListener((0,o.v_)(p),r.handleElementChanged),r.addEventListener((0,o.v_)(d),r.handleMapChanged),r.addEventListener((0,o.v_)(f),r.handleOffsetChanged),r.addEventListener((0,o.v_)(g),r.handlePositionChanged),r.addEventListener((0,o.v_)(m),r.handlePositioningChanged),void 0!==e.element&&r.setElement(e.element),r.setOffset(void 0!==e.offset?e.offset:[0,0]),r.setPositioning(void 0!==e.positioning?e.positioning:a.Z.TOP_LEFT),void 0!==e.position&&r.setPosition(e.position),r}return h(e,t),e.prototype.getElement=function(){return this.get(p)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(d)},e.prototype.getOffset=function(){return this.get(f)},e.prototype.getPosition=function(){return this.get(g)},e.prototype.getPositioning=function(){return this.get(m)},e.prototype.handleElementChanged=function(){(0,l.ep)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,l.ZF)(this.element),(0,u.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,u.oL)(t,i.Z.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(g)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(p,t)},e.prototype.setMap=function(t){this.set(d,t)},e.prototype.setOffset=function(t){this.set(f,t)},e.prototype.setPosition=function(t){this.set(g,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),n=this.getRect(r,[(0,l.iO)(r),(0,l.Pb)(r)]),i=this.autoPanMargin;if(!(0,c.containsExtent)(e,n)){var o=n[0]-e[0],a=e[2]-n[2],s=n[1]-e[1],u=e[3]-n[3],h=[0,0];if(o<0?h[0]=o-i:a<0&&(h[0]=Math.abs(a)+i),s<0?h[1]=s-i:u<0&&(h[1]=Math.abs(u)+i),0!==h[0]||0!==h[1]){var p=t.getView().getCenterInternal(),d=t.getPixelFromCoordinateInternal(p),f=[d[0]+h[0],d[1]+h[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(f),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var r=t.getBoundingClientRect(),n=r.left+window.pageXOffset,i=r.top+window.pageYOffset;return[n,i,n+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(m,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var r=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(r,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var r=this.element.style,n=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=n[0],s=n[1];if(i==a.Z.BOTTOM_RIGHT||i==a.Z.CENTER_RIGHT||i==a.Z.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_="",r.left="");var l=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=l&&(this.rendered.right_=l,r.right=l)}else{""!==this.rendered.right_&&(this.rendered.right_="",r.right=""),i!=a.Z.BOTTOM_CENTER&&i!=a.Z.CENTER_CENTER&&i!=a.Z.TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=u,r.left=u)}if(i==a.Z.BOTTOM_LEFT||i==a.Z.BOTTOM_CENTER||i==a.Z.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_="",r.top="");var c=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=c,r.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",r.bottom=""),i!=a.Z.CENTER_LEFT&&i!=a.Z.CENTER_CENTER&&i!=a.Z.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_="top",r.top=h)}},e.prototype.getOptions=function(){return this.options},e}(o.ZP)},4029:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},24430:(t,e,r)=>{"use strict";r.d(e,{Z:()=>I});var n,i=r(17850),o=r(48625),a=r(17139),s=r(8823),l=r(58544),u=r(42626),c=r(86460),h=r(8796),p=r(17616),d=r(10906),f=r(27332),g=r(7081),m=r(11903),y=r(54468),v=r(15989),_=r(77713),b=r(53732),x=r(21092),w=r(2309),E=r(62166),C=r(98243),S=r(38964),T=r(18581),P=r(91419),O=r(3657),M=r(93558),R=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const I=function(t){function e(e){var r=t.call(this)||this,n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var r,n,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new S.default({layers:t.layers});a[h.Z.LAYERGROUP]=s,a[h.Z.TARGET]=t.target,a[h.Z.VIEW]=void 0!==t.view?t.view:new m.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?r=new i.default(t.controls.slice()):((0,v.h)("function"==typeof t.controls.getArray,47),r=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new i.default(t.interactions.slice()):((0,v.h)("function"==typeof t.interactions.getArray,48),n=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new i.default(t.overlays.slice()):((0,v.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new i.default;return{controls:r,interactions:n,keyboardEventTarget:e,overlays:o,values:a}}(e);r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,r.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:C.MP,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=(0,O.Ue)(),r.pixelToCoordinateTransform_=(0,O.Ue)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=new s.Z(r,e.moveTolerance);var a=r.handleMapBrowserEvent.bind(r);for(var u in l.Z)r.mapBrowserEventHandler_.addEventListener(l.Z[u],a);r.keyboardEventTarget_=n.keyboardEventTarget,r.keyHandlerKeys_=null;var c=r.handleBrowserEvent.bind(r);return r.viewport_.addEventListener(x.Z.CONTEXTMENU,c,!1),r.viewport_.addEventListener(x.Z.WHEEL,c,!!C.bM&&{passive:!1}),r.controls=n.controls||new i.default,r.interactions=n.interactions||new i.default,r.overlays_=n.overlays,r.overlayIdIndex_={},r.renderer_=null,r.handleResize_,r.postRenderFunctions_=[],r.tileQueue_=new g.Z(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addEventListener((0,d.v_)(h.Z.LAYERGROUP),r.handleLayerGroupChanged_),r.addEventListener((0,d.v_)(h.Z.VIEW),r.handleViewChanged_),r.addEventListener((0,d.v_)(h.Z.SIZE),r.handleSizeChanged_),r.addEventListener((0,d.v_)(h.Z.TARGET),r.handleTargetChanged_),r.setProperties(n.values),r.controls.forEach(function(t){t.setMap(this)}.bind(r)),r.controls.addEventListener(o.Z.ADD,function(t){t.element.setMap(this)}.bind(r)),r.controls.addEventListener(o.Z.REMOVE,function(t){t.element.setMap(null)}.bind(r)),r.interactions.forEach(function(t){t.setMap(this)}.bind(r)),r.interactions.addEventListener(o.Z.ADD,function(t){t.element.setMap(this)}.bind(r)),r.interactions.addEventListener(o.Z.REMOVE,function(t){t.element.setMap(null)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r.overlays_.addEventListener(o.Z.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(r)),r.overlays_.addEventListener(o.Z.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(r)),r}return R(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(x.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(x.Z.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(x.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,r){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:E.uX,a=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var r=[];return this.forEachFeatureAtPixel(t,(function(t){r.push(t)}),e),r},e.prototype.forEachLayerAtPixel=function(t,e,r){if(this.frameState_){var n=r||{},i=void 0!==n.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||E.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:E.uX,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,o,n,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-e.left,r.clientY-e.top]},e.prototype.getTarget=function(){return this.get(h.Z.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return(0,M.toUserCoordinate)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?(0,O.nn)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(h.Z.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,r=t.length;e<r;++e){var n=t[e].layer.getSource();if(n&&n.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=(0,M.fromUserCoordinate)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?(0,O.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(h.Z.SIZE)},e.prototype.getView=function(){return this.get(h.Z.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,r,n){var i=this.frameState_;if(!i||!(e in i.wantedTiles))return P.r;if(!i.wantedTiles[e][t.getKey()])return P.r;var o=i.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(n)+Math.sqrt(a*a+s*s)/n},e.prototype.handleBrowserEvent=function(t,e){var r=e||t.type,n=new a.Z(r,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent.target;if(t.dragging||!this.overlayContainerStopEvent_.contains(e)&&document.body.contains(e)){t.frameState=this.frameState_;var r=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=r.length-1;n>=0;n--){var i=r[n];if(i.getActive())if(!i.handleEvent(t))break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var r=this.maxTilesLoading_,n=r;if(t){var i=t.viewHints;if(i[y.Z.ANIMATING]||i[y.Z.INTERACTING]){var o=!C.Tp&&Date.now()-t.time>8;r=o?0:8,n=o?0:2}}e.getTilesLoading()<r&&(e.reprioritize(),e.loadMoreTiles(r,n))}!t||!this.hasListener(p.Z.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(p.Z.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,r=this.keyHandlerKeys_.length;e<r;++e)(0,b.bN)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,b.oL)(n,x.Z.KEYDOWN,this.handleBrowserEvent,this),(0,b.oL)(n,x.Z.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(x.Z.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),(0,_.ZF)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(x.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,b.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,b.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,b.oL)(t,f.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,b.oL)(t,x.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(b.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,b.oL)(t,f.Z.PROPERTYCHANGE,this.render,this),(0,b.oL)(t,x.Z.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,r=t.length;e<r;++e){var n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),r=this.getView(),n=this.frameState_,i=null;if(void 0!==e&&(0,T.py)(e)&&r&&r.isDef()){var o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:n?n.declutterItems:[],extent:(0,w.getForViewAndSize)(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n)(!this.previousExtent_||!(0,w.isEmpty)(this.previousExtent_)&&!(0,w.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new u.Z(c.Z.MOVESTART,this,n)),this.previousExtent_=(0,w.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!i.viewHints[y.Z.ANIMATING]&&!i.viewHints[y.Z.INTERACTING]&&!(0,w.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new u.Z(c.Z.MOVEEND,this,i)),(0,w.clone)(i.extent,this.previousExtent_))}this.dispatchEvent(new u.Z(c.Z.POSTRENDER,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(h.Z.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(h.Z.SIZE,t)},e.prototype.setTarget=function(t){this.set(h.Z.TARGET,t)},e.prototype.setView=function(t){this.set(h.Z.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(e=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(e)}},e}(d.ZP)},37860:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n,i=r(66702),o=r(92502),a=r(21131),s=r(21092),l=r(19579),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const c=function(t){function e(e,r,n){var i=t.call(this)||this,o=n||{};return i.tileCoord=e,i.state=r,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return u(e,t),e.prototype.changed=function(){this.dispatchEvent(s.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==i.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==i.Z.LOADED){t.interimTile=null;break}t.getState()==i.Z.LOADING?e=t:t.getState()==i.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==i.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,l.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var n=e-r+1e3/60;return n>=this.transition_?1:(0,o.easeIn)(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.Z)},28761:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(15989);const i=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var r=this.entries_[t];return(0,n.h)(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},t.prototype.remove=function(t){var e=this.entries_[t];return(0,n.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,n.h)(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();var o,a=r(76026),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,a.Ul)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove((0,a.km)(t.tileCoord)),t.release())}.bind(this))}},e}(i)},7081:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n,i=r(66702),o=r(21092),a=r(91419),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const l=function(t){function e(e,r){var n=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=r,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return s(e,t),e.prototype.enqueue=function(e){var r=t.prototype.enqueue.call(this,e);r&&e[0].addEventListener(o.Z.CHANGE,this.boundHandleTileChange_);return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,r=e.getState();if(e.hifi&&r===i.Z.LOADED||r===i.Z.ERROR||r===i.Z.EMPTY){e.removeEventListener(o.Z.CHANGE,this.boundHandleTileChange_);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var r,n,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)n=(r=this.dequeue()[0]).getKey(),r.getState()!==i.Z.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++o,r.load())},e}(a.Z)},63017:(t,e,r)=>{"use strict";r.d(e,{T:()=>i,Z:()=>o});var n=function(){function t(t,e,r,n){this.minX=t,this.maxX=e,this.minY=r,this.maxY=n}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,r,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=r,o.maxY=i,o):new n(t,e,r,i)}const o=n},66702:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},13156:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,i=r(19579),o=r(37860),a=r(77713),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=[];const u=function(t){function e(e,r,n,i){var o=t.call(this,e,r,{transition:0})||this;return o.context_={},o.executorGroups={},o.loadingSourceTiles=0,o.errorSourceTileKeys={},o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=null,o.wantedResolution,o.getSourceTiles=i.bind(void 0,o),o.sourceZ=-1,o.hifi=!1,o.wrappedTileCoord=n,o}return s(e,t),e.prototype.getContext=function(t){var e=(0,i.sq)(t);return e in this.context_||(this.context_[e]=(0,a.E4)(1,1,l)),this.context_[e]},e.prototype.hasContext=function(t){return(0,i.sq)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=(0,i.sq)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_)l.push(this.context_[e].canvas);t.prototype.release.call(this)},e}(o.Z)},35654:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n,i=r(37860),o=r(66702),a=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const s=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r,a)||this;return s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=n,s}return a(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.load=function(){this.state==o.Z.IDLE&&(this.setState(o.Z.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(o.Z.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(o.Z.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(i.Z)},11903:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>M});var n=r(16147),i=r(62166),o=r(25529);function a(t,e,r){return function(n,i,a,s){if(n){var l=e?0:a[0]*i,u=e?0:a[1]*i,c=t[0]+l/2,h=t[2]-l/2,p=t[1]+u/2,d=t[3]-u/2;c>h&&(h=c=(h+c)/2),p>d&&(d=p=(d+p)/2);var f=(0,o.uZ)(n[0],c,h),g=(0,o.uZ)(n[1],p,d),m=30*i;return s&&r&&(f+=-m*Math.log(1+Math.max(0,c-n[0])/m)+m*Math.log(1+Math.max(0,n[0]-h)/m),g+=-m*Math.log(1+Math.max(0,p-n[1])/m)+m*Math.log(1+Math.max(0,n[1]-d)/m)),[f,g]}}}function s(t){return t}var l=r(10906),u=r(26060),c=r(2309);function h(t,e,r,n){var i=(0,c.getWidth)(e)/r[0],o=(0,c.getHeight)(e)/r[1];return n?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function p(t,e,r){var n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,r&&(n=Math.max(n,r),n/=Math.log(1+50*Math.max(0,r/t-1))/50+1),(0,o.uZ)(n,r/2,2*e)}function d(t,e,r,n,i){return function(a,s,l,u){if(void 0!==a){var c=n?h(t,n,l,i):t;return(void 0===r||r)&&u?p(a,c,e):(0,o.uZ)(a,e,c)}}}var f,g=r(97909),m=r(54468),y=r(53807),v=r(15989),_=r(24160),b=r(92502),x=r(42050),w=r(36850),E=r(19664),C=r(93558),S=r(35696),T=(f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},f(t,e)},function(t,e){function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function P(t,e){setTimeout((function(){t(e)}),0)}function O(t){return!(t.sourceCenter&&t.targetCenter&&!(0,_.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}const M=function(t){function e(e){var r=t.call(this)||this,n=(0,E.f0)({},e);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=(0,C.createProjection)(n.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.cancelAnchor_=void 0,n.center&&(n.center=(0,C.fromUserCoordinate)(n.center,r.projection_)),n.extent&&(n.extent=(0,C.fromUserExtent)(n.extent,r.projection_)),r.applyOptions_(n),r}return T(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,r,i,a=28,s=2,l=void 0!==t.minZoom?t.minZoom:0,f=void 0!==t.maxZoom?t.maxZoom:a,g=void 0!==t.zoomFactor?t.zoomFactor:s,m=void 0!==t.multiWorld&&t.multiWorld,y=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,v=void 0!==t.showFullExtent&&t.showFullExtent,_=(0,C.createProjection)(t.projection,"EPSG:3857"),b=_.getExtent(),x=t.constrainOnlyCenter,w=t.extent;m||w||!_.isGlobal()||(x=!1,w=b);if(void 0!==t.resolutions){var E=t.resolutions;r=E[l],i=void 0!==E[f]?E[f]:E[E.length-1],e=t.constrainResolution?function(t,e,r,n){return function(i,a,s,l){if(void 0!==i){var c=t[0],d=t[t.length-1],f=r?h(c,r,s,n):c;if(l)return void 0===e||e?p(i,f,d):(0,o.uZ)(i,d,f);var g=Math.min(f,i),m=Math.floor((0,u.h7)(t,g,a));return t[m]>f&&m<t.length-1?t[m+1]:t[m]}}}(E,y,!x&&w,v):d(r,i,y,!x&&w,v)}else{var T=(b?Math.max((0,c.getWidth)(b),(0,c.getHeight)(b)):360*C.METERS_PER_UNIT[S.Z.DEGREES]/_.getMetersPerUnit())/n.S/Math.pow(s,0),P=T/Math.pow(s,a-0);void 0!==(r=t.maxResolution)?l=0:r=T/Math.pow(g,l),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?r/Math.pow(g,f):T/Math.pow(g,f):P),f=l+Math.floor(Math.log(r/i)/Math.log(g)),i=r/Math.pow(g,f-l),e=t.constrainResolution?function(t,e,r,n,i,a){return function(s,l,u,c){if(void 0!==s){var d=i?h(e,i,u,a):e,f=void 0!==r?r:0;if(c)return void 0===n||n?p(s,d,f):(0,o.uZ)(s,f,d);var g=Math.ceil(Math.log(e/d)/Math.log(t)-1e-9),m=-l*(.5-1e-9)+.5,y=Math.min(d,s),v=Math.floor(Math.log(e/y)/Math.log(t)+m),_=Math.max(g,v),b=e/Math.pow(t,_);return(0,o.uZ)(b,f,d)}}}(g,r,i,y,!x&&w,v):d(r,i,y,!x&&w,v)}return{constraint:e,maxResolution:r,minResolution:i,minZoom:l,zoomFactor:g}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var r=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return a(t.extent,t.constrainOnlyCenter,e)}var r=(0,C.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,a(n,!1,!1)}return s}(t),i=e.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,g.Gw)():!1===e?g.YP:"number"==typeof e?(0,g.gE)(e):g.YP}return g.h$}(t);this.constraints_={center:r,resolution:i,rotation:l},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,E.f0)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,E.f0)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),r=0;r<e.length;++r){var n=arguments[r];n.center&&((n=(0,E.f0)({},n)).center=(0,C.fromUserCoordinate)(n.center,this.getProjection())),n.anchor&&((n=(0,E.f0)({},n)).anchor=(0,C.fromUserCoordinate)(n.anchor,this.getProjection())),e[r]=n}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(e=arguments[r-1],--r),!this.isDef()){var n=arguments[r-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&P(e,!0))}for(var i=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,u=[],c=0;c<r;++c){var h=arguments[c],p={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||b.inAndOut,callback:e};if(h.center&&(p.sourceCenter=a,p.targetCenter=h.center.slice(),a=p.targetCenter),void 0!==h.zoom?(p.sourceResolution=s,p.targetResolution=this.getResolutionForZoom(h.zoom),s=p.targetResolution):h.resolution&&(p.sourceResolution=s,p.targetResolution=h.resolution,s=p.targetResolution),void 0!==h.rotation){p.sourceRotation=l;var d=(0,o.$W)(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=l+d,l=p.targetRotation}O(p)?p.complete=!0:i+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(m.Z.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[m.Z.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[m.Z.INTERACTING]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(m.Z.ANIMATING,-this.hints_[m.Z.ANIMATING]);for(var e=0,r=this.animations_.length;e<r;++e){var n=this.animations_[e];n[0].callback&&P(n[0].callback,!1),t=t||n.filter((function(t){return!t.complete}))[0].anchor}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,r=this.animations_.length-1;r>=0;--r){for(var n=this.animations_[r],i=!0,a=0,s=n.length;a<s;++a){var l=n[a];if(!l.complete){var u=t-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):i=!1;var h=l.easing(c);if(l.sourceCenter){var p=l.sourceCenter[0],d=l.sourceCenter[1],f=p+h*(l.targetCenter[0]-p),g=d+h*(l.targetCenter[1]-d);this.targetCenter_=[f,g]}if(l.sourceResolution&&l.targetResolution){var y=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var v=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(y,0,v,!0);this.targetCenter_=this.calculateCenterZoom(_,l.anchor)}this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var b=1===h?(0,o.$W)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var x=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(x,l.anchor)}this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!l.complete)break}}if(i){this.animations_[r]=null,this.setHint(m.Z.ANIMATING,-1);var w=n[0].callback;w&&P(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var r,n=this.getCenterInternal();return void 0!==n&&(r=[n[0]-e[0],n[1]-e[1]],(0,_.rotate)(r,t-this.getRotation()),(0,_.add)(r,e)),r},e.prototype.calculateCenterZoom=function(t,e){var r,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(r=[e[0]-t*(e[0]-n[0])/i,e[1]-t*(e[1]-n[1])/i]);return r},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var r=e[0],n=e[1];return[Math.abs(r*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100]},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,C.toUserCoordinate)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(y.Z.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return(0,C.toUserExtent)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),r=this.getCenterInternal();(0,v.h)(r,1);var n=this.getResolution();(0,v.h)(void 0!==n,2);var i=this.getRotation();return(0,v.h)(void 0!==i,3),(0,c.getForViewAndSize)(r,n,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(y.Z.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal((0,C.fromUserExtent)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var r=e||this.getViewportSize_(),n=(0,c.getWidth)(t)/r[0],i=(0,c.getHeight)(t)/r[1];return Math.max(n,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(r/n)/Math.log(e);return function(t){return r/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(y.Z.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(r/n)/e;return function(t){return Math.log(r/t)/e/i}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),r=this.getResolution(),n=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:r,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,r,n=this.minZoom_||0;if(this.resolutions_){var i=(0,u.h7)(this.resolutions_,t,1);n=i,e=this.resolutions_[i],r=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(e/t)/Math.log(r)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,o.uZ)(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(r,(0,o.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var r,n=(0,E.f0)({size:this.getViewportSize_()},e||{});if((0,v.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,v.h)(!(0,c.isEmpty)(t),25);var i=(0,C.fromUserExtent)(t,this.getProjection());r=(0,w.oJ)(i)}else if(t.getType()===x.Z.CIRCLE){i=(0,C.fromUserExtent)(t.getExtent(),this.getProjection());(r=(0,w.oJ)(i)).rotate(this.getRotation(),(0,c.getCenter)(i))}else{var o=(0,C.getUserProjection)();r=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(r,n)},e.prototype.fitInternal=function(t,e){var r=e||{},n=r.size;n||(n=this.getViewportSize_());var o,a=void 0!==r.padding?r.padding:[0,0,0,0],s=void 0!==r.nearest&&r.nearest;o=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;for(var l=t.getFlatCoordinates(),u=this.getRotation(),c=Math.cos(-u),h=Math.sin(-u),p=1/0,d=1/0,f=-1/0,g=-1/0,m=t.getStride(),y=0,v=l.length;y<v;y+=m){var _=l[y]*c-l[y+1]*h,b=l[y]*h+l[y+1]*c;p=Math.min(p,_),d=Math.min(d,b),f=Math.max(f,_),g=Math.max(g,b)}var x=this.getResolutionForExtentInternal([p,d,f,g],[n[0]-a[1]-a[3],n[1]-a[0]-a[2]]);x=isNaN(x)?o:Math.max(x,o),x=this.getConstrainedResolution(x,s?0:1),h=-h;var w=(p+f)/2,E=(d+g)/2,C=[(w+=(a[1]-a[3])/2*x)*c-(E+=(a[0]-a[2])/2*x)*h,E*c+w*h],S=r.callback?r.callback:i.Zn;void 0!==r.duration?this.animateInternal({resolution:x,center:this.getConstrainedCenter(C,x),duration:r.duration,easing:r.easing},S):(this.targetResolution_=x,this.targetCenter_=C,this.applyTargetState_(!1,!0),P(S,!0))},e.prototype.centerOn=function(t,e,r){this.centerOnInternal((0,C.fromUserCoordinate)(t,this.getProjection()),e,r)},e.prototype.centerOnInternal=function(t,e,r){var n=this.getRotation(),i=Math.cos(-n),o=Math.sin(-n),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-r[0])*l)*i-(s+=(r[1]-e[1]/2)*l)*(o=-o),c=s*i+a*o;this.setCenterInternal([u,c])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=(0,C.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var r=e&&(0,C.fromUserCoordinate)(e,this.getProjection());this.adjustResolutionInternal(t,r)},e.prototype.adjustResolutionInternal=function(t,e){var r=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,n,r);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=(0,C.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var r=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,r);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal((0,C.fromUserCoordinate)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var r=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,r),i=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,i,r),a=this.constraints_.center(this.targetCenter_,o,i,r);this.get(y.Z.ROTATION)!==n&&this.set(y.Z.ROTATION,n),this.get(y.Z.RESOLUTION)!==o&&this.set(y.Z.RESOLUTION,o),this.get(y.Z.CENTER)&&(0,_.equals)(this.get(y.Z.CENTER),a)||this.set(y.Z.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,r){var n=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===n&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();var u=r||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&(0,_.equals)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:n,easing:b.easeOut,anchor:u}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(m.Z.INTERACTING,1)},e.prototype.endInteraction=function(t,e,r){var n=r&&(0,C.fromUserCoordinate)(r,this.getProjection());this.endInteractionInternal(t,e,n)},e.prototype.endInteractionInternal=function(t,e,r){this.setHint(m.Z.INTERACTING,-1),this.resolveConstraints(t,e,r)},e.prototype.getConstrainedCenter=function(t,e){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),r)},e.prototype.getConstrainedZoom=function(t,e){var r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,e))},e.prototype.getConstrainedResolution=function(t,e){var r=e||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,r,n)},e}(l.ZP)},54468:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={ANIMATING:0,INTERACTING:1}},53807:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},26060:(t,e,r)=>{"use strict";function n(t,e,r){for(var n,o,a=r||i,s=0,l=t.length,u=!1;s<l;)(o=+a(t[n=s+(l-s>>1)],e))<0?s=n+1:(l=n,u=!o);return u?s:~s}function i(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,r){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(r<0){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function s(t,e,r){for(;e<r;){var n=t[e];t[e]=t[r],t[r]=n,++e,--r}}function l(t,e){for(var r=Array.isArray(e)?e:[e],n=r.length,i=0;i<n;i++)t[t.length]=r[i]}function u(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function c(t,e,r){var n=e||i;return t.every((function(e,i){if(0===i)return!0;var o=n(t[i-1],e);return!(o>0||r&&0===o)}))}r.d(e,{FZ:()=>s,fS:()=>u,h7:()=>a,kK:()=>i,l7:()=>l,pT:()=>c,q9:()=>o,ry:()=>n})},15989:(t,e,r)=>{"use strict";r.d(e,{h:()=>i});var n=r(59049);function i(t,e){if(!t)throw new n.Z(e)}},35295:(t,e,r)=>{"use strict";r.d(e,{BB:()=>f,XC:()=>s,_2:()=>p});var n=r(15989),i=r(25529),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(t){return"string"==typeof t?t:f(t)}function l(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var r=getComputedStyle(e).color;return document.body.removeChild(e),r}return""}var u,c,h=(u={},c=0,function(t){var e;if(u.hasOwnProperty(t))e=u[t];else{if(c>=1024){var r=0;for(var i in u)0==(3&r++)&&(delete u[i],--c)}e=function(t){var e,r,i,s,u;if(a.exec(t)&&(t=l(t)),o.exec(t)){var c=t.length-1,h=void 0;h=c<=4?1:2;var p=4===c||8===c;e=parseInt(t.substr(1+0*h,h),16),r=parseInt(t.substr(1+1*h,h),16),i=parseInt(t.substr(1+2*h,h),16),s=p?parseInt(t.substr(1+3*h,h),16):255,1==h&&(e=(e<<4)+e,r=(r<<4)+r,i=(i<<4)+i,p&&(s=(s<<4)+s)),u=[e,r,i,s/255]}else 0==t.indexOf("rgba(")?d(u=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((u=t.slice(4,-1).split(",").map(Number)).push(1),d(u)):(0,n.h)(!1,14);return u}(t),u[t]=e,++c}return e});function p(t){return Array.isArray(t)?t:h(t)}function d(t){return t[0]=(0,i.uZ)(t[0]+.5|0,0,255),t[1]=(0,i.uZ)(t[1]+.5|0,0,255),t[2]=(0,i.uZ)(t[2]+.5|0,0,255),t[3]=(0,i.uZ)(t[3],0,1),t}function f(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var r=t[1];r!=(0|r)&&(r=r+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+r+","+n+","+(void 0===t[3]?1:t[3])+")"}},40243:(t,e,r)=>{"use strict";r.d(e,{y:()=>i});var n=r(35295);function i(t){return Array.isArray(t)?(0,n.BB)(t):t}},87985:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Attribution:()=>v,Control:()=>p,FullScreen:()=>R,MousePosition:()=>Z,OverviewMap:()=>$,Rotate:()=>w,ScaleLine:()=>ct,Zoom:()=>C,ZoomSlider:()=>yt,ZoomToExtent:()=>_t,defaults:()=>bt});var n,i=r(17850),o=r(26060),a=r(62166),s=r(86460),l=r(10906),u=r(77713),c=r(53732),h=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const p=function(t){function e(e){var r=t.call(this)||this;return r.element=e.element?e.element:null,r.target_=null,r.map_=null,r.listenerKeys=[],r.render_=e.render?e.render:a.Zn,e.target&&r.setTarget(e.target),r}return h(e,t),e.prototype.disposeInternal=function(){(0,u.ZF)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,u.ZF)(this.element);for(var e=0,r=this.listenerKeys.length;e<r;++e)(0,c.bN)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.Zn&&this.listenerKeys.push((0,c.oL)(t,s.Z.POSTRENDER,this.render,this)),t.render())},e.prototype.render=function(t){this.render_.call(this,t)},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(l.ZP);var d=r(17333),f=r(21092),g=r(57379),m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function y(t){this.updateElement_(t.frameState)}const v=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),render:n.render||y,target:n.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===n.collapsed||n.collapsed,r.overrideCollapsible_=void 0!==n.collapsible,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",a=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof a?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=a):r.collapseLabel_=a;var s=void 0!==n.label?n.label:"i";"string"==typeof s?(r.label_=document.createElement("span"),r.label_.textContent=s):r.label_=s;var l=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=o,u.appendChild(l),u.addEventListener(f.Z.CLICK,r.handleClick_.bind(r),!1);var c=i+" "+d.XV+" "+d.hg+(r.collapsed_&&r.collapsible_?" "+d.hN:"")+(r.collapsible_?"":" ol-uncollapsible"),h=r.element;return h.className=c,h.appendChild(r.ulElement_),h.appendChild(u),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return m(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},r=[],n=t.layerStatesArray,i=0,o=n.length;i<o;++i){var a=n[i];if((0,g.j)(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var u=l(t);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var c=0,h=u.length;c<h;++c)u[c]in e||(r.push(u[c]),e[u[c]]=!0);else u in e||(r.push(u),e[u]=!0)}}}}return r},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),r=e.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!(0,o.fS)(e,this.renderedAttributions_)){(0,u.ep)(this.ulElement_);for(var n=0,i=e.length;n<i;++n){var a=document.createElement("li");a.innerHTML=e[n],this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(d.hN),this.collapsed_?(0,u.$H)(this.collapseLabel_,this.label_):(0,u.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(p);var _=r(92502),b=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function x(t){var e=t.frameState;if(e){var r=e.viewState.rotation;if(r!=this.rotation_){var n="rotate("+r+"rad)";if(this.autoHide_){var i=this.element.classList.contains(d.oj);i||0!==r?i&&0!==r&&this.element.classList.remove(d.oj):this.element.classList.add(d.oj)}this.label_.style.transform=n}this.rotation_=r}}const w=function(t){function e(e){var r=this,n=e||{};r=t.call(this,{element:document.createElement("div"),render:n.render||x,target:n.target})||this;var i=void 0!==n.className?n.className:"ol-rotate",o=void 0!==n.label?n.label:"⇧";r.label_=null,"string"==typeof o?(r.label_=document.createElement("span"),r.label_.className="ol-compass",r.label_.textContent=o):(r.label_=o,r.label_.classList.add("ol-compass"));var a=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(r.label_),s.addEventListener(f.Z.CLICK,r.handleClick_.bind(r),!1);var l=i+" "+d.XV+" "+d.hg,u=r.element;return u.className=l,u.appendChild(s),r.callResetNorth_=n.resetNorth?n.resetNorth:void 0,r.duration_=void 0!==n.duration?n.duration:250,r.autoHide_=void 0===n.autoHide||n.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(d.oj),r}return b(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:_.easeOut}):t.setRotation(0))}},e}(p);var E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const C=function(t){function e(e){var r=this,n=e||{};r=t.call(this,{element:document.createElement("div"),target:n.target})||this;var i=void 0!==n.className?n.className:"ol-zoom",o=void 0!==n.delta?n.delta:1,a=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",l=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",u=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i+"-in",c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof a?document.createTextNode(a):a),c.addEventListener(f.Z.CLICK,r.handleClick_.bind(r,o),!1);var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=u,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(f.Z.CLICK,r.handleClick_.bind(r,-o),!1);var p=i+" "+d.XV+" "+d.hg,g=r.element;return g.className=p,g.appendChild(c),g.appendChild(h),r.duration_=void 0!==n.duration?n.duration:250,r}return E(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var r=e.getZoom();if(void 0!==r){var n=e.getConstrainedZoom(r+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:_.easeOut})):e.setZoom(n)}}},e}(p);var S=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function P(){var t=document.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function O(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function M(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}const R=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),target:n.target})||this).cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"⤢";r.labelNode_="string"==typeof i?document.createTextNode(i):i;var o=void 0!==n.labelActive?n.labelActive:"×";r.labelActiveNode_="string"==typeof o?document.createTextNode(o):o,r.button_=document.createElement("button");var a=n.tipLabel?n.tipLabel:"Toggle full-screen";r.setClassName_(r.button_,O()),r.button_.setAttribute("type","button"),r.button_.title=a,r.button_.appendChild(r.labelNode_),r.button_.addEventListener(f.Z.CLICK,r.handleClick_.bind(r),!1);var s=r.cssClassName_+" "+d.XV+" "+d.hg+" "+(P()?"":d.Qi),l=r.element;return l.className=s,l.appendChild(r.button_),r.keys_=void 0!==n.keys&&n.keys,r.source_=n.source,r}return S(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(P()){var t=this.getMap();if(t)if(O())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var e=void 0;e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():M(t)}(e):M(e)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();O()?(this.setClassName_(this.button_,!0),(0,u.$H)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,u.$H)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var r=this.cssClassName_+"-true",n=this.cssClassName_+"-false",i=e?r:n;t.classList.remove(r),t.classList.remove(n),t.classList.add(i)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e)for(var r=0,n=T.length;r<n;++r)this.listenerKeys.push((0,c.oL)(document,T[r],this.handleFullScreenChange_,this))},e}(p);r(98099);var I=r(87090),L=r(93558),k=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A="projection",F="coordinateFormat";function N(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}const Z=function(t){function e(e){var r=this,n=e||{},i=document.createElement("div");return i.className=void 0!==n.className?n.className:"ol-mouse-position",(r=t.call(this,{element:i,render:n.render||N,target:n.target})||this).addEventListener((0,l.v_)(A),r.handleProjectionChanged_),n.coordinateFormat&&r.setCoordinateFormat(n.coordinateFormat),n.projection&&r.setProjection(n.projection),r.undefinedHTML_=void 0!==n.undefinedHTML?n.undefinedHTML:"&#160;",r.renderOnMouseOut_=!!r.undefinedHTML_,r.renderedHTML_=i.innerHTML,r.mapProjection_=null,r.transform_=null,r}return k(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(F)},e.prototype.getProjection=function(){return this.get(A)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var r=e.getViewport();this.listenerKeys.push((0,c.oL)(r,I.Z.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,c.oL)(r,I.Z.POINTEROUT,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set(F,t)},e.prototype.setProjection=function(t){this.set(A,(0,L.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?(0,L.getTransformFromProjections)(this.mapProjection_,r):L.identityTransform}var n=this.getMap().getCoordinateFromPixelInternal(t);if(n){var i=(0,L.getUserProjection)();i&&(this.transform_=(0,L.getTransformFromProjections)(this.mapProjection_,i)),this.transform_(n,n);var o=this.getCoordinateFormat();e=o?o(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(p);var j=r(24430),D=r(90482),G=r(8796),z=r(27332),U=r(32246),B=r(4029),q=r(53807),V=r(36850),Y=r(2309),W=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),X=.75,H=.1,K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),e.prototype.createRenderer=function(){return new D.Z(this)},e}(j.Z);function J(t){this.validateExtent_(),this.updateBox_()}const $=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),render:n.render||J,target:n.target})||this).boundHandleRotationChanged_=r.handleRotationChanged_.bind(r),r.collapsed_=void 0===n.collapsed||n.collapsed,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1),r.rotateWithView_=void 0!==n.rotateWithView&&n.rotateWithView,r.viewExtent_=void 0;var i=void 0!==n.className?n.className:"ol-overviewmap",o=void 0!==n.tipLabel?n.tipLabel:"Overview map",a=void 0!==n.collapseLabel?n.collapseLabel:"«";"string"==typeof a?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=a):r.collapseLabel_=a;var s=void 0!==n.label?n.label:"»";"string"==typeof s?(r.label_=document.createElement("span"),r.label_.textContent=s):r.label_=s;var l=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=o,u.appendChild(l),u.addEventListener(f.Z.CLICK,r.handleClick_.bind(r),!1),r.ovmapDiv_=document.createElement("div"),r.ovmapDiv_.className="ol-overviewmap-map",r.ovmap_=new K({view:n.view});var c=r.ovmap_;n.layers&&n.layers.forEach((function(t){c.addLayer(t)}));var h=document.createElement("div");h.className="ol-overviewmap-box",h.style.boxSizing="border-box",r.boxOverlay_=new U.Z({position:[0,0],positioning:B.Z.CENTER_CENTER,element:h}),r.ovmap_.addOverlay(r.boxOverlay_);var p=i+" "+d.XV+" "+d.hg+(r.collapsed_&&r.collapsible_?" "+d.hN:"")+(r.collapsible_?"":" ol-uncollapsible"),g=r.element;g.className=p,g.appendChild(r.ovmapDiv_),g.appendChild(u);var m=r,y=r.boxOverlay_,v=r.boxOverlay_.getElement(),_=function(t){var e,r={clientX:(e=t).clientX,clientY:e.clientY},n=c.getEventCoordinateInternal(r);y.setPosition(n)},b=function(t){var e=c.getEventCoordinateInternal(t);m.getMap().getView().setCenterInternal(e),window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b)};return v.addEventListener("mousedown",(function(){window.addEventListener("mousemove",_),window.addEventListener("mouseup",b)})),r}return W(e,t),e.prototype.setMap=function(e){var r=this.getMap();if(e!==r){if(r){var n=r.getView();n&&this.unbindView_(n),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,c.oL)(e,z.Z.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var i=e.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===G.Z.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var r=this.getMap().getView();this.bindView_(r)}},e.prototype.bindView_=function(t){t.addEventListener((0,l.v_)(q.Z.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()},e.prototype.unbindView_=function(t){t.removeEventListener((0,l.v_)(q.Z.ROTATION),this.boundHandleRotationChanged_)},e.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),n=t.getView().calculateExtentInternal(r);if(!this.viewExtent_||!(0,Y.equals)(n,this.viewExtent_)){this.viewExtent_=n;var i=e.getSize(),o=e.getView().calculateExtentInternal(i),a=e.getPixelFromCoordinateInternal((0,Y.getTopLeft)(n)),s=e.getPixelFromCoordinateInternal((0,Y.getBottomRight)(n)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=i[0],h=i[1];l<c*H||u<h*H||l>c*X||u>h*X?this.resetExtent_():(0,Y.containsExtent)(o,n)||this.recenter_()}}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getSize(),n=t.getView().calculateExtentInternal(r),i=e.getView(),o=Math.log(7.5)/Math.LN2,a=1/(Math.pow(2,o/2)*H);(0,Y.scaleFromCenter)(n,a),i.fitInternal((0,V.oJ)(n))},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getView();e.getView().setCenterInternal(r.getCenterInternal())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),n=t.getView(),i=e.getView(),o=this.rotateWithView_?0:-n.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=n.getCenterInternal(),u=n.getResolution(),c=i.getResolution(),h=r[0]*u/c,p=r[1]*u/c;if(a.setPosition(l),s){s.style.width=h+"px",s.style.height=p+"px";var d="rotate("+o+"rad)";s.style.transform=d}}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(d.hN),this.collapsed_?(0,u.$H)(this.collapseLabel_,this.label_):(0,u.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),(0,c.Vx)(t,s.Z.POSTRENDER,(function(t){this.updateBox_()}),this)}},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(p);var Q=r(15989),tt=r(35696),et=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rt="units",nt="degrees",it="imperial",ot="nautical",at="metric",st="us",lt=[1,2,5];function ut(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}const ct=function(t){function e(e){var r=this,n=e||{},i=void 0!==n.className?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return(r=t.call(this,{element:document.createElement("div"),render:n.render||ut,target:n.target})||this).innerElement_=document.createElement("div"),r.innerElement_.className=i+"-inner",r.element.className=i+" "+d.XV,r.element.appendChild(r.innerElement_),r.viewState_=null,r.minWidth_=void 0!==n.minWidth?n.minWidth:64,r.renderedVisible_=!1,r.renderedWidth_=void 0,r.renderedHTML_="",r.addEventListener((0,l.v_)(rt),r.handleUnitsChanged_),r.setUnits(n.units||at),r.scaleBar_=n.bar||!1,r.scaleBarSteps_=n.steps||4,r.scaleBarText_=n.text||!1,r}return et(e,t),e.prototype.getUnits=function(){return this.get(rt)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(rt,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,r=t.projection,n=this.getUnits(),i=n==nt?tt.Z.DEGREES:tt.Z.METERS,o=(0,L.getPointResolution)(r,t.resolution,e,i),a=this.minWidth_*o,s="";if(n==nt){var l=L.METERS_PER_UNIT[tt.Z.DEGREES];(a*=l)<l/60?(s="″",o*=3600):a<l?(s="′",o*=60):s="°"}else n==it?a<.9144?(s="in",o/=.0254):a<1609.344?(s="ft",o/=.3048):(s="mi",o/=1609.344):n==ot?(o/=1852,s="nm"):n==at?a<.001?(s="μm",o*=1e6):a<1?(s="mm",o*=1e3):a<1e3?s="m":(s="km",o/=1e3):n==st?a<.9144?(s="in",o*=39.37):a<1609.344?(s="ft",o/=.30480061):(s="mi",o/=1609.3472):(0,Q.h)(!1,33);for(var u,c,h,p,d=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){h=Math.floor(d/3);var f=Math.pow(10,h);if(u=lt[(d%3+3)%3]*f,c=Math.round(u/o),isNaN(c))return this.element.style.display="none",void(this.renderedVisible_=!1);if(c>=this.minWidth_)break;++d}p=this.scaleBar_?this.createScaleBar(c,u,s):u.toFixed(h<0?-h:0)+" "+s,this.renderedHTML_!=p&&(this.innerElement_.innerHTML=p,this.renderedHTML_=p),this.renderedWidth_!=c&&(this.innerElement_.style.width=c+"px",this.renderedWidth_=c),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,r){for(var n="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],o=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,r):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,t,!0,e,r)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+n+"</div>":"")+i.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,r,n,i){var o=(0===t?0:Math.round(n/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+i);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(r?e+"px":"unset")+';">'+o+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(p);var ht=r(22567),pt=r(25529),dt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ft=0,gt=1;function mt(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}}const yt=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),render:n.render||mt})||this).dragListenerKeys_=[],r.currentResolution_=void 0,r.direction_=ft,r.dragging_,r.heightLimit_=0,r.widthLimit_=0,r.startX_,r.startY_,r.thumbSize_=null,r.sliderInitialized_=!1,r.duration_=void 0!==n.duration?n.duration:200;var i=void 0!==n.className?n.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=i+"-thumb "+d.XV;var a=r.element;return a.className=i+" "+d.XV+" "+d.hg,a.appendChild(o),a.addEventListener(I.Z.POINTERDOWN,r.handleDraggerStart_.bind(r),!1),a.addEventListener(I.Z.POINTERMOVE,r.handleDraggerDrag_.bind(r),!1),a.addEventListener(I.Z.POINTERUP,r.handleDraggerEnd_.bind(r),!1),a.addEventListener(f.Z.CLICK,r.handleContainerClick_.bind(r),!1),o.addEventListener(f.Z.CLICK,ht.UW,!1),r}return dt(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,r=t.offsetHeight,n=t.firstElementChild,i=getComputedStyle(n),o=n.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),a=n.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);this.thumbSize_=[o,a],e>r?(this.direction_=gt,this.widthLimit_=e-o):(this.direction_=ft,this.heightLimit_=r-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),r=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(r),i=e.getConstrainedZoom(e.getZoomForResolution(n));e.animateInternal({zoom:i,duration:this.duration_,easing:_.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var r=this.handleDraggerDrag_,n=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,c.oL)(document,I.Z.POINTERMOVE,r,this),(0,c.oL)(document,I.Z.POINTERUP,n,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,r=t.clientY-this.startY_,n=this.getRelativePosition_(e,r);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(c.bN),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),r=this.element.firstElementChild;this.direction_==gt?r.style.left=this.widthLimit_*e+"px":r.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var r;return r=this.direction_===gt?t/this.widthLimit_:e/this.heightLimit_,(0,pt.uZ)(r,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return(0,pt.uZ)(1-e(t),0,1)},e}(p);var vt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const _t=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),target:n.target})||this).extent=n.extent?n.extent:null;var i=void 0!==n.className?n.className:"ol-zoom-extent",o=void 0!==n.label?n.label:"E",a=void 0!==n.tipLabel?n.tipLabel:"Fit to extent",s=document.createElement("button");s.setAttribute("type","button"),s.title=a,s.appendChild("string"==typeof o?document.createTextNode(o):o),s.addEventListener(f.Z.CLICK,r.handleClick_.bind(r),!1);var l=i+" "+d.XV+" "+d.hg,u=r.element;return u.className=l,u.appendChild(s),r}return vt(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal((0,V.oJ)(e))},e}(p);function bt(t){var e=t||{},r=new i.default;return(void 0===e.zoom||e.zoom)&&r.push(new C(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&r.push(new w(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&r.push(new v(e.attributionOptions)),r}},24160:(t,e,r)=>{"use strict";r.r(e),r.d(e,{add:()=>o,closestOnCircle:()=>a,closestOnSegment:()=>s,createStringXY:()=>l,degreesToStringHDMS:()=>u,distance:()=>g,equals:()=>h,format:()=>c,rotate:()=>p,scale:()=>d,squaredDistance:()=>f,squaredDistanceToSegment:()=>m,toStringHDMS:()=>y,toStringXY:()=>v});var n=r(25529),i=r(76880);function o(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function a(t,e){var r=e.getRadius(),n=e.getCenter(),i=n[0],o=n[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[i+r*a/l,o+r*s/l]}function s(t,e){var r,n,i=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],h=s[1],p=c-l,d=h-u,f=0===p&&0===d?0:(p*(i-l)+d*(o-u))/(p*p+d*d||0);return f<=0?(r=l,n=u):f>=1?(r=c,n=h):(r=l+f*p,n=u+f*d),[r,n]}function l(t){return function(e){return v(e,t)}}function u(t,e,r){var o=(0,n.$W)(e+180,360)-180,a=Math.abs(3600*o),s=r||0,l=Math.pow(10,s),u=Math.floor(a/3600),c=Math.floor((a-3600*u)/60),h=a-3600*u-60*c;return(h=Math.ceil(h*l)/l)>=60&&(h=0,c+=1),c>=60&&(c=0,u+=1),u+"° "+(0,i.v)(c,2)+"′ "+(0,i.v)(h,2,s)+"″"+(0==o?"":" "+t.charAt(o<0?1:0))}function c(t,e,r){return t?e.replace("{x}",t[0].toFixed(r)).replace("{y}",t[1].toFixed(r)):""}function h(t,e){for(var r=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){r=!1;break}return r}function p(t,e){var r=Math.cos(e),n=Math.sin(e),i=t[0]*r-t[1]*n,o=t[1]*r+t[0]*n;return t[0]=i,t[1]=o,t}function d(t,e){return t[0]*=e,t[1]*=e,t}function f(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function g(t,e){return Math.sqrt(f(t,e))}function m(t,e){return f(t,s(t,e))}function y(t,e){return t?u("NS",t[1],e)+" "+u("EW",t[0],e):""}function v(t,e){return c(t,"{x}, {y}",e)}},17333:(t,e,r)=>{"use strict";r.d(e,{$A:()=>a,Qi:()=>l,XV:()=>s,hN:()=>c,hg:()=>u,oj:()=>o,p:()=>h});var n,i,o="ol-hidden",a="ol-selectable",s="ol-unselectable",l="ol-unsupported",u="ol-control",c="ol-collapsed",h=(i={},function(t){if(n||(n=document.createElement("div").style),!(t in i)){n.font=t;var e=n.fontFamily,r=n.fontWeight,o=n.fontStyle;if(n.font="",!e)return null;var a=e.split(/,\s?/);i[t]={families:a,weight:r,style:o}}return i[t]})},77713:(t,e,r)=>{"use strict";function n(t,e,r){var n=r&&r.length?r.shift():document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function i(t){var e=t.offsetWidth,r=getComputedStyle(t);return e+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function o(t){var e=t.offsetHeight,r=getComputedStyle(t);return e+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function a(t,e){var r=e.parentNode;r&&r.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function u(t,e){for(var r=t.childNodes,n=0;;++n){var i=r[n],o=e[n];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--n):t.appendChild(o))}}r.d(e,{$H:()=>a,E4:()=>n,Pb:()=>o,ZF:()=>s,ep:()=>l,hF:()=>u,iO:()=>i})},92502:(t,e,r)=>{"use strict";function n(t){return Math.pow(t,3)}function i(t){return 1-n(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}r.r(e),r.d(e,{easeIn:()=>n,easeOut:()=>i,inAndOut:()=>o,linear:()=>a,upAndDown:()=>s})},53732:(t,e,r)=>{"use strict";r.d(e,{Vx:()=>o,bN:()=>a,oL:()=>i});var n=r(19664);function i(t,e,r,n,i){if(n&&n!==t&&(r=r.bind(n)),i){var o=r;r=function(){t.removeEventListener(e,r),o.apply(this,arguments)}}var a={target:t,type:e,listener:r};return t.addEventListener(e,r),a}function o(t,e,r,n){return i(t,e,r,n,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,n.ZH)(t))}},22567:(t,e,r)=>{"use strict";function n(t){t.stopPropagation()}r.d(e,{UW:()=>n,ZP:()=>i});const i=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()},21092:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},21131:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,i=r(85763),o=r(62166),a=r(22567),s=r(19664),l=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const u=function(t){function e(e){var r=t.call(this)||this;return r.eventTarget_=e,r.pendingRemovals_={},r.dispatching_={},r.listeners_={},r}return l(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var r=this.listeners_[t];r||(r=[],this.listeners_[t]=r),-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.ZP(t):t,r=e.type;e.target||(e.target=this.eventTarget_||this);var n,i=this.listeners_[r];if(i){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var s=0,l=i.length;s<l;++s)if(!1===i[s].call(this,e)||e.propagationStopped){n=!1;break}if(--this.dispatching_[r],0===this.dispatching_[r]){var u=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];u--;)this.removeEventListener(r,o.Zn);delete this.dispatching_[r]}return n}},e.prototype.disposeInternal=function(){(0,s.ZH)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var r=this.listeners_[t];if(r){var n=r.indexOf(e);-1!==n&&(t in this.pendingRemovals_?(r[n]=o.Zn,++this.pendingRemovals_[t]):(r.splice(n,1),0===r.length&&delete this.listeners_[t]))}},e}(i.Z)},30637:(t,e,r)=>{"use strict";r.r(e),r.d(e,{altKeyOnly:()=>s,altShiftKeysOnly:()=>l,always:()=>c,click:()=>h,doubleClick:()=>m,focus:()=>u,mouseActionButton:()=>p,mouseOnly:()=>x,never:()=>d,noModifierKeys:()=>y,penOnly:()=>E,platformModifierKeyOnly:()=>v,pointerMove:()=>f,primaryAction:()=>C,shiftKeyOnly:()=>_,singleClick:()=>g,targetNotEditable:()=>b,touchOnly:()=>w});var n=r(58544),i=r(15989),o=r(62166),a=r(98243),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},l=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},u=function(t){return t.target.getTargetElement()===document.activeElement},c=o.uX,h=function(t){return t.type==n.Z.CLICK},p=function(t){var e=t.originalEvent;return 0==e.button&&!(a.G$&&a.tK&&e.ctrlKey)},d=o.Dv,f=function(t){return"pointermove"==t.type},g=function(t){return t.type==n.Z.SINGLECLICK},m=function(t){return t.type==n.Z.DBLCLICK},y=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},v=function(t){var e=t.originalEvent;return!e.altKey&&(a.tK?e.metaKey:e.ctrlKey)&&!e.shiftKey},_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},b=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},x=function(t){var e=t.pointerEvent;return(0,i.h)(void 0!==e,56),"mouse"==e.pointerType},w=function(t){var e=t.pointerEvent;return(0,i.h)(void 0!==e,56),"touch"===e.pointerType},E=function(t){var e=t.pointerEvent;return(0,i.h)(void 0!==e,56),"pen"===e.pointerType},C=function(t){var e=t.pointerEvent;return(0,i.h)(void 0!==e,56),e.isPrimary&&0===e.button}},2309:(t,e,r)=>{"use strict";r.r(e),r.d(e,{applyTransform:()=>H,boundingExtent:()=>a,buffer:()=>s,clone:()=>l,closestSquaredDistanceXY:()=>u,containsCoordinate:()=>c,containsExtent:()=>h,containsXY:()=>p,coordinateRelationship:()=>d,createEmpty:()=>f,createOrUpdate:()=>g,createOrUpdateEmpty:()=>m,createOrUpdateFromCoordinate:()=>y,createOrUpdateFromCoordinates:()=>v,createOrUpdateFromFlatCoordinates:()=>_,createOrUpdateFromRings:()=>b,equals:()=>x,extend:()=>w,extendCoordinate:()=>E,extendCoordinates:()=>C,extendFlatCoordinates:()=>S,extendRings:()=>T,extendXY:()=>P,forEachCorner:()=>O,getArea:()=>M,getBottomLeft:()=>R,getBottomRight:()=>I,getCenter:()=>L,getCorner:()=>k,getEnlargedArea:()=>A,getForViewAndSize:()=>F,getHeight:()=>N,getIntersection:()=>j,getIntersectionArea:()=>Z,getMargin:()=>D,getSize:()=>G,getTopLeft:()=>z,getTopRight:()=>U,getWidth:()=>B,intersects:()=>q,intersectsSegment:()=>X,isEmpty:()=>V,returnOrUpdate:()=>Y,scaleFromCenter:()=>W});var n=r(15989),i=r(32742),o=r(14944);function a(t){for(var e=f(),r=0,n=t.length;r<n;++r)E(e,t[r]);return e}function s(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function u(t,e,r){var n,i;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(i=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*i}function c(t,e){return p(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function d(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=o.Z.UNKNOWN;return s<r?u|=o.Z.LEFT:s>i&&(u|=o.Z.RIGHT),l<n?u|=o.Z.BELOW:l>a&&(u|=o.Z.ABOVE),u===o.Z.UNKNOWN&&(u=o.Z.INTERSECTING),u}function f(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,r,n,i){return i?(i[0]=t,i[1]=e,i[2]=r,i[3]=n,i):[t,e,r,n]}function m(t){return g(1/0,1/0,-1/0,-1/0,t)}function y(t,e){var r=t[0],n=t[1];return g(r,n,r,n,e)}function v(t,e){return C(m(e),t)}function _(t,e,r,n,i){return S(m(i),t,e,r,n)}function b(t,e){return T(m(e),t)}function x(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function w(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function E(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var r=0,n=e.length;r<n;++r)E(t,e[r]);return t}function S(t,e,r,n,i){for(;r<n;r+=i)P(t,e[r],e[r+1]);return t}function T(t,e){for(var r=0,n=e.length;r<n;++r)C(t,e[r]);return t}function P(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function O(t,e){var r;return(r=e(R(t)))||(r=e(I(t)))||(r=e(U(t)))?r:(r=e(z(t)))||!1}function M(t){var e=0;return V(t)||(e=B(t)*N(t)),e}function R(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function L(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function k(t,e){var r;return e===i.Z.BOTTOM_LEFT?r=R(t):e===i.Z.BOTTOM_RIGHT?r=I(t):e===i.Z.TOP_LEFT?r=z(t):e===i.Z.TOP_RIGHT?r=U(t):(0,n.h)(!1,13),r}function A(t,e){var r=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-n)}function F(t,e,r,n,i){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(r),l=Math.sin(r),u=o*s,c=o*l,h=a*s,p=a*l,d=t[0],f=t[1],m=d-u+p,y=d-u-p,v=d+u-p,_=d+u+p,b=f-c-h,x=f-c+h,w=f+c+h,E=f+c-h;return g(Math.min(m,y,v,_),Math.min(b,x,w,E),Math.max(m,y,v,_),Math.max(b,x,w,E),i)}function N(t){return t[3]-t[1]}function Z(t,e){return M(j(t,e))}function j(t,e,r){var n=r||[1/0,1/0,-1/0,-1/0];return q(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):m(n),n}function D(t){return B(t)+N(t)}function G(t){return[t[2]-t[0],t[3]-t[1]]}function z(t){return[t[0],t[3]]}function U(t){return[t[2],t[3]]}function B(t){return t[2]-t[0]}function q(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function V(t){return t[2]<t[0]||t[3]<t[1]}function Y(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function X(t,e,r){var n=!1,i=d(t,e),a=d(t,r);if(i===o.Z.INTERSECTING||a===o.Z.INTERSECTING)n=!0;else{var s=t[0],l=t[1],u=t[2],c=t[3],h=e[0],p=e[1],f=r[0],g=r[1],m=(g-p)/(f-h),y=void 0,v=void 0;a&o.Z.ABOVE&&!(i&o.Z.ABOVE)&&(n=(y=f-(g-c)/m)>=s&&y<=u),n||!(a&o.Z.RIGHT)||i&o.Z.RIGHT||(n=(v=g-(f-u)*m)>=l&&v<=c),n||!(a&o.Z.BELOW)||i&o.Z.BELOW||(n=(y=f-(g-l)/m)>=s&&y<=u),n||!(a&o.Z.LEFT)||i&o.Z.LEFT||(n=(v=g-(f-s)*m)>=l&&v<=c)}return n}function H(t,e,r){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),function(t,e,r){return g(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}},32742:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},14944:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},13097:(t,e,r)=>{"use strict";r.d(e,{Be:()=>s,ov:()=>a});var n=r(62166),i=r(87362),o=!1;function a(t,e,r,n){return function(a,s,l){var u=new XMLHttpRequest;u.open("GET","function"==typeof t?t(a,s,l):t,!0),e.getType()==i.Z.ARRAY_BUFFER&&(u.responseType="arraybuffer"),u.withCredentials=o,u.onload=function(t){if(!u.status||u.status>=200&&u.status<300){var o=e.getType(),s=void 0;o==i.Z.JSON||o==i.Z.TEXT?s=u.responseText:o==i.Z.XML?(s=u.responseXML)||(s=(new DOMParser).parseFromString(u.responseText,"application/xml")):o==i.Z.ARRAY_BUFFER&&(s=u.response),s?r.call(this,e.readFeatures(s,{extent:a,featureProjection:l}),e.readProjection(s)):n.call(this)}else n.call(this)}.bind(this),u.onerror=function(){n.call(this)}.bind(this),u.send()}}function s(t,e){return a(t,e,(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}),n.Zn)}},26749:(t,e,r)=>{"use strict";r.r(e),r.d(e,{EsriJSON:()=>M,GML:()=>V,GPX:()=>Y.default,GeoJSON:()=>R.default,IGC:()=>at,IIIFInfo:()=>ft.Z,KML:()=>yr,MVT:()=>vr.Z,OWS:()=>jr,Polyline:()=>qr,TopoJSON:()=>Qr,WFS:()=>jn,WKT:()=>ii,WMSCapabilities:()=>Mi,WMSGetFeatureInfo:()=>Ii,WMTSCapabilities:()=>Xi});var n,i=r(41013),o=r(15989),a=r(2309),s=r(52045),l=r(68618),u=r(46443),c=r(42050),h=r(70314),p=r(92456),d=r(25939),f=r(7469),g=r(42901),m=r(4655),y=r(36850),v=r(62971),_=r(96884),b=r(19664),x=r(93558),w=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),E={};E[c.Z.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new m.Z([t.x,t.y,t.z,t.m],u.Z.XYZM):void 0!==t.z?new m.Z([t.x,t.y,t.z],u.Z.XYZ):void 0!==t.m?new m.Z([t.x,t.y,t.m],u.Z.XYM):new m.Z([t.x,t.y]);return e},E[c.Z.LINE_STRING]=function(t){var e=T(t);return new h.Z(t.paths[0],e)},E[c.Z.POLYGON]=function(t){var e=T(t);return new y.ZP(t.rings,e)},E[c.Z.MULTI_POINT]=function(t){var e=T(t);return new f.Z(t.points,e)},E[c.Z.MULTI_LINE_STRING]=function(t){var e=T(t);return new d.Z(t.paths,e)},E[c.Z.MULTI_POLYGON]=function(t){var e=T(t);return new g.Z(t.rings,e)};var C={};function S(t,e){var r,n,i;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)i=c.Z.POINT;else if(t.points)i=c.Z.MULTI_POINT;else if(t.paths){i=1===t.paths.length?c.Z.LINE_STRING:c.Z.MULTI_LINE_STRING}else if(t.rings){var o=t,l=T(o),u=function(t,e){var r,n,i=[],o=[],s=[];for(r=0,n=t.length;r<n;++r){i.length=0,(0,v.Sg)(i,0,t[r],e.length),(0,_.bt)(i,0,i.length,e.length)?o.push([t[r]]):s.push(t[r])}for(;s.length;){var l=s.shift(),u=!1;for(r=o.length-1;r>=0;r--){var c=o[r][0];if((0,a.containsExtent)(new p.Z(c).getExtent(),new p.Z(l).getExtent())){o[r].push(l),u=!0;break}}u||o.push([l.reverse()])}return o}(o.rings,l);1===u.length?(i=c.Z.POLYGON,t=Object.assign({},t,((r={}).rings=u[0],r))):(i=c.Z.MULTI_POLYGON,t=Object.assign({},t,((n={}).rings=u,n)))}var h=E[i];return(0,s.fI)(h(t),!1,e)}function T(t){var e=u.Z.XY;return!0===t.hasZ&&!0===t.hasM?e=u.Z.XYZM:!0===t.hasZ?e=u.Z.XYZ:!0===t.hasM&&(e=u.Z.XYM),e}function P(t){var e=t.getLayout();return{hasZ:e===u.Z.XYZ||e===u.Z.XYZM,hasM:e===u.Z.XYM||e===u.Z.XYZM}}function O(t,e){return(0,C[t.getType()])((0,s.fI)(t,!0,e),e)}C[c.Z.POINT]=function(t,e){var r,n=t.getCoordinates(),i=t.getLayout();i===u.Z.XYZ?r={x:n[0],y:n[1],z:n[2]}:i===u.Z.XYM?r={x:n[0],y:n[1],m:n[2]}:i===u.Z.XYZM?r={x:n[0],y:n[1],z:n[2],m:n[3]}:i===u.Z.XY?r={x:n[0],y:n[1]}:(0,o.h)(!1,34);return r},C[c.Z.LINE_STRING]=function(t,e){var r=P(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:[t.getCoordinates()]}},C[c.Z.POLYGON]=function(t,e){var r=P(t);return{hasZ:r.hasZ,hasM:r.hasM,rings:t.getCoordinates(!1)}},C[c.Z.MULTI_POINT]=function(t,e){var r=P(t);return{hasZ:r.hasZ,hasM:r.hasM,points:t.getCoordinates()}},C[c.Z.MULTI_LINE_STRING]=function(t,e){var r=P(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:t.getCoordinates()}},C[c.Z.MULTI_POLYGON]=function(t,e){for(var r=P(t),n=t.getCoordinates(!1),i=[],o=0;o<n.length;o++)for(var a=n[o].length-1;a>=0;a--)i.push(n[o][a]);return{hasZ:r.hasZ,hasM:r.hasM,rings:i}};const M=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this)||this).geometryName_=n.geometryName,r}return w(e,t),e.prototype.readFeatureFromObject=function(t,e){var r=t,n=S(r.geometry,e),o=new i.default;return this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(n),e&&e.idField&&r.attributes[e.idField]&&o.setId(r.attributes[e.idField]),r.attributes&&o.setProperties(r.attributes,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var r=e||{};if(t.features){var n=[],i=t.features;r.idField=t.objectIdFieldName;for(var o=0,a=i.length;o<a;++o)n.push(this.readFeatureFromObject(i[o],r));return n}return[this.readFeatureFromObject(t,r)]},e.prototype.readGeometryFromObject=function(t,e){return S(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return(0,x.get)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return O(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={},n=t.getGeometry();n&&(r.geometry=O(n,e),e&&e.featureProjection&&(r.geometry.spatialReference={wkid:Number((0,x.get)(e.featureProjection).getCode().split(":").pop())}));var i=t.getProperties();return delete i[t.getGeometryName()],(0,b.xb)(i)?r.attributes={}:r.attributes=i,r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],n=0,i=t.length;n<i;++n)r.push(this.writeFeatureObject(t[n],e));return{features:r}},e}(l.Z);var R=r(19569),I=r(26060),L=r(35664),k=r(48248),A=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F="http://www.opengis.net/gml",N=/^[\s\xa0]*$/,Z=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureType=n.featureType,r.featureNS=n.featureNS,r.srsName=n.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:(0,k.Ei)(r.readFeaturesInternal),featureMembers:(0,k.z)(r.readFeaturesInternal)},r}return A(e,t),e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,n=null;if("FeatureCollection"==r)n=(0,k.O)([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r){var i=e[0],o=i.featureType,a=i.featureNS;if(!o&&t.childNodes){o=[],a={};for(var s=0,l=t.childNodes.length;s<l;++s){var u=t.childNodes[s];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===o.indexOf(c)){var h="",p=0,d=u.namespaceURI;for(var f in a){if(a[f]===d){h=f;break}++p}h||(a[h="p"+p]=d),o.push(h+":"+c)}}}"featureMember"!=r&&(i.featureType=o,i.featureNS=a)}if("string"==typeof a){var g=a;(a={}).p0=g}var m={},y=Array.isArray(o)?o:[o];for(var v in a){var _={};for(s=0,l=y.length;s<l;++s){(-1===y[s].indexOf(":")?"p0":y[s].split(":")[0])===v&&(_[y[s].split(":").pop()]="featureMembers"==r?(0,k.Ei)(this.readFeatureElement,this):(0,k.z)(this.readFeatureElement,this))}m[a[v]]=_}n="featureMember"==r?(0,k.O)(void 0,m,t,e):(0,k.O)([],m,t,e)}return null===n&&(n=[]),n},e.prototype.readGeometryElement=function(t,e){var r=e[0];r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension");var n=(0,k.O)(null,this.GEOMETRY_PARSERS,t,e,this);return n?Array.isArray(n)?(0,s.lj)(n,r):(0,s.fI)(n,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var n,o={},a=t.firstElementChild;a;a=a.nextElementSibling){var s=void 0,l=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=(0,k.Ve)(a,!1),N.test(s)&&(s=void 0)):(r&&(s=this.readGeometryElement(a,e)),s?"boundedBy"!==l&&(n=l):s=this.readFeatureElementInternal(a,e,!1)),o[l]?(o[l]instanceof Array||(o[l]=[o[l]]),o[l].push(s)):o[l]=s;var u=a.attributes.length;if(u>0){o[l]={_content_:o[l]};for(var c=0;c<u;c++){var h=a.attributes[c].name;o[l][h]=a.attributes[c].value}}}if(r){var p=new i.default(o);n&&p.setGeometryName(n);var d=t.getAttribute("fid")||(0,k.As)(t,this.namespace,"id");return d&&p.setId(d),p}return o},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);if(r)return new m.Z(r,u.Z.XYZ)},e.prototype.readMultiPoint=function(t,e){var r=(0,k.O)([],this.MULTIPOINT_PARSERS_,t,e,this);return r?new f.Z(r):void 0},e.prototype.readMultiLineString=function(t,e){var r=(0,k.O)([],this.MULTILINESTRING_PARSERS_,t,e,this);if(r)return new d.Z(r)},e.prototype.readMultiPolygon=function(t,e){var r=(0,k.O)([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(r)return new g.Z(r)},e.prototype.pointMemberParser_=function(t,e){(0,k.T3)(this.POINTMEMBER_PARSERS_,t,e,this)},e.prototype.lineStringMemberParser_=function(t,e){(0,k.T3)(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},e.prototype.polygonMemberParser_=function(t,e){(0,k.T3)(this.POLYGONMEMBER_PARSERS_,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);return r?new h.Z(r,u.Z.XYZ):void 0},e.prototype.readFlatLinearRing_=function(t,e){var r=(0,k.O)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return r||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);if(r)return new p.Z(r,u.Z.XYZ)},e.prototype.readPolygon=function(t,e){var r=(0,k.O)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var n,i=r[0],o=[i.length],a=void 0;for(a=1,n=r.length;a<n;++a)(0,I.l7)(i,r[a]),o.push(i.length);return new y.ZP(i,u.Z.XYZ,o)}},e.prototype.readFlatCoordinatesFromNode_=function(t,e){return(0,k.O)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var r=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&(0,b.f0)(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]},e.prototype.readProjectionFromNode=function(t){return(0,x.get)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(L.Z);Z.prototype.namespace=F,Z.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Z.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Z.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Z.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:(0,k.Ei)(Z.prototype.pointMemberParser_),pointMembers:(0,k.Ei)(Z.prototype.pointMemberParser_)}},Z.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:(0,k.Ei)(Z.prototype.lineStringMemberParser_),lineStringMembers:(0,k.Ei)(Z.prototype.lineStringMemberParser_)}},Z.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:(0,k.Ei)(Z.prototype.polygonMemberParser_),polygonMembers:(0,k.Ei)(Z.prototype.polygonMemberParser_)}},Z.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:(0,k.Ei)(Z.prototype.readFlatCoordinatesFromNode_)}},Z.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,k.Ei)(Z.prototype.readLineString)}},Z.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,k.Ei)(Z.prototype.readPolygon)}},Z.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,k.z)(Z.prototype.readFlatLinearRing_)}};const j=Z;var D=r(88620),G=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),z={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},U=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).surface_=void 0!==n.surface&&n.surface,r.curve_=void 0!==n.curve&&n.curve,r.multiCurve_=void 0===n.multiCurve||n.multiCurve,r.multiSurface_=void 0===n.multiSurface||n.multiSurface,r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",r.hasZ=void 0!==n.hasZ&&n.hasZ,r}return G(e,t),e.prototype.readMultiCurve_=function(t,e){var r=(0,k.O)([],this.MULTICURVE_PARSERS_,t,e,this);return r?new d.Z(r):void 0},e.prototype.readMultiSurface_=function(t,e){var r=(0,k.O)([],this.MULTISURFACE_PARSERS_,t,e,this);if(r)return new g.Z(r)},e.prototype.curveMemberParser_=function(t,e){(0,k.T3)(this.CURVEMEMBER_PARSERS_,t,e,this)},e.prototype.surfaceMemberParser_=function(t,e){(0,k.T3)(this.SURFACEMEMBER_PARSERS_,t,e,this)},e.prototype.readPatch_=function(t,e){return(0,k.O)([null],this.PATCHES_PARSERS_,t,e,this)},e.prototype.readSegment_=function(t,e){return(0,k.O)([null],this.SEGMENTS_PARSERS_,t,e,this)},e.prototype.readPolygonPatch_=function(t,e){return(0,k.O)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment_=function(t,e){return(0,k.O)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser_=function(t,e){var r=(0,k.O)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.exteriorParser_=function(t,e){var r=(0,k.O)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.readSurface_=function(t,e){var r=(0,k.O)([null],this.SURFACE_PARSERS_,t,e,this);if(r&&r[0]){var n,i=r[0],o=[i.length],a=void 0;for(a=1,n=r.length;a<n;++a)(0,I.l7)(i,r[a]),o.push(i.length);return new y.ZP(i,u.Z.XYZ,o)}},e.prototype.readCurve_=function(t,e){var r=(0,k.O)([null],this.CURVE_PARSERS_,t,e,this);return r?new h.Z(r,u.Z.XYZ):void 0},e.prototype.readEnvelope_=function(t,e){var r=(0,k.O)([null],this.ENVELOPE_PARSERS_,t,e,this);return(0,a.createOrUpdate)(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos_=function(t,e){for(var r,n=(0,k.Ve)(t,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];r=i.exec(n);)o.push(parseFloat(r[1])),n=n.substr(r[0].length);if(""===n){var a=e[0].srsName,s="enu";if(a)s=(0,x.get)(a).getAxisOrientation();if("neu"===s){var l,u=void 0;for(u=0,l=o.length;u<l;u+=3){var c=o[u],h=o[u+1];o[u]=h,o[u+1]=c}}var p=o.length;if(2==p&&o.push(0),0!==p)return o}},e.prototype.readFlatPosList_=function(t,e){var r=(0,k.Ve)(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],i=n.srsName,o=n.srsDimension,a="enu";i&&(a=(0,x.get)(i).getAxisOrientation());var s,l,u,c=r.split(/\s+/),h=2;t.getAttribute("srsDimension")?h=(0,D._E)(t.getAttribute("srsDimension")):t.getAttribute("dimension")?h=(0,D._E)(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?h=(0,D._E)(t.parentNode.getAttribute("srsDimension")):o&&(h=(0,D._E)(o));for(var p=[],d=0,f=c.length;d<f;d+=h)s=parseFloat(c[d]),l=parseFloat(c[d+1]),u=3===h?parseFloat(c[d+2]):0,"en"===a.substr(0,2)?p.push(s,l,u):p.push(l,s,u);return p},e.prototype.writePos_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);var a=n.srsName,s="enu";a&&(s=(0,x.get)(a).getAxisOrientation());var l,u=e.getCoordinates();(l="en"===s.substr(0,2)?u[0]+" "+u[1]:u[1]+" "+u[0],i)&&(l+=" "+(u[2]||0));(0,D.bZ)(t,l)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=(0,x.get)(e).getAxisOrientation());var i="en"===n.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];r&&(i+=" "+(t[2]||0));return i},e.prototype.writePosList_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);for(var a,s=n.srsName,l=e.getCoordinates(),u=l.length,c=new Array(u),h=0;h<u;++h)a=l[h],c[h]=this.getCoords_(a,s,i);(0,D.bZ)(t,c.join(" "))},e.prototype.writePoint_=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=(0,k.c)(t.namespaceURI,"pos");t.appendChild(i),this.writePos_(i,e,r)},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,k.ZL)({node:t},this.ENVELOPE_SERIALIZERS_,k.hg,i,r,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing_=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=(0,k.c)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),(0,k.c)(i.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();(0,k.ZL)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=(0,k.c)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.writeCurveOrLineString_=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=(0,k.c)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,r)}else if("Curve"===t.nodeName){var o=(0,k.c)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();(0,k.ZL)({node:t,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeMultiPoint_=function(t,e,r){var n=r[r.length-1],i=n.srsName,o=n.hasZ;i&&t.setAttribute("srsName",i);var a=e.getPoints();(0,k.ZL)({node:t,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS_,(0,k.G3)("pointMember"),a,r,void 0,this)},e.prototype.writeMultiCurveOrLineString_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();(0,k.ZL)({node:t,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeRing_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing_(n,e,r)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r))},e.prototype.writePointMember_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"Point");t.appendChild(n),this.writePoint_(n,e,r)},e.prototype.writeLineStringOrCurveMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString_(n,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString_(n,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var n,i=r[r.length-1],o=(0,b.f0)({},i);o.node=t,n=Array.isArray(e)?(0,s.lj)(e,i):(0,s.fI)(e,!0,i),(0,k.ZL)(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var s=e.getProperties(),l=[],u=[];for(var c in s){var h=s[c];null!==h&&(l.push(c),u.push(h),c==a||"function"==typeof h.getSimplifiedGeometry?c in i.serializers[o]||(i.serializers[o][c]=(0,k.A4)(this.writeGeometryElement,this)):c in i.serializers[o]||(i.serializers[o][c]=(0,k.A4)(D.bZ)))}var p=(0,b.f0)({},i);p.node=t,(0,k.ZL)(p,i.serializers,(0,k.G3)(void 0,o),u,r,l)},e.prototype.writeFeatureMembers_=function(t,e,r){var n=r[r.length-1],i=n.featureType,o=n.featureNS,a={};a[o]={},a[o][i]=(0,k.A4)(this.writeFeatureElement,this);var s=(0,b.f0)({},n);s.node=t,(0,k.ZL)(s,a,(0,k.G3)(i,o),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return(0,k.c)(this.namespace,z[n.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,i=e[e.length-1],o=i.multiSurface,a=i.surface,s=i.curve,l=i.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===l&&(n="MultiCurve"),(0,k.c)(this.namespace,n)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=(0,k.c)(this.namespace,"geom"),n={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&(0,b.f0)(n,e),this.writeGeometryElement(r,t,[n]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=(0,k.c)(this.namespace,"featureMembers");r.setAttributeNS(k.fJ,"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&(0,b.f0)(n,e),this.writeFeatureMembers_(r,t,[n]),r},e}(j);U.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,k.z)(U.prototype.readFlatPos_),posList:(0,k.z)(U.prototype.readFlatPosList_)}},U.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:U.prototype.interiorParser_,exterior:U.prototype.exteriorParser_}},U.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,k.z)(j.prototype.readPoint),MultiPoint:(0,k.z)(j.prototype.readMultiPoint),LineString:(0,k.z)(j.prototype.readLineString),MultiLineString:(0,k.z)(j.prototype.readMultiLineString),LinearRing:(0,k.z)(j.prototype.readLinearRing),Polygon:(0,k.z)(j.prototype.readPolygon),MultiPolygon:(0,k.z)(j.prototype.readMultiPolygon),Surface:(0,k.z)(U.prototype.readSurface_),MultiSurface:(0,k.z)(U.prototype.readMultiSurface_),Curve:(0,k.z)(U.prototype.readCurve_),MultiCurve:(0,k.z)(U.prototype.readMultiCurve_),Envelope:(0,k.z)(U.prototype.readEnvelope_)}},U.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:(0,k.Ei)(U.prototype.curveMemberParser_),curveMembers:(0,k.Ei)(U.prototype.curveMemberParser_)}},U.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:(0,k.Ei)(U.prototype.surfaceMemberParser_),surfaceMembers:(0,k.Ei)(U.prototype.surfaceMemberParser_)}},U.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,k.Ei)(j.prototype.readLineString),Curve:(0,k.Ei)(U.prototype.readCurve_)}},U.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,k.Ei)(j.prototype.readPolygon),Surface:(0,k.Ei)(U.prototype.readSurface_)}},U.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:(0,k.z)(U.prototype.readPatch_)}},U.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:(0,k.z)(U.prototype.readSegment_)}},U.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:(0,k.Ei)(U.prototype.readFlatPosList_),upperCorner:(0,k.Ei)(U.prototype.readFlatPosList_)}},U.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:(0,k.z)(U.prototype.readPolygonPatch_)}},U.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:(0,k.z)(U.prototype.readLineStringSegment_)}},U.prototype.writeFeatures,U.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:(0,k.A4)(U.prototype.writeRing_),interior:(0,k.A4)(U.prototype.writeRing_)}},U.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,k.A4)(D.bZ),upperCorner:(0,k.A4)(D.bZ)}},U.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,k.A4)(U.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,k.A4)(U.prototype.writeSurfaceOrPolygonMember_)}},U.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,k.A4)(U.prototype.writePointMember_)}},U.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,k.A4)(U.prototype.writeLineStringOrCurveMember_),curveMember:(0,k.A4)(U.prototype.writeLineStringOrCurveMember_)}},U.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,k.A4)(U.prototype.writeCurveOrLineString_),MultiCurve:(0,k.A4)(U.prototype.writeMultiCurveOrLineString_),Point:(0,k.A4)(U.prototype.writePoint_),MultiPoint:(0,k.A4)(U.prototype.writeMultiPoint_),LineString:(0,k.A4)(U.prototype.writeCurveOrLineString_),MultiLineString:(0,k.A4)(U.prototype.writeMultiCurveOrLineString_),LinearRing:(0,k.A4)(U.prototype.writeLinearRing_),Polygon:(0,k.A4)(U.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,k.A4)(U.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,k.A4)(U.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,k.A4)(U.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,k.A4)(U.prototype.writeEnvelope)}};const B=U;var q=B;q.prototype.writeFeatures,q.prototype.writeFeaturesNode;const V=q;var Y=r(92273),W=r(19579),X=r(87362),H=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function K(t){return"string"==typeof t?t:""}const J=function(t){function e(){return t.call(this)||this}return H(e,t),e.prototype.getType=function(){return X.Z.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(K(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return(0,W.O3)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(K(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return(0,W.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(K(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return(0,W.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(K(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return(0,W.O3)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return(0,W.O3)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return(0,W.O3)()},e}(s.ZP);var $=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q="barometric",tt="gps",et="none",rt=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,nt=/^H.([A-Z]{3}).*?:(.*)/,it=/^HFDTE(\d{2})(\d{2})(\d{2})/,ot=/\r\n|\r|\n/;const at=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=(0,x.get)("EPSG:4326"),r.altitudeMode_=n.altitudeMode?n.altitudeMode:et,r}return $(e,t),e.prototype.readFeatureFromText=function(t,e){var r,n,o=this.altitudeMode_,a=t.split(ot),l={},c=[],p=2e3,d=0,f=1,g=-1;for(r=0,n=a.length;r<n;++r){var m=a[r],y=void 0;if("B"==m.charAt(0)){if(y=rt.exec(m)){var v=parseInt(y[1],10),_=parseInt(y[2],10),b=parseInt(y[3],10),x=parseInt(y[4],10)+parseInt(y[5],10)/6e4;"S"==y[6]&&(x=-x);var w=parseInt(y[7],10)+parseInt(y[8],10)/6e4;if("W"==y[9]&&(w=-w),c.push(w,x),o!=et){var E=void 0;E=o==tt?parseInt(y[11],10):o==Q?parseInt(y[12],10):0,c.push(E)}var C=Date.UTC(p,d,f,v,_,b);C<g&&(C=Date.UTC(p,d,f+1,v,_,b)),c.push(C/1e3),g=C}}else"H"==m.charAt(0)&&((y=it.exec(m))?(f=parseInt(y[1],10),d=parseInt(y[2],10)-1,p=2e3+parseInt(y[3],10)):(y=nt.exec(m))&&(l[y[1]]=y[2].trim()))}if(0===c.length)return null;var S=o==et?u.Z.XYM:u.Z.XYZM,T=new h.Z(c,S),P=new i.default((0,s.fI)(T,!1,e));return P.setProperties(l,!0),P},e.prototype.readFeaturesFromText=function(t,e){var r=this.readFeatureFromText(t,e);return r?[r]:[]},e}(J);var st,lt,ut,ct,ht,pt,dt,ft=r(8572),gt=r(35295),mt=r(699),yt=r(25529),vt=r(18085),_t=r(3806),bt=r(4491),xt=r(32432),wt=r(86650),Et=r(57911),Ct=r(31179),St=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tt=["http://www.google.com/kml/ext/2.2"],Pt=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Ot={fraction:bt.Z.FRACTION,pixels:bt.Z.PIXELS,insetPixels:bt.Z.PIXELS},Mt=(0,k.C5)(Pt,{ExtendedData:Ee,Region:Ce,MultiGeometry:(0,k.Pr)(fe,"geometry"),LineString:(0,k.Pr)(he,"geometry"),LinearRing:(0,k.Pr)(pe,"geometry"),Point:(0,k.Pr)(ge,"geometry"),Polygon:(0,k.Pr)(ye,"geometry"),Style:(0,k.Pr)(_e),StyleMap:function(t,e){var r=Jt.call(this,t,e);if(!r)return;var n=e[e.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:(0,o.h)(!1,38)},address:(0,k.Pr)(D.s2),description:(0,k.Pr)(D.s2),name:(0,k.Pr)(D.s2),open:(0,k.Pr)(D.ud),phoneNumber:(0,k.Pr)(D.s2),styleUrl:(0,k.Pr)(Xt),visibility:(0,k.Pr)(D.ud)},(0,k.C5)(Tt,{MultiTrack:(0,k.Pr)((function(t,e){var r=(0,k.O)([],ie,t,e);if(!r)return;return new d.Z(r)}),"geometry"),Track:(0,k.Pr)(ae,"geometry")})),Rt=(0,k.C5)(Pt,{ExtendedData:Ee,Region:Ce,Link:function(t,e){(0,k.T3)(It,t,e)},address:(0,k.Pr)(D.s2),description:(0,k.Pr)(D.s2),name:(0,k.Pr)(D.s2),open:(0,k.Pr)(D.ud),phoneNumber:(0,k.Pr)(D.s2),visibility:(0,k.Pr)(D.ud)}),It=(0,k.C5)(Pt,{href:(0,k.Pr)(Xt)}),Lt=(0,k.C5)(Pt,{LatLonAltBox:function(t,e){var r=(0,k.O)({},Pe,t,e);if(!r)return;var n=e[e.length-1],i=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];n.extent=i,n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(t,e){var r=(0,k.O)({},Oe,t,e);if(!r)return;var n=e[e.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),kt=(0,k.C5)(Pt,["Document","Placemark"]),At=(0,k.C5)(Pt,{Document:(0,k.A4)((function(t,e,r){var n={node:t};(0,k.ZL)(n,ke,Ae,e,r,void 0,this)})),Placemark:(0,k.A4)(ir)}),Ft=null;var Nt,Zt=null;var jt,Dt=null;var Gt=null;var zt=null;var Ut,Bt=null;var qt=function(t){function e(e){var r=t.call(this)||this,n=e||{};return Bt||(st=[255,255,255,1],Ft=new vt.Z({color:st}),lt=[20,2],ut=bt.Z.PIXELS,ct=bt.Z.PIXELS,ht=[64,64],pt="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",dt=.5,Zt=new _t.Z({anchor:lt,anchorOrigin:xt.Z.BOTTOM_LEFT,anchorXUnits:ut,anchorYUnits:ct,crossOrigin:"anonymous",rotation:0,scale:dt,size:ht,src:pt}),Nt="NO_IMAGE",Dt=new wt.Z({color:st,width:1}),jt=new wt.Z({color:[51,51,51,1],width:2}),Gt=new Ct.Z({font:"bold 16px Helvetica",fill:Ft,stroke:jt,scale:.8}),zt=new Et.ZP({fill:Ft,image:Zt,text:Gt,stroke:Dt,zIndex:0}),Bt=[zt]),r.dataProjection=(0,x.get)("EPSG:4326"),r.defaultStyle_=n.defaultStyle?n.defaultStyle:Bt,r.extractStyles_=void 0===n.extractStyles||n.extractStyles,r.writeStyles_=void 0===n.writeStyles||n.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===n.showPointNames||n.showPointNames,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r}return St(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var r=(0,k.C5)(Pt,{Document:(0,k.pc)(this.readDocumentOrFolder_,this),Folder:(0,k.pc)(this.readDocumentOrFolder_,this),Placemark:(0,k.Ei)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),n=(0,k.O)([],r,t,e,this);return n||void 0},e.prototype.readPlacemark_=function(t,e){var r=(0,k.O)({geometry:null},Mt,t,e,this);if(r){var n=new i.default,o=t.getAttribute("id");null!==o&&n.setId(o);var a=e[0],l=r.geometry;if(l&&(0,s.fI)(l,!1,a),n.setGeometry(l),delete r.geometry,this.extractStyles_){var u=function(t,e,r,n,i){return function(o,a){var s=i,l="",u=[];if(s){var h=o.getGeometry();if(h){var p=h.getType();p===c.Z.GEOMETRY_COLLECTION?(u=h.getGeometriesArray().filter((function(t){var e=t.getType();return e===c.Z.POINT||e===c.Z.MULTI_POINT})),s=u.length>0):s=p===c.Z.POINT||p===c.Z.MULTI_POINT}}s&&(l=o.get("name"),(s=s&&!!l)&&l.search(/&[^&]+;/)>-1&&(Ut||(Ut=document.createElement("textarea")),Ut.innerHTML=l,l=Ut.value));var d=r;if(t?d=t:e&&(d=Vt(e,r,n)),s){var f=function(t,e){var r=[0,0],n="start",i=t.getImage();if(i){var o=i.getImageSize();if(null===o&&(o=ht),2==o.length){var a=i.getScale();r[0]=a*o[0]/2,r[1]=-a*o[1]/2,n="left"}}var s=t.getText();s?((s=s.clone()).setFont(s.getFont()||Gt.getFont()),s.setScale(s.getScale()||Gt.getScale()),s.setFill(s.getFill()||Gt.getFill()),s.setStroke(s.getStroke()||jt)):s=Gt.clone();return s.setText(e),s.setOffsetX(r[0]),s.setOffsetY(r[1]),s.setTextAlign(n),new Et.ZP({image:i,text:s,fill:t.getFill(),stroke:t.getStroke()})}(d[0],l);return u.length>0?(f.setGeometry(new mt.Z(u)),[f,new Et.ZP({geometry:d[0].getGeometry(),image:null,fill:d[0].getFill(),stroke:d[0].getStroke(),text:null})].concat(d.slice(1))):f}return d}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(u)}return delete r.Style,n.setProperties(r,!0),n}},e.prototype.readSharedStyle_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=_e.call(this,t,e);if(n){var i=void 0,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},e.prototype.readSharedStyleMap_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=Jt.call(this,t,e);if(n){var i,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},e.prototype.readFeatureFromNode=function(t,e){if(!(0,I.q9)(Pt,t.namespaceURI))return null;var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,I.q9)(Pt,t.namespaceURI))return[];var r,n=t.localName;if("Document"==n||"Folder"==n)return(r=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==n){var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i?[i]:[]}if("kml"==n){r=[];for(var o=t.firstElementChild;o;o=o.nextElementSibling){var a=this.readFeaturesFromNode(o,e);a&&(0,I.l7)(r,a)}return r}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=(0,k.Qc)(t);return this.readNameFromDocument(e)}return(0,k.qk)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(e);if(r)return r}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if((0,I.q9)(Pt,e.namespaceURI)&&"name"==e.localName)return(0,D.s2)(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var r=e.localName;if((0,I.q9)(Pt,e.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(e);if(n)return n}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var r=(0,k.Qc)(t);(0,I.l7)(e,this.readNetworkLinksFromDocument(r))}else(0,k.qk)(t)?(0,I.l7)(e,this.readNetworkLinksFromDocument(t)):(0,I.l7)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,I.l7)(e,this.readNetworkLinksFromNode(r));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if((0,I.q9)(Pt,r.namespaceURI)&&"NetworkLink"==r.localName){var n=(0,k.O)({},Rt,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;!(0,I.q9)(Pt,r.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||(0,I.l7)(e,this.readNetworkLinksFromNode(r))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var r=(0,k.Qc)(t);(0,I.l7)(e,this.readRegionFromDocument(r))}else(0,k.qk)(t)?(0,I.l7)(e,this.readRegionFromDocument(t)):(0,I.l7)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,I.l7)(e,this.readRegionFromNode(r));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if((0,I.q9)(Pt,r.namespaceURI)&&"Region"==r.localName){var n=(0,k.O)({},Lt,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;!(0,I.q9)(Pt,r.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||(0,I.l7)(e,this.readRegionFromNode(r))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=(0,k.c)(Pt[4],"kml"),n="http://www.w3.org/2000/xmlns/";r.setAttributeNS(n,"xmlns:gx",Tt[0]),r.setAttributeNS(n,"xmlns:xsi",k.fJ),r.setAttributeNS(k.fJ,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:r},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var a=kt[r.namespaceURI],s=(0,k.RA)(o,a);return(0,k.ZL)(i,At,k.hg,s,[e],a,this),r},e}(L.Z);function Vt(t,e,r){return Array.isArray(t)?t:"string"==typeof t?(!(t in r)&&"#"+t in r&&(t="#"+t),Vt(r[t],e,r)):e}function Yt(t){var e=(0,k.Ve)(t,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(r){var n=r[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function Wt(t){for(var e,r=(0,k.Ve)(t,!1),n=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(r);){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;n.push(o,a,s),r=r.substr(e[0].length)}if(""===r)return n}function Xt(t){var e=(0,k.Ve)(t,!1).trim(),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function Ht(t){return(0,D.fy)(t)}var Kt=(0,k.C5)(Pt,{Pair:function(t,e){var r=(0,k.O)({},Se,t,e,this);if(!r)return;var n=r.key;if(n&&"normal"==n){var i=r.styleUrl;i&&(e[e.length-1]=i);var o=r.Style;o&&(e[e.length-1]=o)}}});function Jt(t,e){return(0,k.O)(void 0,Kt,t,e,this)}var $t=(0,k.C5)(Pt,{Icon:(0,k.Pr)((function(t,e){var r=(0,k.O)({},se,t,e);return r||null})),heading:(0,k.Pr)(D.fy),hotSpot:(0,k.Pr)((function(t){var e,r=t.getAttribute("xunits"),n=t.getAttribute("yunits");return e="insetPixels"!==r?"insetPixels"!==n?xt.Z.BOTTOM_LEFT:xt.Z.TOP_LEFT:"insetPixels"!==n?xt.Z.BOTTOM_RIGHT:xt.Z.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:Ot[r],y:parseFloat(t.getAttribute("y")),yunits:Ot[n],origin:e}})),scale:(0,k.Pr)(Ht)});var Qt=(0,k.C5)(Pt,{color:(0,k.Pr)(Yt),scale:(0,k.Pr)(Ht)});var te=(0,k.C5)(Pt,{color:(0,k.Pr)(Yt),width:(0,k.Pr)(D.fy)});var ee=(0,k.C5)(Pt,{color:(0,k.Pr)(Yt),fill:(0,k.Pr)(D.ud),outline:(0,k.Pr)(D.ud)});var re=(0,k.C5)(Pt,{coordinates:(0,k.z)(Wt)});function ne(t,e){return(0,k.O)(null,re,t,e)}var ie=(0,k.C5)(Tt,{Track:(0,k.Ei)(ae)});var oe=(0,k.C5)(Pt,{when:function(t,e){var r=e[e.length-1].whens,n=(0,k.Ve)(t,!1),i=Date.parse(n);r.push(isNaN(i)?0:i)}},(0,k.C5)(Tt,{coord:function(t,e){var r=e[e.length-1].flatCoordinates,n=(0,k.Ve)(t,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(i){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]);r.push(o,a,s,0)}else r.push(0,0,0,0)}}));function ae(t,e){var r=(0,k.O)({flatCoordinates:[],whens:[]},oe,t,e);if(r){for(var n=r.flatCoordinates,i=r.whens,o=0,a=Math.min(n.length,i.length);o<a;++o)n[4*o+3]=i[o];return new h.Z(n,u.Z.XYZM)}}var se=(0,k.C5)(Pt,{href:(0,k.Pr)(Xt)},(0,k.C5)(Tt,{x:(0,k.Pr)(D.fy),y:(0,k.Pr)(D.fy),w:(0,k.Pr)(D.fy),h:(0,k.Pr)(D.fy)}));var le=(0,k.C5)(Pt,{coordinates:(0,k.z)(Wt)});function ue(t,e){return(0,k.O)(null,le,t,e)}var ce=(0,k.C5)(Pt,{extrude:(0,k.Pr)(D.ud),tessellate:(0,k.Pr)(D.ud),altitudeMode:(0,k.Pr)(D.s2)});function he(t,e){var r=(0,k.O)({},ce,t,e),n=ue(t,e);if(n){var i=new h.Z(n,u.Z.XYZ);return i.setProperties(r,!0),i}}function pe(t,e){var r=(0,k.O)({},ce,t,e),n=ue(t,e);if(n){var i=new y.ZP(n,u.Z.XYZ,[n.length]);return i.setProperties(r,!0),i}}var de=(0,k.C5)(Pt,{LineString:(0,k.Ei)(he),LinearRing:(0,k.Ei)(pe),MultiGeometry:(0,k.Ei)(fe),Point:(0,k.Ei)(ge),Polygon:(0,k.Ei)(ye)});function fe(t,e){var r,n=(0,k.O)([],de,t,e);if(!n)return null;if(0===n.length)return new mt.Z(n);for(var i,a=!0,s=n[0].getType(),l=1,u=n.length;l<u;++l)if((i=n[l]).getType()!=s){a=!1;break}if(a){var h=void 0,p=void 0;if(s==c.Z.POINT){var m=n[0];h=m.getLayout(),p=m.getFlatCoordinates();for(l=1,u=n.length;l<u;++l)i=n[l],(0,I.l7)(p,i.getFlatCoordinates());be(r=new f.Z(p,h),n)}else s==c.Z.LINE_STRING?be(r=new d.Z(n),n):s==c.Z.POLYGON?be(r=new g.Z(n),n):s==c.Z.GEOMETRY_COLLECTION?r=new mt.Z(n):(0,o.h)(!1,37)}else r=new mt.Z(n);return r}function ge(t,e){var r=(0,k.O)({},ce,t,e),n=ue(t,e);if(n){var i=new m.Z(n,u.Z.XYZ);return i.setProperties(r,!0),i}}var me=(0,k.C5)(Pt,{innerBoundaryIs:function(t,e){var r=(0,k.O)(void 0,Me,t,e);if(r){e[e.length-1].push(r)}},outerBoundaryIs:function(t,e){var r=(0,k.O)(void 0,Re,t,e);if(r){e[e.length-1][0]=r}}});function ye(t,e){var r=(0,k.O)({},ce,t,e),n=(0,k.O)([null],me,t,e);if(n&&n[0]){for(var i=n[0],o=[i.length],a=1,s=n.length;a<s;++a)(0,I.l7)(i,n[a]),o.push(i.length);var l=new y.ZP(i,u.Z.XYZ,o);return l.setProperties(r,!0),l}}var ve=(0,k.C5)(Pt,{IconStyle:function(t,e){var r=(0,k.O)({},$t,t,e);if(r){var n,i,o,a,s=e[e.length-1],l="Icon"in r?r.Icon:{},u=!("Icon"in r)||Object.keys(l).length>0,c=l.href;c?n=c:u&&(n=pt);var h,p=xt.Z.BOTTOM_LEFT,d=r.hotSpot;d?(i=[d.x,d.y],o=d.xunits,a=d.yunits,p=d.origin):n===pt?(i=lt,o=ut,a=ct):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(i=[.5,0],o=bt.Z.FRACTION,a=bt.Z.FRACTION);var f,g=l.x,m=l.y;void 0!==g&&void 0!==m&&(h=[g,m]);var y,v=l.w,_=l.h;void 0!==v&&void 0!==_&&(f=[v,_]);var b=r.heading;void 0!==b&&(y=(0,yt.Yr)(b));var x=r.scale;if(u){n==pt&&(f=ht,void 0===x&&(x=dt));var w=new _t.Z({anchor:i,anchorOrigin:p,anchorXUnits:o,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:h,offsetOrigin:xt.Z.BOTTOM_LEFT,rotation:y,scale:x,size:f,src:n});s.imageStyle=w}else s.imageStyle=Nt}},LabelStyle:function(t,e){var r=(0,k.O)({},Qt,t,e);if(r){var n=e[e.length-1],i=new Ct.Z({fill:new vt.Z({color:"color"in r?r.color:st}),scale:r.scale});n.textStyle=i}},LineStyle:function(t,e){var r=(0,k.O)({},te,t,e);if(r){var n=e[e.length-1],i=new wt.Z({color:"color"in r?r.color:st,width:"width"in r?r.width:1});n.strokeStyle=i}},PolyStyle:function(t,e){var r=(0,k.O)({},ee,t,e);if(r){var n=e[e.length-1],i=new vt.Z({color:"color"in r?r.color:st});n.fillStyle=i;var o=r.fill;void 0!==o&&(n.fill=o);var a=r.outline;void 0!==a&&(n.outline=a)}}});function _e(t,e){var r=(0,k.O)({},ve,t,e,this);if(!r)return null;var n,i="fillStyle"in r?r.fillStyle:Ft,o=r.fill;void 0===o||o||(i=null),"imageStyle"in r?r.imageStyle!=Nt&&(n=r.imageStyle):n=Zt;var a="textStyle"in r?r.textStyle:Gt,s="strokeStyle"in r?r.strokeStyle:Dt,l=r.outline;return void 0===l||l?[new Et.ZP({fill:i,image:n,stroke:s,text:a,zIndex:void 0})]:[new Et.ZP({geometry:function(t){var e=t.getGeometry(),r=e.getType();return r===c.Z.GEOMETRY_COLLECTION?new mt.Z(e.getGeometriesArray().filter((function(t){var e=t.getType();return e!==c.Z.POLYGON&&e!==c.Z.MULTI_POLYGON}))):r!==c.Z.POLYGON&&r!==c.Z.MULTI_POLYGON?e:void 0},fill:i,image:n,stroke:s,text:a,zIndex:void 0}),new Et.ZP({geometry:function(t){var e=t.getGeometry(),r=e.getType();return r===c.Z.GEOMETRY_COLLECTION?new mt.Z(e.getGeometriesArray().filter((function(t){var e=t.getType();return e===c.Z.POLYGON||e===c.Z.MULTI_POLYGON}))):r===c.Z.POLYGON||r===c.Z.MULTI_POLYGON?e:void 0},fill:i,stroke:null,zIndex:void 0})]}function be(t,e){var r,n,i,o=e.length,a=new Array(e.length),s=new Array(e.length),l=new Array(e.length);r=!1,n=!1,i=!1;for(var u=0;u<o;++u){var c=e[u];a[u]=c.get("extrude"),s[u]=c.get("tessellate"),l[u]=c.get("altitudeMode"),r=r||void 0!==a[u],n=n||void 0!==s[u],i=i||l[u]}r&&t.set("extrude",a),n&&t.set("tessellate",s),i&&t.set("altitudeMode",l)}var xe=(0,k.C5)(Pt,{displayName:(0,k.Pr)(D.s2),value:(0,k.Pr)(D.s2)});var we=(0,k.C5)(Pt,{Data:function(t,e){var r=t.getAttribute("name");(0,k.T3)(xe,t,e);var n=e[e.length-1];r&&n.displayName?n[r]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(t,e){(0,k.T3)(Te,t,e)}});function Ee(t,e){(0,k.T3)(we,t,e)}function Ce(t,e){(0,k.T3)(Lt,t,e)}var Se=(0,k.C5)(Pt,{Style:(0,k.Pr)(_e),key:(0,k.Pr)(D.s2),styleUrl:(0,k.Pr)(Xt)});var Te=(0,k.C5)(Pt,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var n=(0,D.s2)(t);e[e.length-1][r]=n}}});var Pe=(0,k.C5)(Pt,{altitudeMode:(0,k.Pr)(D.s2),minAltitude:(0,k.Pr)(D.fy),maxAltitude:(0,k.Pr)(D.fy),north:(0,k.Pr)(D.fy),south:(0,k.Pr)(D.fy),east:(0,k.Pr)(D.fy),west:(0,k.Pr)(D.fy)});var Oe=(0,k.C5)(Pt,{minLodPixels:(0,k.Pr)(D.fy),maxLodPixels:(0,k.Pr)(D.fy),minFadeExtent:(0,k.Pr)(D.fy),maxFadeExtent:(0,k.Pr)(D.fy)});var Me=(0,k.C5)(Pt,{LinearRing:(0,k.z)(ne)});var Re=(0,k.C5)(Pt,{LinearRing:(0,k.z)(ne)});function Ie(t,e){for(var r=(0,gt._2)(e),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],i=0;i<4;++i){var o=Math.floor(n[i]).toString(16);n[i]=1==o.length?"0"+o:o}(0,D.bZ)(t,n.join(""))}var Le=(0,k.C5)(Pt,{Data:(0,k.A4)((function(t,e,r){t.setAttribute("name",e.name);var n={node:t},i=e.value;"object"==typeof i?(null!==i&&i.displayName&&(0,k.ZL)(n,Le,k.hg,[i.displayName],r,["displayName"]),null!==i&&i.value&&(0,k.ZL)(n,Le,k.hg,[i.value],r,["value"])):(0,k.ZL)(n,Le,k.hg,[i],r,["value"])})),value:(0,k.A4)((function(t,e){(0,D.bZ)(t,e)})),displayName:(0,k.A4)((function(t,e){(0,D.xO)(t,e)}))});var ke=(0,k.C5)(Pt,{Placemark:(0,k.A4)(ir)}),Ae=function(t,e,r){var n=e[e.length-1].node;return(0,k.c)(n.namespaceURI,"Placemark")};var Fe=(0,k.G3)("Data");var Ne=(0,k.C5)(Pt,["href"],(0,k.C5)(Tt,["x","y","w","h"])),Ze=(0,k.C5)(Pt,{href:(0,k.A4)(D.bZ)},(0,k.C5)(Tt,{x:(0,k.A4)(D.f3),y:(0,k.A4)(D.f3),w:(0,k.A4)(D.f3),h:(0,k.A4)(D.f3)})),je=function(t,e,r){return(0,k.c)(Tt[0],"gx:"+r)};var De=(0,k.C5)(Pt,["scale","heading","Icon","hotSpot"]),Ge=(0,k.C5)(Pt,{Icon:(0,k.A4)((function(t,e,r){var n={node:t},i=r[r.length-1].node,o=Ne[i.namespaceURI],a=(0,k.RA)(e,o);(0,k.ZL)(n,Ze,k.hg,a,r,o),o=Ne[Tt[0]],a=(0,k.RA)(e,o),(0,k.ZL)(n,Ze,je,a,r,o)})),heading:(0,k.A4)(D.f3),hotSpot:(0,k.A4)((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:(0,k.A4)(fr)});var ze=(0,k.C5)(Pt,["color","scale"]),Ue=(0,k.C5)(Pt,{color:(0,k.A4)(Ie),scale:(0,k.A4)(fr)});var Be=(0,k.C5)(Pt,["color","width"]),qe=(0,k.C5)(Pt,{color:(0,k.A4)(Ie),width:(0,k.A4)(D.f3)});var Ve={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Ye=function(t,e,r){if(t){var n=e[e.length-1].node;return(0,k.c)(n.namespaceURI,Ve[t.getType()])}},We=(0,k.G3)("Point"),Xe=(0,k.G3)("LineString"),He=(0,k.G3)("LinearRing"),Ke=(0,k.G3)("Polygon"),Je=(0,k.C5)(Pt,{LineString:(0,k.A4)(sr),Point:(0,k.A4)(sr),Polygon:(0,k.A4)(hr),GeometryCollection:(0,k.A4)($e)});function $e(t,e,r){var n,i,a={node:t},s=e.getType();s==c.Z.GEOMETRY_COLLECTION?(n=e.getGeometries(),i=Ye):s==c.Z.MULTI_POINT?(n=e.getPoints(),i=We):s==c.Z.MULTI_LINE_STRING?(n=e.getLineStrings(),i=Xe):s==c.Z.MULTI_POLYGON?(n=e.getPolygons(),i=Ke):(0,o.h)(!1,39),(0,k.ZL)(a,Je,i,n,r)}var Qe=(0,k.C5)(Pt,{LinearRing:(0,k.A4)(sr)});function tr(t,e,r){var n={node:t};(0,k.ZL)(n,Qe,He,[e],r)}var er=(0,k.C5)(Pt,{ExtendedData:(0,k.A4)((function(t,e,r){for(var n={node:t},i=e.names,o=e.values,a=i.length,s=0;s<a;s++)(0,k.ZL)(n,Le,Fe,[{name:i[s],value:o[s]}],r)})),MultiGeometry:(0,k.A4)($e),LineString:(0,k.A4)(sr),LinearRing:(0,k.A4)(sr),Point:(0,k.A4)(sr),Polygon:(0,k.A4)(hr),Style:(0,k.A4)((function(t,e,r){var n={node:t},i={},o=e.getFill(),a=e.getStroke(),s=e.getImage(),l=e.getText();s&&"function"==typeof s.getSrc&&(i.IconStyle=s);l&&(i.LabelStyle=l);a&&(i.LineStyle=a);o&&(i.PolyStyle=o);var u=r[r.length-1].node,c=gr[u.namespaceURI],h=(0,k.RA)(i,c);(0,k.ZL)(n,mr,k.hg,h,r,c)})),address:(0,k.A4)(D.bZ),description:(0,k.A4)(D.bZ),name:(0,k.A4)(D.bZ),open:(0,k.A4)(D.Vi),phoneNumber:(0,k.A4)(D.bZ),styleUrl:(0,k.A4)(D.bZ),visibility:(0,k.A4)(D.Vi)}),rr=(0,k.C5)(Pt,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),nr=(0,k.G3)("ExtendedData");function ir(t,e,r){var n={node:t};e.getId()&&t.setAttribute("id",e.getId());var i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter((function(t){return!o[t]})),l=e.getStyleFunction();if(l){var u=l(e,0);if(u){var c=Array.isArray(u)?u[0]:u;this.writeStyles_&&(i.Style=c);var h=c.getText();h&&(i.name=h.getText())}}var p=r[r.length-1].node,d=rr[p.namespaceURI],f=(0,k.RA)(i,d);if((0,k.ZL)(n,er,k.hg,f,r,d),a.length>0){var g={names:a,values:(0,k.RA)(i,a)};(0,k.ZL)(n,er,nr,[g],r)}var m=r[0],y=e.getGeometry();y&&(y=(0,s.fI)(y,!0,m)),(0,k.ZL)(n,er,Ye,[y],r)}var or=(0,k.C5)(Pt,["extrude","tessellate","altitudeMode","coordinates"]),ar=(0,k.C5)(Pt,{extrude:(0,k.A4)(D.Vi),tessellate:(0,k.A4)(D.Vi),altitudeMode:(0,k.A4)(D.bZ),coordinates:(0,k.A4)((function(t,e,r){var n,i=r[r.length-1],a=i.layout,s=i.stride;a==u.Z.XY||a==u.Z.XYM?n=2:a==u.Z.XYZ||a==u.Z.XYZM?n=3:(0,o.h)(!1,34);var l=e.length,c="";if(l>0){c+=e[0];for(var h=1;h<n;++h)c+=","+e[h];for(var p=s;p<l;p+=s){c+=" "+e[p];for(h=1;h<n;++h)c+=","+e[p+h]}}(0,D.bZ)(t,c)}))});function sr(t,e,r){var n=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();var o=e.getProperties();o.coordinates=n;var a=r[r.length-1].node,s=or[a.namespaceURI],l=(0,k.RA)(o,s);(0,k.ZL)(i,ar,k.hg,l,r,s)}var lr=(0,k.C5)(Pt,{outerBoundaryIs:(0,k.A4)(tr),innerBoundaryIs:(0,k.A4)(tr)}),ur=(0,k.G3)("innerBoundaryIs"),cr=(0,k.G3)("outerBoundaryIs");function hr(t,e,r){var n=e.getLinearRings(),i=n.shift(),o={node:t};(0,k.ZL)(o,lr,ur,n,r),(0,k.ZL)(o,lr,cr,[i],r)}var pr=(0,k.C5)(Pt,{color:(0,k.A4)(Ie)}),dr=(0,k.G3)("color");function fr(t,e){(0,D.f3)(t,Math.round(1e6*e)/1e6)}var gr=(0,k.C5)(Pt,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),mr=(0,k.C5)(Pt,{IconStyle:(0,k.A4)((function(t,e,r){var n={node:t},i={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),l={href:o};if(a){l.w=a[0],l.h=a[1];var u=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(l.x=c[0],l.y=s[1]-(c[1]+a[1])),u&&(u[0]!==a[0]/2||u[1]!==a[1]/2)){var h={x:u[0],xunits:bt.Z.PIXELS,y:a[1]-u[1],yunits:bt.Z.PIXELS};i.hotSpot=h}}i.Icon=l;var p=e.getScale();1!==p&&(i.scale=p);var d=e.getRotation();0!==d&&(i.heading=d);var f=r[r.length-1].node,g=De[f.namespaceURI],m=(0,k.RA)(i,g);(0,k.ZL)(n,Ge,k.hg,m,r,g)})),LabelStyle:(0,k.A4)((function(t,e,r){var n={node:t},i={},o=e.getFill();o&&(i.color=o.getColor());var a=e.getScale();a&&1!==a&&(i.scale=a);var s=r[r.length-1].node,l=ze[s.namespaceURI],u=(0,k.RA)(i,l);(0,k.ZL)(n,Ue,k.hg,u,r,l)})),LineStyle:(0,k.A4)((function(t,e,r){var n={node:t},i={color:e.getColor(),width:Number(e.getWidth())||1},o=r[r.length-1].node,a=Be[o.namespaceURI],s=(0,k.RA)(i,a);(0,k.ZL)(n,qe,k.hg,s,r,a)})),PolyStyle:(0,k.A4)((function(t,e,r){var n={node:t};(0,k.ZL)(n,pr,dr,[e.getColor()],r)}))});const yr=qt;var vr=r(16659);function _r(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}const br=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=(0,k.Qc)(t);return this.readFromDocument(e)}return(0,k.qk)(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){},t.prototype.readFromNode=function(t){},t}();var xr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wr=[null,"http://www.opengis.net/ows/1.1"],Er=(0,k.C5)(wr,{ServiceIdentification:(0,k.Pr)((function(t,e){return(0,k.O)({},Nr,t,e)})),ServiceProvider:(0,k.Pr)((function(t,e){return(0,k.O)({},Zr,t,e)})),OperationsMetadata:(0,k.Pr)((function(t,e){return(0,k.O)({},Lr,t,e)}))}),Cr=function(t){function e(){return t.call(this)||this}return xr(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=(0,k.O)({},Er,t,[]);return e||null},e}(br),Sr=(0,k.C5)(wr,{DeliveryPoint:(0,k.Pr)(D.s2),City:(0,k.Pr)(D.s2),AdministrativeArea:(0,k.Pr)(D.s2),PostalCode:(0,k.Pr)(D.s2),Country:(0,k.Pr)(D.s2),ElectronicMailAddress:(0,k.Pr)(D.s2)}),Tr=(0,k.C5)(wr,{Value:(0,k.ke)((function(t,e){return(0,D.s2)(t)}))}),Pr=(0,k.C5)(wr,{AllowedValues:(0,k.Pr)((function(t,e){return(0,k.O)({},Tr,t,e)}))}),Or=(0,k.C5)(wr,{Phone:(0,k.Pr)((function(t,e){return(0,k.O)({},kr,t,e)})),Address:(0,k.Pr)((function(t,e){return(0,k.O)({},Sr,t,e)}))}),Mr=(0,k.C5)(wr,{HTTP:(0,k.Pr)((function(t,e){return(0,k.O)({},Rr,t,e)}))}),Rr=(0,k.C5)(wr,{Get:(0,k.ke)((function(t,e){var r=_r(t);if(!r)return;return(0,k.O)({href:r},Ar,t,e)})),Post:void 0}),Ir=(0,k.C5)(wr,{DCP:(0,k.Pr)((function(t,e){return(0,k.O)({},Mr,t,e)}))}),Lr=(0,k.C5)(wr,{Operation:function(t,e){var r=t.getAttribute("name"),n=(0,k.O)({},Ir,t,e);if(!n)return;e[e.length-1][r]=n}}),kr=(0,k.C5)(wr,{Voice:(0,k.Pr)(D.s2),Facsimile:(0,k.Pr)(D.s2)}),Ar=(0,k.C5)(wr,{Constraint:(0,k.ke)((function(t,e){var r=t.getAttribute("name");if(!r)return;return(0,k.O)({name:r},Pr,t,e)}))}),Fr=(0,k.C5)(wr,{IndividualName:(0,k.Pr)(D.s2),PositionName:(0,k.Pr)(D.s2),ContactInfo:(0,k.Pr)((function(t,e){return(0,k.O)({},Or,t,e)}))}),Nr=(0,k.C5)(wr,{Abstract:(0,k.Pr)(D.s2),AccessConstraints:(0,k.Pr)(D.s2),Fees:(0,k.Pr)(D.s2),Title:(0,k.Pr)(D.s2),ServiceTypeVersion:(0,k.Pr)(D.s2),ServiceType:(0,k.Pr)(D.s2)}),Zr=(0,k.C5)(wr,{ProviderName:(0,k.Pr)(D.s2),ProviderSite:(0,k.Pr)(_r),ServiceContact:(0,k.Pr)((function(t,e){return(0,k.O)({},Fr,t,e)}))});const jr=Cr;var Dr=r(13585);function Gr(t,e,r,n,i,o){var a,s;void 0!==i?(a=i,s=void 0!==o?o:0):(a=[],s=0);for(var l=e;l<r;){var u=t[l++];a[s++]=t[l++],a[s++]=u;for(var c=2;c<n;++c)a[s++]=t[l++]}return a.length=s,a}var zr=r(19227),Ur=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Br(t){for(var e,r="";t>=32;)e=63+(32|31&t),r+=String.fromCharCode(e),t>>=5;return e=t+63,r+=String.fromCharCode(e)}const qr=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=(0,x.get)("EPSG:4326"),r.factor_=n.factor?n.factor:1e5,r.geometryLayout_=n.geometryLayout?n.geometryLayout:u.Z.XY,r}return Ur(e,t),e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);return new i.default(r)},e.prototype.readFeaturesFromText=function(t,e){return[this.readFeatureFromText(t,e)]},e.prototype.readGeometryFromText=function(t,e){var r=(0,Dr.tP)(this.geometryLayout_),n=function(t,e,r){var n,i=r||1e5,o=new Array(e);for(n=0;n<e;++n)o[n]=0;for(var a=function(t,e){for(var r=e||1e5,n=function(t){for(var e=function(t){for(var e=[],r=0,n=0,i=0,o=t.length;i<o;++i){var a=t.charCodeAt(i)-63;r|=(31&a)<<n,a<32?(e.push(r),r=0,n=0):n+=5}return e}(t),r=0,n=e.length;r<n;++r){var i=e[r];e[r]=1&i?~(i>>1):i>>1}return e}(t),i=0,o=n.length;i<o;++i)n[i]/=r;return n}(t,i),s=0,l=a.length;s<l;)for(n=0;n<e;++n,++s)o[n]+=a[s],a[s]=o[n];return a}(t,r,this.factor_);Gr(n,0,n.length,r,n);var i=(0,zr.Ml)(n,0,n.length,r),o=new h.Z(i,this.geometryLayout_);return(0,s.fI)(o,!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):((0,o.h)(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){var r=(t=(0,s.fI)(t,!0,this.adaptOptions(e))).getFlatCoordinates(),n=t.getStride();return Gr(r,0,r.length,n,r),function(t,e,r){var n,i=r||1e5,o=new Array(e);for(n=0;n<e;++n)o[n]=0;for(var a=0,s=t.length;a<s;)for(n=0;n<e;++n,++a){var l=t[a],u=l-o[n];o[n]=l,t[a]=u}return function(t,e){for(var r=e||1e5,n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*r);return function(t){for(var e=0,r=t.length;e<r;++e){var n=t[e];t[e]=n<0?~(n<<1):n<<1}return function(t){for(var e="",r=0,n=t.length;r<n;++r)e+=Br(t[r]);return e}(t)}(t)}(t,i)}(r,n,this.factor_)},e}(J);var Vr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yr=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.layerName_=n.layerName,r.layers_=n.layers?n.layers:null,r.dataProjection=(0,x.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),r}return Vr(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var r=t,n=void 0,i=null,o=null;r.transform&&(i=(n=r.transform).scale,o=n.translate);var a=r.arcs;n&&function(t,e,r){for(var n=0,i=t.length;n<i;++n)Jr(t[n],e,r)}(a,i,o);var s=[],l=r.objects,u=this.layerName_,c=void 0;for(var h in l)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===l[h].type?(c=l[h],s.push.apply(s,Hr(c,a,i,o,u,h,e))):(c=l[h],s.push(Kr(c,a,i,o,u,h,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(l.Z),Wr={Point:function(t,e,r){var n=t.coordinates;e&&r&&$r(n,e,r);return new m.Z(n)},LineString:function(t,e){var r=Xr(t.arcs,e);return new h.Z(r)},Polygon:function(t,e){for(var r=[],n=0,i=t.arcs.length;n<i;++n)r[n]=Xr(t.arcs[n],e);return new y.ZP(r)},MultiPoint:function(t,e,r){var n=t.coordinates;if(e&&r)for(var i=0,o=n.length;i<o;++i)$r(n[i],e,r);return new f.Z(n)},MultiLineString:function(t,e){for(var r=[],n=0,i=t.arcs.length;n<i;++n)r[n]=Xr(t.arcs[n],e);return new d.Z(r)},MultiPolygon:function(t,e){for(var r=[],n=0,i=t.arcs.length;n<i;++n){for(var o=t.arcs[n],a=[],s=0,l=o.length;s<l;++s)a[s]=Xr(o[s],e);r[n]=a}return new g.Z(r)}};function Xr(t,e){for(var r,n,i=[],o=0,a=t.length;o<a;++o)r=t[o],o>0&&i.pop(),n=r>=0?e[r]:e[~r].slice().reverse(),i.push.apply(i,n);for(var s=0,l=i.length;s<l;++s)i[s]=i[s].slice();return i}function Hr(t,e,r,n,i,o,a){for(var s=t.geometries,l=[],u=0,c=s.length;u<c;++u)l[u]=Kr(s[u],e,r,n,i,o,a);return l}function Kr(t,e,r,n,o,a,l){var u,c=t.type,h=Wr[c];u="Point"===c||"MultiPoint"===c?h(t,r,n):h(t,e);var p=new i.default;p.setGeometry((0,s.fI)(u,!1,l)),void 0!==t.id&&p.setId(t.id);var d=t.properties;return o&&(d||(d={}),d[o]=a),d&&p.setProperties(d,!0),p}function Jr(t,e,r){for(var n=0,i=0,o=0,a=t.length;o<a;++o){var s=t[o];n+=s[0],i+=s[1],s[0]=n,s[1]=i,$r(s,e,r)}}function $r(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}const Qr=Yr;var tn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),en={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},rn=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).FEATURE_COLLECTION_PARSERS[F].featureMember=(0,k.Ei)(r.readFeaturesInternal),r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",r}return tn(e,t),e.prototype.readFlatCoordinates_=function(t,e){var r=(0,k.Ve)(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName,i="enu";if(n){var o=(0,x.get)(n);o&&(i=o.getAxisOrientation())}for(var a=r.trim().split(/\s+/),s=[],l=0,u=a.length;l<u;l++){var c=a[l].split(/,+/),h=parseFloat(c[0]),p=parseFloat(c[1]),d=3===c.length?parseFloat(c[2]):0;"en"===i.substr(0,2)?s.push(h,p,d):s.push(p,h,d)}return s},e.prototype.readBox_=function(t,e){var r=(0,k.O)([null],this.BOX_PARSERS_,t,e,this);return(0,a.createOrUpdate)(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser_=function(t,e){var r=(0,k.O)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.outerBoundaryIsParser_=function(t,e){var r=(0,k.O)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,i=e[e.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),(0,k.c)("http://www.opengis.net/gml",n)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var s=e.getProperties(),l=[],u=[];for(var c in s){var h=s[c];null!==h&&(l.push(c),u.push(h),c==a||"function"==typeof h.getSimplifiedGeometry?c in i.serializers[o]||(i.serializers[o][c]=(0,k.A4)(this.writeGeometryElement,this)):c in i.serializers[o]||(i.serializers[o][c]=(0,k.A4)(D.bZ)))}var p=(0,b.f0)({},i);p.node=t,(0,k.ZL)(p,i.serializers,(0,k.G3)(void 0,o),u,r,l)},e.prototype.writeCurveOrLineString_=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,r)}else if("Curve"===t.nodeName){var o=(0,k.c)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeLineStringOrCurveMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString_(n,e,r))},e.prototype.writeMultiCurveOrLineString_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();(0,k.ZL)({node:t,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var n,i=r[r.length-1],o=(0,b.f0)({},i);o.node=t,n=Array.isArray(e)?(0,s.lj)(e,i):(0,s.fI)(e,!0,i),(0,k.ZL)(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=(0,k.c)(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=e.getCoordinates(),s=a.length,l=new Array(s),u=0;u<s;++u){var c=a[u];l[u]=this.getCoords_(c,o,i)}(0,D.bZ)(t,l.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString_(n,e,r)},e.prototype.writeSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();(0,k.ZL)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=(0,k.c)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),(0,k.c)(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r)},e.prototype.writeRing_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing_(n,e,r)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=(0,x.get)(e).getAxisOrientation());var i="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];r&&(i+=","+(t[2]||0));return i},e.prototype.writePoint_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;o&&t.setAttribute("srsName",o);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var s=e.getCoordinates(),l=this.getCoords_(s,o,i);(0,D.bZ)(a,l)},e.prototype.writeMultiPoint_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;o&&t.setAttribute("srsName",o);var a=e.getPoints();(0,k.ZL)({node:t,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS_,(0,k.G3)("pointMember"),a,r,void 0,this)},e.prototype.writePointMember_=function(t,e,r){var n=(0,k.c)(t.namespaceURI,"Point");t.appendChild(n),this.writePoint_(n,e,r)},e.prototype.writeLinearRing_=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,r)},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();(0,k.ZL)({node:t,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r))},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,k.ZL)({node:t},this.ENVELOPE_SERIALIZERS_,k.hg,i,r,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return(0,k.c)("http://www.opengis.net/gml",en[n.nodeName])},e}(j);rn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,k.z)(rn.prototype.readFlatCoordinates_)}},rn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:rn.prototype.innerBoundaryIsParser_,outerBoundaryIs:rn.prototype.outerBoundaryIsParser_}},rn.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,k.Ei)(rn.prototype.readFlatCoordinates_)}},rn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,k.z)(j.prototype.readPoint),MultiPoint:(0,k.z)(j.prototype.readMultiPoint),LineString:(0,k.z)(j.prototype.readLineString),MultiLineString:(0,k.z)(j.prototype.readMultiLineString),LinearRing:(0,k.z)(j.prototype.readLinearRing),Polygon:(0,k.z)(j.prototype.readPolygon),MultiPolygon:(0,k.z)(j.prototype.readMultiPolygon),Box:(0,k.z)(rn.prototype.readBox_)}},rn.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,k.A4)(rn.prototype.writeCurveOrLineString_),MultiCurve:(0,k.A4)(rn.prototype.writeMultiCurveOrLineString_),Point:(0,k.A4)(rn.prototype.writePoint_),MultiPoint:(0,k.A4)(rn.prototype.writeMultiPoint_),LineString:(0,k.A4)(rn.prototype.writeCurveOrLineString_),MultiLineString:(0,k.A4)(rn.prototype.writeMultiCurveOrLineString_),LinearRing:(0,k.A4)(rn.prototype.writeLinearRing_),Polygon:(0,k.A4)(rn.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,k.A4)(rn.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,k.A4)(rn.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,k.A4)(rn.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,k.A4)(rn.prototype.writeEnvelope)}},rn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,k.A4)(rn.prototype.writeLineStringOrCurveMember_),curveMember:(0,k.A4)(rn.prototype.writeLineStringOrCurveMember_)}},rn.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:(0,k.A4)(rn.prototype.writeRing_),innerBoundaryIs:(0,k.A4)(rn.prototype.writeRing_)}},rn.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,k.A4)(rn.prototype.writePointMember_)}},rn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,k.A4)(rn.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,k.A4)(rn.prototype.writeSurfaceOrPolygonMember_)}},rn.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,k.A4)(D.bZ),upperCorner:(0,k.A4)(D.bZ)}};const nn=rn;const on=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}();var an=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const sn=function(t){function e(e,r){var n=t.call(this,e)||this;return n.conditions=r,(0,o.h)(n.conditions.length>=2,57),n}return an(e,t),e}(on);var ln=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const un=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return ln(e,t),e}(sn);var cn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hn=function(t){function e(e,r,n){var i=t.call(this,"BBOX")||this;if(i.geometryName=e,i.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return i.srsName=n,i}return cn(e,t),e}(on);const pn=hn;var dn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fn={"http://www.opengis.net/gml":{boundedBy:(0,k.Pr)(j.prototype.readGeometryElement,"bounds")}},gn={"http://www.opengis.net/wfs":{totalInserted:(0,k.Pr)(D.A_),totalUpdated:(0,k.Pr)(D.A_),totalDeleted:(0,k.Pr)(D.A_)}},mn={"http://www.opengis.net/wfs":{TransactionSummary:(0,k.Pr)((function(t,e){return(0,k.O)({},gn,t,e)}),"transactionSummary"),InsertResults:(0,k.Pr)((function(t,e){return(0,k.O)([],Pn,t,e)}),"insertIds")}},yn={"http://www.opengis.net/wfs":{PropertyName:(0,k.A4)(D.bZ)}},vn={"http://www.opengis.net/wfs":{Insert:(0,k.A4)((function(t,e,r){var n=r[r.length-1],i=n.featureType,o=n.featureNS,a=n.gmlVersion,s=(0,k.c)(o,i);t.appendChild(s),2===a?nn.prototype.writeFeatureElement(s,e,r):B.prototype.writeFeatureElement(s,e,r)})),Update:(0,k.A4)((function(t,e,r){var n=r[r.length-1];(0,o.h)(void 0!==e.getId(),27);var i=n.featureType,a=n.featurePrefix,s=n.featureNS,l=Mn(a,i),u=e.getGeometryName();t.setAttribute("typeName",l),t.setAttributeNS(bn,"xmlns:"+a,s);var c=e.getId();if(void 0!==c){for(var h=e.getKeys(),p=[],d=0,f=h.length;d<f;d++){var g=e.get(h[d]);if(void 0!==g){var m=h[d];g&&"function"==typeof g.getSimplifiedGeometry&&(m=u),p.push({name:m,value:g})}}(0,k.ZL)({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},vn,(0,k.G3)("Property"),p,r),On(t,c,r)}})),Delete:(0,k.A4)((function(t,e,r){var n=r[r.length-1];(0,o.h)(void 0!==e.getId(),26);var i=n.featureType,a=n.featurePrefix,s=n.featureNS,l=Mn(a,i);t.setAttribute("typeName",l),t.setAttributeNS(bn,"xmlns:"+a,s);var u=e.getId();void 0!==u&&On(t,u,r)})),Property:(0,k.A4)((function(t,e,r){var n=(0,k.c)(wn,"Name"),i=r[r.length-1].gmlVersion;if(t.appendChild(n),(0,D.bZ)(n,e.name),void 0!==e.value&&null!==e.value){var o=(0,k.c)(wn,"Value");t.appendChild(o),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===i?nn.prototype.writeGeometryElement(o,e.value,r):B.prototype.writeGeometryElement(o,e.value,r):(0,D.bZ)(o,e.value)}})),Native:(0,k.A4)((function(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId);void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore));void 0!==e.value&&(0,D.bZ)(t,e.value)}))}},_n="feature",bn="http://www.w3.org/2000/xmlns/",xn="http://www.opengis.net/ogc",wn="http://www.opengis.net/wfs",En={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Cn="1.1.0",Sn=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureType_=n.featureType,r.featureNS_=n.featureNS,r.gmlFormat_=n.gmlFormat?n.gmlFormat:new B,r.schemaLocation_=n.schemaLocation?n.schemaLocation:En["1.1.0"],r}return dn(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};(0,b.f0)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),(0,b.f0)(r,this.getReadOptions(t,e||{}));var n=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[F].featureMember=(0,k.Ei)(j.prototype.readFeaturesInternal);var i=(0,k.O)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,n,this.gmlFormat_);return i||(i=[]),i},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=(0,k.Qc)(t);return this.readTransactionResponseFromDocument(e)}return(0,k.qk)(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=(0,k.Qc)(t);return this.readFeatureCollectionMetadataFromDocument(e)}return(0,k.qk)(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=(0,D._E)(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=r,(0,k.O)(e,fn,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return(0,k.O)({},mn,t,[])},e.prototype.writeGetFeature=function(t){var e,r=(0,k.c)(wn,"GetFeature");if(r.setAttribute("service","WFS"),r.setAttribute("version","1.1.0"),t&&(t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams",t.viewParams),e=t.filter,t.bbox)){(0,o.h)(t.geometryName,12);var n=function(t,e,r){return new pn(t,e,r)}(t.geometryName,t.bbox,t.srsName);e=e?function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(un,e))}(e,n):n}r.setAttributeNS(k.fJ,"xsi:schemaLocation",this.schemaLocation_);var i={node:r};return(0,b.f0)(i,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]}),(0,o.h)(Array.isArray(t.featureTypes),11),function(t,e,r){var n=r[r.length-1],i=(0,b.f0)({},n);i.node=t,(0,k.ZL)(i,Rn,(0,k.G3)("Query"),e,r)}(r,t.featureTypes,[i]),r},e.prototype.writeTransaction=function(t,e,r,n){var i,o,a=[],s=(0,k.c)(wn,"Transaction"),l=n.version?n.version:Cn,u="1.0.0"===l?2:3;s.setAttribute("service","WFS"),s.setAttribute("version",l),n&&(i=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle));var c=En[l];s.setAttributeNS(k.fJ,"xsi:schemaLocation",c);var h=n.featurePrefix?n.featurePrefix:_n;return t&&(o=(0,b.f0)({node:s},{featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:u,hasZ:n.hasZ,srsName:n.srsName}),(0,b.f0)(o,i),(0,k.ZL)(o,vn,(0,k.G3)("Insert"),t,a)),e&&(o=(0,b.f0)({node:s},{featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:u,hasZ:n.hasZ,srsName:n.srsName}),(0,b.f0)(o,i),(0,k.ZL)(o,vn,(0,k.G3)("Update"),e,a)),r&&(0,k.ZL)({node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:u,srsName:n.srsName},vn,(0,k.G3)("Delete"),r,a),n.nativeElements&&(0,k.ZL)({node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:u,srsName:n.srsName},vn,(0,k.G3)("Native"),n.nativeElements,a),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),(0,x.get)(r.pop().srsName)}return null},e}(L.Z);var Tn={"http://www.opengis.net/ogc":{FeatureId:(0,k.Ei)((function(t,e){return t.getAttribute("fid")}))}};var Pn={"http://www.opengis.net/wfs":{Feature:function(t,e){(0,k.T3)(Tn,t,e)}}};function On(t,e,r){var n=(0,k.c)(xn,"Filter"),i=(0,k.c)(xn,"FeatureId");n.appendChild(i),i.setAttribute("fid",e),t.appendChild(n)}function Mn(t,e){var r=(t=t||_n)+":";return 0===e.indexOf(r)?e:r+e}var Rn={"http://www.opengis.net/wfs":{Query:(0,k.A4)((function(t,e,r){var n,i=r[r.length-1],o=i.featurePrefix,a=i.featureNS,s=i.propertyNames,l=i.srsName;n=o?Mn(o,e):e;t.setAttribute("typeName",n),l&&t.setAttribute("srsName",l);a&&t.setAttributeNS(bn,"xmlns:"+o,a);var u=(0,b.f0)({},i);u.node=t,(0,k.ZL)(u,yn,(0,k.G3)("PropertyName"),s,r);var c=i.filter;if(c){var h=(0,k.c)(xn,"Filter");t.appendChild(h),In(h,c,r)}}))},"http://www.opengis.net/ogc":{During:(0,k.A4)((function(t,e,r){var n=(0,k.c)("http://www.opengis.net/fes","ValueReference");(0,D.bZ)(n,e.propertyName),t.appendChild(n);var i=(0,k.c)(F,"TimePeriod");t.appendChild(i);var o=(0,k.c)(F,"begin");i.appendChild(o),Zn(o,e.begin);var a=(0,k.c)(F,"end");i.appendChild(a),Zn(a,e.end)})),And:(0,k.A4)(Ln),Or:(0,k.A4)(Ln),Not:(0,k.A4)((function(t,e,r){var n={node:t},i=e.condition;(0,k.ZL)(n,Rn,(0,k.G3)(i.getTagName()),[i],r)})),BBOX:(0,k.A4)((function(t,e,r){r[r.length-1].srsName=e.srsName,Fn(t,e.geometryName),B.prototype.writeGeometryElement(t,e.extent,r)})),Contains:(0,k.A4)((function(t,e,r){r[r.length-1].srsName=e.srsName,Fn(t,e.geometryName),B.prototype.writeGeometryElement(t,e.geometry,r)})),Intersects:(0,k.A4)((function(t,e,r){r[r.length-1].srsName=e.srsName,Fn(t,e.geometryName),B.prototype.writeGeometryElement(t,e.geometry,r)})),Within:(0,k.A4)((function(t,e,r){r[r.length-1].srsName=e.srsName,Fn(t,e.geometryName),B.prototype.writeGeometryElement(t,e.geometry,r)})),PropertyIsEqualTo:(0,k.A4)(kn),PropertyIsNotEqualTo:(0,k.A4)(kn),PropertyIsLessThan:(0,k.A4)(kn),PropertyIsLessThanOrEqualTo:(0,k.A4)(kn),PropertyIsGreaterThan:(0,k.A4)(kn),PropertyIsGreaterThanOrEqualTo:(0,k.A4)(kn),PropertyIsNull:(0,k.A4)((function(t,e,r){Fn(t,e.propertyName)})),PropertyIsBetween:(0,k.A4)((function(t,e,r){Fn(t,e.propertyName);var n=(0,k.c)(xn,"LowerBoundary");t.appendChild(n),Nn(n,""+e.lowerBoundary);var i=(0,k.c)(xn,"UpperBoundary");t.appendChild(i),Nn(i,""+e.upperBoundary)})),PropertyIsLike:(0,k.A4)((function(t,e,r){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString());Fn(t,e.propertyName),Nn(t,""+e.pattern)}))}};function In(t,e,r){var n={node:t};(0,k.ZL)(n,Rn,(0,k.G3)(e.getTagName()),[e],r)}function Ln(t,e,r){for(var n={node:t},i=e.conditions,o=0,a=i.length;o<a;++o){var s=i[o];(0,k.ZL)(n,Rn,(0,k.G3)(s.getTagName()),[s],r)}}function kn(t,e,r){void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Fn(t,e.propertyName),Nn(t,""+e.expression)}function An(t,e,r){var n=(0,k.c)(xn,t);(0,D.bZ)(n,r),e.appendChild(n)}function Fn(t,e){An("PropertyName",t,e)}function Nn(t,e){An("Literal",t,e)}function Zn(t,e){var r=(0,k.c)(F,"TimeInstant");t.appendChild(r);var n=(0,k.c)(F,"timePosition");r.appendChild(n),(0,D.bZ)(n,e)}const jn=Sn;var Dn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gn={POINT:m.Z,LINESTRING:h.Z,POLYGON:y.ZP,MULTIPOINT:f.Z,MULTILINESTRING:d.Z,MULTIPOLYGON:g.Z},zn="EMPTY",Un=1,Bn=2,qn=3,Vn=4,Yn=5,Wn=6,Xn={};for(var Hn in c.Z)Xn[Hn]=c.Z[Hn].toUpperCase();var Kn=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,n=e;if("("==e)t=Bn;else if(","==e)t=Yn;else if(")"==e)t=qn;else if(this.isNumeric_(e)||"-"==e)t=Vn,n=this.readNumber_();else if(this.isAlpha_(e))t=Un,n=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=Wn}return{position:r,value:n,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,n=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),Jn=function(){function t(t){this.lexer_=t,this.token_,this.layout_=u.Z.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=u.Z.XY,e=this.token_;if(this.isTokenType(Un)){var r=e.value;"Z"===r?t=u.Z.XYZ:"M"===r?t=u.Z.XYM:"ZM"===r&&(t=u.Z.XYZM),t!==u.Z.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(Bn)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(Yn));if(this.match(qn))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(Bn)){var t=this.parsePoint_();if(this.match(qn))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(Bn)){var t=this.parsePointList_();if(this.match(qn))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(Bn)){var t=this.parseLineStringTextList_();if(this.match(qn))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(Bn)){var t=void 0;if(t=this.token_.type==Bn?this.parsePointTextList_():this.parsePointList_(),this.match(qn))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(Bn)){var t=this.parseLineStringTextList_();if(this.match(qn))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(Bn)){var t=this.parsePolygonTextList_();if(this.match(qn))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var n=this.token_;if(!this.match(Vn))break;t.push(n.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(Yn);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(Yn);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(Yn);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(Yn);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(Un)&&this.token_.value==zn;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(Un)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var r=this.parseGeometryCollectionText_();return new mt.Z(r)}var n=Gn[e];if(!n)throw new Error("Invalid geometry type: "+e);var i=void 0;switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return i||(i=n===Gn.POINT?[NaN,NaN]:[]),new n(i,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),$n=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,r}return Dn(e,t),e.prototype.parse_=function(t){var e=new Kn(t);return new Jn(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);if(r){var n=new i.default;return n.setGeometry(r),n}return null},e.prototype.readFeaturesFromText=function(t,e){for(var r=[],n=this.readGeometryFromText(t,e),o=[],a=0,s=(r=this.splitCollection_&&n.getType()==c.Z.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;a<s;++a){var l=new i.default;l.setGeometry(r[a]),o.push(l)}return o},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return r?(0,s.fI)(r,!1,e):null},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],n=0,i=t.length;n<i;++n)r.push(t[n].getGeometry());var o=new mt.Z(r);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return ni((0,s.fI)(t,!0,e))},e}(J);function Qn(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function ti(t){for(var e=t.getCoordinates(),r=[],n=0,i=e.length;n<i;++n)r.push(e[n].join(" "));return r.join(",")}function ei(t){for(var e=[],r=t.getLinearRings(),n=0,i=r.length;n<i;++n)e.push("("+ti(r[n])+")");return e.join(",")}var ri={Point:Qn,LineString:ti,Polygon:ei,MultiPoint:function(t){for(var e=[],r=t.getPoints(),n=0,i=r.length;n<i;++n)e.push("("+Qn(r[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),n=0,i=r.length;n<i;++n)e.push("("+ti(r[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),n=0,i=r.length;n<i;++n)e.push("("+ei(r[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),n=0,i=r.length;n<i;++n)e.push(ni(r[n]));return e.join(",")}};function ni(t){var e=t.getType(),r=(0,ri[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var n=function(t){var e=t.getLayout(),r="";return e!==u.Z.XYZ&&e!==u.Z.XYZM||(r+="Z"),e!==u.Z.XYM&&e!==u.Z.XYZM||(r+="M"),r}(t);n.length>0&&(e+=" "+n)}return 0===r.length?e+" "+zn:e+"("+r+")"}const ii=$n;var oi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=[null,"http://www.opengis.net/wms"],si=(0,k.C5)(ai,{Service:(0,k.Pr)((function(t,e){return(0,k.O)({},ci,t,e)})),Capability:(0,k.Pr)((function(t,e){return(0,k.O)({},li,t,e)}))}),li=(0,k.C5)(ai,{Request:(0,k.Pr)((function(t,e){return(0,k.O)({},vi,t,e)})),Exception:(0,k.Pr)((function(t,e){return(0,k.O)([],fi,t,e)})),Layer:(0,k.Pr)((function(t,e){return(0,k.O)({},gi,t,e)}))}),ui=function(t){function e(){var e=t.call(this)||this;return e.version=void 0,e}return oi(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=(0,k.O)({version:this.version},si,t,[]);return e||null},e}(br),ci=(0,k.C5)(ai,{Name:(0,k.Pr)(D.s2),Title:(0,k.Pr)(D.s2),Abstract:(0,k.Pr)(D.s2),KeywordList:(0,k.Pr)(Oi),OnlineResource:(0,k.Pr)(_r),ContactInformation:(0,k.Pr)((function(t,e){return(0,k.O)({},hi,t,e)})),Fees:(0,k.Pr)(D.s2),AccessConstraints:(0,k.Pr)(D.s2),LayerLimit:(0,k.Pr)(D.A_),MaxWidth:(0,k.Pr)(D.A_),MaxHeight:(0,k.Pr)(D.A_)}),hi=(0,k.C5)(ai,{ContactPersonPrimary:(0,k.Pr)((function(t,e){return(0,k.O)({},pi,t,e)})),ContactPosition:(0,k.Pr)(D.s2),ContactAddress:(0,k.Pr)((function(t,e){return(0,k.O)({},di,t,e)})),ContactVoiceTelephone:(0,k.Pr)(D.s2),ContactFacsimileTelephone:(0,k.Pr)(D.s2),ContactElectronicMailAddress:(0,k.Pr)(D.s2)}),pi=(0,k.C5)(ai,{ContactPerson:(0,k.Pr)(D.s2),ContactOrganization:(0,k.Pr)(D.s2)}),di=(0,k.C5)(ai,{AddressType:(0,k.Pr)(D.s2),Address:(0,k.Pr)(D.s2),City:(0,k.Pr)(D.s2),StateOrProvince:(0,k.Pr)(D.s2),PostCode:(0,k.Pr)(D.s2),Country:(0,k.Pr)(D.s2)}),fi=(0,k.C5)(ai,{Format:(0,k.Ei)(D.s2)}),gi=(0,k.C5)(ai,{Name:(0,k.Pr)(D.s2),Title:(0,k.Pr)(D.s2),Abstract:(0,k.Pr)(D.s2),KeywordList:(0,k.Pr)(Oi),CRS:(0,k.ke)(D.s2),EX_GeographicBoundingBox:(0,k.Pr)((function(t,e){var r=(0,k.O)({},yi,t,e);if(!r)return;var n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,a=r.northBoundLatitude;if(void 0===n||void 0===i||void 0===o||void 0===a)return;return[n,i,o,a]})),BoundingBox:(0,k.ke)((function(t,e){var r=[(0,D.ej)(t.getAttribute("minx")),(0,D.ej)(t.getAttribute("miny")),(0,D.ej)(t.getAttribute("maxx")),(0,D.ej)(t.getAttribute("maxy"))],n=[(0,D.ej)(t.getAttribute("resx")),(0,D.ej)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:n}})),Dimension:(0,k.ke)((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:(0,D.v$)(t.getAttribute("multipleValues")),nearestValue:(0,D.v$)(t.getAttribute("nearestValue")),current:(0,D.v$)(t.getAttribute("current")),values:(0,D.s2)(t)}})),Attribution:(0,k.Pr)((function(t,e){return(0,k.O)({},mi,t,e)})),AuthorityURL:(0,k.ke)((function(t,e){var r=Si(t,e);if(r)return r.name=t.getAttribute("name"),r;return})),Identifier:(0,k.ke)(D.s2),MetadataURL:(0,k.ke)((function(t,e){var r=Si(t,e);if(r)return r.type=t.getAttribute("type"),r;return})),DataURL:(0,k.ke)(Si),FeatureListURL:(0,k.ke)(Si),Style:(0,k.ke)((function(t,e){return(0,k.O)({},wi,t,e)})),MinScaleDenominator:(0,k.Pr)(D.fy),MaxScaleDenominator:(0,k.Pr)(D.fy),Layer:(0,k.ke)((function(t,e){var r=e[e.length-1],n=(0,k.O)({},gi,t,e);if(!n)return;var i=(0,D.v$)(t.getAttribute("queryable"));void 0===i&&(i=r.queryable);n.queryable=void 0!==i&&i;var o=(0,D._E)(t.getAttribute("cascaded"));void 0===o&&(o=r.cascaded);n.cascaded=o;var a=(0,D.v$)(t.getAttribute("opaque"));void 0===a&&(a=r.opaque);n.opaque=void 0!==a&&a;var s=(0,D.v$)(t.getAttribute("noSubsets"));void 0===s&&(s=r.noSubsets);n.noSubsets=void 0!==s&&s;var l=(0,D.ej)(t.getAttribute("fixedWidth"));l||(l=r.fixedWidth);n.fixedWidth=l;var u=(0,D.ej)(t.getAttribute("fixedHeight"));u||(u=r.fixedHeight);n.fixedHeight=u,["Style","CRS","AuthorityURL"].forEach((function(t){if(t in r){var e=n[t]||[];n[t]=e.concat(r[t])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in n)){var e=r[t];n[t]=e}})),n}))}),mi=(0,k.C5)(ai,{Title:(0,k.Pr)(D.s2),OnlineResource:(0,k.Pr)(_r),LogoURL:(0,k.Pr)(Pi)}),yi=(0,k.C5)(ai,{westBoundLongitude:(0,k.Pr)(D.fy),eastBoundLongitude:(0,k.Pr)(D.fy),southBoundLatitude:(0,k.Pr)(D.fy),northBoundLatitude:(0,k.Pr)(D.fy)}),vi=(0,k.C5)(ai,{GetCapabilities:(0,k.Pr)(Ti),GetMap:(0,k.Pr)(Ti),GetFeatureInfo:(0,k.Pr)(Ti)}),_i=(0,k.C5)(ai,{Format:(0,k.ke)(D.s2),DCPType:(0,k.ke)((function(t,e){return(0,k.O)({},bi,t,e)}))}),bi=(0,k.C5)(ai,{HTTP:(0,k.Pr)((function(t,e){return(0,k.O)({},xi,t,e)}))}),xi=(0,k.C5)(ai,{Get:(0,k.Pr)(Si),Post:(0,k.Pr)(Si)}),wi=(0,k.C5)(ai,{Name:(0,k.Pr)(D.s2),Title:(0,k.Pr)(D.s2),Abstract:(0,k.Pr)(D.s2),LegendURL:(0,k.ke)(Pi),StyleSheetURL:(0,k.Pr)(Si),StyleURL:(0,k.Pr)(Si)}),Ei=(0,k.C5)(ai,{Format:(0,k.Pr)(D.s2),OnlineResource:(0,k.Pr)(_r)}),Ci=(0,k.C5)(ai,{Keyword:(0,k.Ei)(D.s2)});function Si(t,e){return(0,k.O)({},Ei,t,e)}function Ti(t,e){return(0,k.O)({},_i,t,e)}function Pi(t,e){var r=Si(t,e);if(r){var n=[(0,D._E)(t.getAttribute("width")),(0,D._E)(t.getAttribute("height"))];return r.size=n,r}}function Oi(t,e){return(0,k.O)([],Ci,t,e)}const Mi=ui;var Ri=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Ii=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new nn,r.layers_=n.layers?n.layers:null,r}return Ri(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,n=[];if(0===t.childNodes.length)return n;if("msGMLOutput"==r)for(var i=0,o=t.childNodes.length;i<o;i++){var a=t.childNodes[i];if(a.nodeType===Node.ELEMENT_NODE){var s=a,l=e[0],u=s.localName.replace("_layer","");if(!this.layers_||(0,I.q9)(this.layers_,u)){var c=u+"_feature";l.featureType=c,l.featureNS=this.featureNS_;var h={};h[c]=(0,k.Ei)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var p=(0,k.C5)([l.featureNS,null],h);s.setAttribute("namespaceURI",this.featureNS_);var d=(0,k.O)([],p,s,e,this.gmlFormat_);d&&(0,I.l7)(n,d)}}}if("FeatureCollection"==r){var f=(0,k.O)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);f&&(n=f)}return n},e.prototype.readFeaturesFromNode=function(t,e){var r={};return e&&(0,b.f0)(r,this.getReadOptions(t,e)),this.readFeatures_(t,[r])},e}(L.Z);var Li=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ki=[null,"http://www.opengis.net/wmts/1.0"],Ai=[null,"http://www.opengis.net/ows/1.1"],Fi=(0,k.C5)(ki,{Contents:(0,k.Pr)((function(t,e){return(0,k.O)({},Zi,t,e)}))}),Ni=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new jr,e}return Li(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=(0,k.O)(r,Fi,t,[]))||null):null},e}(br),Zi=(0,k.C5)(ki,{Layer:(0,k.ke)((function(t,e){return(0,k.O)({},ji,t,e)})),TileMatrixSet:(0,k.ke)((function(t,e){return(0,k.O)({},Vi,t,e)}))}),ji=(0,k.C5)(ki,{Style:(0,k.ke)((function(t,e){var r=(0,k.O)({},Di,t,e);if(!r)return;var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r})),Format:(0,k.ke)(D.s2),TileMatrixSetLink:(0,k.ke)((function(t,e){return(0,k.O)({},Gi,t,e)})),Dimension:(0,k.ke)((function(t,e){return(0,k.O)({},Bi,t,e)})),ResourceURL:(0,k.ke)((function(t,e){var r=t.getAttribute("format"),n=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};r&&(o.format=r);n&&(o.template=n);i&&(o.resourceType=i);return o}))},(0,k.C5)(Ai,{Title:(0,k.Pr)(D.s2),Abstract:(0,k.Pr)(D.s2),WGS84BoundingBox:(0,k.Pr)((function(t,e){var r=(0,k.O)([],qi,t,e);if(2!=r.length)return;return(0,a.boundingExtent)(r)})),Identifier:(0,k.Pr)(D.s2)})),Di=(0,k.C5)(ki,{LegendURL:(0,k.ke)((function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=_r(t),r}))},(0,k.C5)(Ai,{Title:(0,k.Pr)(D.s2),Identifier:(0,k.Pr)(D.s2)})),Gi=(0,k.C5)(ki,{TileMatrixSet:(0,k.Pr)(D.s2),TileMatrixSetLimits:(0,k.Pr)((function(t,e){return(0,k.O)([],zi,t,e)}))}),zi=(0,k.C5)(ki,{TileMatrixLimits:(0,k.Ei)((function(t,e){return(0,k.O)({},Ui,t,e)}))}),Ui=(0,k.C5)(ki,{TileMatrix:(0,k.Pr)(D.s2),MinTileRow:(0,k.Pr)(D.A_),MaxTileRow:(0,k.Pr)(D.A_),MinTileCol:(0,k.Pr)(D.A_),MaxTileCol:(0,k.Pr)(D.A_)}),Bi=(0,k.C5)(ki,{Default:(0,k.Pr)(D.s2),Value:(0,k.ke)(D.s2)},(0,k.C5)(Ai,{Identifier:(0,k.Pr)(D.s2)})),qi=(0,k.C5)(Ai,{LowerCorner:(0,k.Ei)(Wi),UpperCorner:(0,k.Ei)(Wi)}),Vi=(0,k.C5)(ki,{WellKnownScaleSet:(0,k.Pr)(D.s2),TileMatrix:(0,k.ke)((function(t,e){return(0,k.O)({},Yi,t,e)}))},(0,k.C5)(Ai,{SupportedCRS:(0,k.Pr)(D.s2),Identifier:(0,k.Pr)(D.s2)})),Yi=(0,k.C5)(ki,{TopLeftCorner:(0,k.Pr)(Wi),ScaleDenominator:(0,k.Pr)(D.fy),TileWidth:(0,k.Pr)(D.A_),TileHeight:(0,k.Pr)(D.A_),MatrixWidth:(0,k.Pr)(D.A_),MatrixHeight:(0,k.Pr)(D.A_)},(0,k.C5)(Ai,{Identifier:(0,k.Pr)(D.s2)}));function Wi(t,e){var r=(0,D.s2)(t).split(/\s+/);if(r&&2==r.length){var n=+r[0],i=+r[1];if(!isNaN(n)&&!isNaN(i))return[n,i]}}const Xi=Ni},52045:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>s,fI:()=>l,lj:()=>u});var n=r(19664),i=r(19579),o=r(93558),a=r(35696);const s=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var r;if(e){var n=e.dataProjection?(0,o.get)(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===a.Z.TILE_PIXELS&&(n=(0,o.get)(n)).setWorldExtent(e.extent),r={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(r)},t.prototype.adaptOptions=function(t){return(0,n.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,i.O3)()},t.prototype.readFeature=function(t,e){return(0,i.O3)()},t.prototype.readFeatures=function(t,e){return(0,i.O3)()},t.prototype.readGeometry=function(t,e){return(0,i.O3)()},t.prototype.readProjection=function(t){return(0,i.O3)()},t.prototype.writeFeature=function(t,e){return(0,i.O3)()},t.prototype.writeFeatures=function(t,e){return(0,i.O3)()},t.prototype.writeGeometry=function(t,e){return(0,i.O3)()},t}();function l(t,e,r){var n,i=r?(0,o.get)(r.featureProjection):null,a=r?(0,o.get)(r.dataProjection):null;if(n=i&&a&&!(0,o.equivalent)(i,a)?(e?t.clone():t).transform(e?i:a,e?a:i):t,e&&r&&void 0!==r.decimals){var s=Math.pow(10,r.decimals);n===t&&(n=t.clone()),n.applyTransform((function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return n}function u(t,e){var r=e?(0,o.get)(e.featureProjection):null,n=e?(0,o.get)(e.dataProjection):null;return r&&n&&!(0,o.equivalent)(r,n)?(0,o.transformExtent)(t,n,r):t}},87362:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},92273:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>J});var n,i=r(41013),o=r(26060),a=r(52045),s=r(35664),l=r(88620),u=r(46443),c=r(42050),h=r(70314),p=r(25939),d=r(4655),f=r(93558),g=r(48248),m=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],v={rte:Y,trk:W,wpt:X},_=(0,g.C5)(y,{rte:(0,g.Ei)(Y),trk:(0,g.Ei)(W),wpt:(0,g.Ei)(X)}),b=(0,g.C5)(y,{text:(0,g.Pr)(l.s2,"linkText"),type:(0,g.Pr)(l.s2,"linkType")}),x=(0,g.C5)(y,{rte:(0,g.A4)((function(t,e,r){var n=r[0],i=e.getProperties(),o={node:t};o.properties=i;var s=e.getGeometry();if(s.getType()==c.Z.LINE_STRING){var l=(0,a.fI)(s,!0,n);o.geometryLayout=l.getLayout(),i.rtept=l.getCoordinates()}var u=r[r.length-1].node,h=I[u.namespaceURI],p=(0,g.RA)(i,h);(0,g.ZL)(o,L,g.hg,p,r,h)})),trk:(0,g.A4)((function(t,e,r){var n=r[0],i=e.getProperties(),o={node:t};o.properties=i;var s=e.getGeometry();if(s.getType()==c.Z.MULTI_LINE_STRING){var l=(0,a.fI)(s,!0,n);i.trkseg=l.getLineStrings()}var u=r[r.length-1].node,h=A[u.namespaceURI],p=(0,g.RA)(i,h);(0,g.ZL)(o,F,g.hg,p,r,h)})),wpt:(0,g.A4)((function(t,e,r){var n=r[0],i=r[r.length-1];i.properties=e.getProperties();var o=e.getGeometry();if(o.getType()==c.Z.POINT){var s=(0,a.fI)(o,!0,n);i.geometryLayout=s.getLayout(),K(t,s.getCoordinates(),r)}}))}),w=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=(0,f.get)("EPSG:4326"),r.readExtensions_=n.readExtensions,r}return m(e,t),e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,r=t.length;e<r;++e){var n=t[e];if(this.readExtensions_){var i=n.get("extensionsNode_")||null;this.readExtensions_(n,i)}n.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!(0,o.q9)(y,t.namespaceURI))return null;var r=v[t.localName];if(!r)return null;var n=r(t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_([n]),n):null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,o.q9)(y,t.namespaceURI))return[];if("gpx"==t.localName){var r=(0,g.O)([],_,t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=(0,g.c)("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",g.fJ),r.setAttributeNS(g.fJ,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),(0,g.ZL)({node:r},x,z,t,[e]),r},e}(s.Z),E=(0,g.C5)(y,{name:(0,g.Pr)(l.s2),cmt:(0,g.Pr)(l.s2),desc:(0,g.Pr)(l.s2),src:(0,g.Pr)(l.s2),link:q,number:(0,g.Pr)(l.A_),extensions:V,type:(0,g.Pr)(l.s2),rtept:function(t,e){var r=(0,g.O)({},C,t,e);if(r){var n=e[e.length-1],i=n.flatCoordinates,o=n.layoutOptions;U(i,o,t,r)}}}),C=(0,g.C5)(y,{ele:(0,g.Pr)(l.fy),time:(0,g.Pr)(l.x7)}),S=(0,g.C5)(y,{name:(0,g.Pr)(l.s2),cmt:(0,g.Pr)(l.s2),desc:(0,g.Pr)(l.s2),src:(0,g.Pr)(l.s2),link:q,number:(0,g.Pr)(l.A_),type:(0,g.Pr)(l.s2),extensions:V,trkseg:function(t,e){var r=e[e.length-1];(0,g.T3)(T,t,e);var n=r.flatCoordinates;r.ends.push(n.length)}}),T=(0,g.C5)(y,{trkpt:function(t,e){var r=(0,g.O)({},P,t,e);if(r){var n=e[e.length-1],i=n.flatCoordinates,o=n.layoutOptions;U(i,o,t,r)}}}),P=(0,g.C5)(y,{ele:(0,g.Pr)(l.fy),time:(0,g.Pr)(l.x7)}),O=(0,g.C5)(y,{ele:(0,g.Pr)(l.fy),time:(0,g.Pr)(l.x7),magvar:(0,g.Pr)(l.fy),geoidheight:(0,g.Pr)(l.fy),name:(0,g.Pr)(l.s2),cmt:(0,g.Pr)(l.s2),desc:(0,g.Pr)(l.s2),src:(0,g.Pr)(l.s2),link:q,sym:(0,g.Pr)(l.s2),type:(0,g.Pr)(l.s2),fix:(0,g.Pr)(l.s2),sat:(0,g.Pr)(l.A_),hdop:(0,g.Pr)(l.fy),vdop:(0,g.Pr)(l.fy),pdop:(0,g.Pr)(l.fy),ageofdgpsdata:(0,g.Pr)(l.fy),dgpsid:(0,g.Pr)(l.A_),extensions:V}),M=["text","type"],R=(0,g.C5)(y,{text:(0,g.A4)(l.bZ),type:(0,g.A4)(l.bZ)}),I=(0,g.C5)(y,["name","cmt","desc","src","link","number","type","rtept"]),L=(0,g.C5)(y,{name:(0,g.A4)(l.bZ),cmt:(0,g.A4)(l.bZ),desc:(0,g.A4)(l.bZ),src:(0,g.A4)(l.bZ),link:(0,g.A4)(H),number:(0,g.A4)(l.JD),type:(0,g.A4)(l.bZ),rtept:(0,g.JO)((0,g.A4)(K))}),k=(0,g.C5)(y,["ele","time"]),A=(0,g.C5)(y,["name","cmt","desc","src","link","number","type","trkseg"]),F=(0,g.C5)(y,{name:(0,g.A4)(l.bZ),cmt:(0,g.A4)(l.bZ),desc:(0,g.A4)(l.bZ),src:(0,g.A4)(l.bZ),link:(0,g.A4)(H),number:(0,g.A4)(l.JD),type:(0,g.A4)(l.bZ),trkseg:(0,g.JO)((0,g.A4)((function(t,e,r){var n={node:t};n.geometryLayout=e.getLayout(),n.properties={},(0,g.ZL)(n,Z,N,e.getCoordinates(),r)})))}),N=(0,g.G3)("trkpt"),Z=(0,g.C5)(y,{trkpt:(0,g.A4)(K)}),j=(0,g.C5)(y,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),D=(0,g.C5)(y,{ele:(0,g.A4)(l.f3),time:(0,g.A4)(l.hv),magvar:(0,g.A4)(l.f3),geoidheight:(0,g.A4)(l.f3),name:(0,g.A4)(l.bZ),cmt:(0,g.A4)(l.bZ),desc:(0,g.A4)(l.bZ),src:(0,g.A4)(l.bZ),link:(0,g.A4)(H),sym:(0,g.A4)(l.bZ),type:(0,g.A4)(l.bZ),fix:(0,g.A4)(l.bZ),sat:(0,g.A4)(l.JD),hdop:(0,g.A4)(l.f3),vdop:(0,g.A4)(l.f3),pdop:(0,g.A4)(l.f3),ageofdgpsdata:(0,g.A4)(l.f3),dgpsid:(0,g.A4)(l.JD)}),G={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function z(t,e,r){var n=t.getGeometry();if(n){var i=G[n.getType()];if(i){var o=e[e.length-1].node;return(0,g.c)(o.namespaceURI,i)}}}function U(t,e,r,n){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function B(t,e,r){var n=u.Z.XY,i=2;if(t.hasZ&&t.hasM?(n=u.Z.XYZM,i=4):t.hasZ?(n=u.Z.XYZ,i=3):t.hasM&&(n=u.Z.XYM,i=3),4!==i){for(var o=0,a=e.length/4;o<a;o++)e[o*i]=e[4*o],e[o*i+1]=e[4*o+1],t.hasZ&&(e[o*i+2]=e[4*o+2]),t.hasM&&(e[o*i+2]=e[4*o+3]);if(e.length=e.length/4*i,r)for(o=0,a=r.length;o<a;o++)r[o]=r[o]/4*i}return n}function q(t,e){var r=e[e.length-1],n=t.getAttribute("href");null!==n&&(r.link=n),(0,g.T3)(b,t,e)}function V(t,e){e[e.length-1].extensionsNode_=t}function Y(t,e){var r=e[0],n=(0,g.O)({flatCoordinates:[],layoutOptions:{}},E,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var s=n.layoutOptions;delete n.layoutOptions;var l=B(s,o),u=new h.Z(o,l);(0,a.fI)(u,!1,r);var c=new i.default(u);return c.setProperties(n,!0),c}}function W(t,e){var r=e[0],n=(0,g.O)({flatCoordinates:[],ends:[],layoutOptions:{}},S,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var s=n.ends;delete n.ends;var l=n.layoutOptions;delete n.layoutOptions;var u=B(l,o,s),c=new p.Z(o,u,s);(0,a.fI)(c,!1,r);var h=new i.default(c);return h.setProperties(n,!0),h}}function X(t,e){var r=e[0],n=(0,g.O)({},O,t,e);if(n){var o={},s=U([],o,t,n),l=B(o,s),u=new d.Z(s,l);(0,a.fI)(u,!1,r);var c=new i.default(u);return c.setProperties(n,!0),c}}function H(t,e,r){t.setAttribute("href",e);var n=r[r.length-1].properties,i=[n.linkText,n.linkType];(0,g.ZL)({node:t},R,g.hg,i,r,M)}function K(t,e,r){var n=r[r.length-1],i=n.node.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),n.geometryLayout){case u.Z.XYZM:0!==e[3]&&(o.time=e[3]);case u.Z.XYZ:0!==e[2]&&(o.ele=e[2]);break;case u.Z.XYM:0!==e[2]&&(o.time=e[2])}var a="rtept"==t.nodeName?k[i]:j[i],s=(0,g.RA)(o,a);(0,g.ZL)({node:t,properties:o},D,g.hg,s,r,a)}const J=w},19569:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>x});var n,i=r(15989),o=r(41013),a=r(52045),s=r(68618),l=r(699),u=r(70314),c=r(25939),h=r(7469),p=r(42901),d=r(4655),f=r(36850),g=r(19664),m=r(93558),y=r(42050),v=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function _(t,e){if(!t)return null;var r;switch(t.type){case y.Z.POINT:r=function(t){return new d.Z(t.coordinates)}(t);break;case y.Z.LINE_STRING:r=function(t){return new u.Z(t.coordinates)}(t);break;case y.Z.POLYGON:r=function(t){return new f.ZP(t.coordinates)}(t);break;case y.Z.MULTI_POINT:r=function(t){return new h.Z(t.coordinates)}(t);break;case y.Z.MULTI_LINE_STRING:r=function(t){return new c.Z(t.coordinates)}(t);break;case y.Z.MULTI_POLYGON:r=function(t){return new p.Z(t.coordinates)}(t);break;case y.Z.GEOMETRY_COLLECTION:r=function(t,e){var r=t.geometries.map((function(t){return _(t,e)}));return new l.Z(r)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,a.fI)(r,!1,e)}function b(t,e){var r,n=(t=(0,a.fI)(t,!0,e)).getType();switch(n){case y.Z.POINT:r=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case y.Z.LINE_STRING:r=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case y.Z.POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(r)}}(t,e);break;case y.Z.MULTI_POINT:r=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case y.Z.MULTI_LINE_STRING:r=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case y.Z.MULTI_POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}(t,e);break;case y.Z.GEOMETRY_COLLECTION:r=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var r=(0,g.f0)({},e);return delete r.featureProjection,b(t,r)}))}}(t,e);break;case y.Z.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}const x=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this)||this).dataProjection=(0,m.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(r.defaultFeatureProjection=(0,m.get)(n.featureProjection)),r.geometryName_=n.geometryName,r.extractGeometryName_=n.extractGeometryName,r}return v(e,t),e.prototype.readFeatureFromObject=function(t,e){var r=null,n=_((r="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new o.default;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&i.setGeometryName(r.geometry_name),i.setGeometry(n),"id"in r&&i.setId(r.id),r.properties&&i.setProperties(r.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var r=null;if("FeatureCollection"===t.type){r=[];for(var n=t.features,i=0,o=n.length;i<o;++i)r.push(this.readFeatureFromObject(n[i],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return _(t,e)},e.prototype.readProjectionFromObject=function(t){var e,r=t.crs;return r?"name"==r.type?e=(0,m.get)(r.properties.name):"EPSG"===r.type?e=(0,m.get)("EPSG:"+r.properties.code):(0,i.h)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={type:"Feature",geometry:null,properties:null},n=t.getId();void 0!==n&&(r.id=n);var i=t.getGeometry();i&&(r.geometry=b(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],(0,g.xb)(o)||(r.properties=o),r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],n=0,i=t.length;n<i;++n)r.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:r}},e.prototype.writeGeometryObject=function(t,e){return b(t,this.adaptOptions(e))},e}(s.Z)},8572:(t,e,r)=>{"use strict";r.d(e,{L:()=>i,Z:()=>c});var n=r(15989),i={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},o={};o[i.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},o[i.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},o[i.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},o.none={none:{supports:[],formats:[],qualities:[]}};var a=new RegExp("^https?://library.stanford.edu/iiif/image-api/(1.1/)?compliance.html#level[0-2]$"),s=new RegExp("^https?://iiif.io/api/image/2/level[0-2](.json)?$"),l=new RegExp("(^https?://iiif.io/api/image/3/level[0-2](.json)?$)|(^level[0-2]$)");var u={};u[i.VERSION1]=function(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=o[i.VERSION1].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),supports:e.supports,formats:e.formats.concat([void 0===t.imageInfo.formats?[]:t.imageInfo.formats]),qualities:e.qualities.concat([void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities]),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:null!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},u[i.VERSION2]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,n=r&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],i=r&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],o=r&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:e.supports.concat(n),formats:e.formats.concat(i),qualities:e.qualities.concat(o)}},u[i.VERSION3]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=void 0===t.imageInfo.extraFormats?e.formats:e.formats.concat(t.imageInfo.extraFormats),n=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return["jpg","png","gif"].includes(t)})).reduce((function(t,e){return void 0===t&&r.includes(e)?e:t}),void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:e.supports.concat(t.imageInfo.extraFeatures),formats:r,qualities:void 0===t.imageInfo.extraQualities?e.qualities:e.qualities.concat(t.imageInfo.extraQualities),preferredFormat:n}};const c=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return i.VERSION1;case"http://iiif.io/api/image/2/context.json":return i.VERSION2;case"http://iiif.io/api/image/3/context.json":return i.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(i.VERSION1)&&this.imageInfo.identifier)return i.VERSION1}(0,n.h)(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case i.VERSION1:if(a.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION3:if(l.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION2:if("string"==typeof this.imageInfo.profile&&s.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&s.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var r=e.match(/level[0-2](\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?o.none.none:o[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},r=this.getImageApiVersion();if(void 0!==r){var n=void 0===r?void 0:u[r](this);if(void 0!==n)return{url:n.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==e.format&&n.formats.includes(e.format)?e.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:e.quality&&n.qualities.includes(e.quality)?e.quality:n.qualities.includes("native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:n.tileSize}}},t}()},68618:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,i=r(19579),o=r(52045),a=r(87362),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function l(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}const u=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return a.Z.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,i.O3)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,i.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,i.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))},e.prototype.readProjectionFromObject=function(t){return(0,i.O3)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,i.O3)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,i.O3)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,i.O3)()},e}(o.ZP)},16659:(t,e,r)=>{"use strict";r.d(e,{Z:()=>P});var n,i=r(15989),o=r(15856),a=r.n(o),s=r(52045),l=r(87362),u=r(46443),c=r(42050),h=r(70314),p=r(25939),d=r(7469),f=r(42901),g=r(4655),m=r(36850),y=r(96884),v=r(78162),_=r(35696),b=r(15955),x=r(93558),w=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function E(t,e,r){if(3===t){var n={keys:[],values:[],features:[]},i=r.readVarint()+r.pos;r.readFields(C,n,i),n.length=n.features.length,n.length&&(e[n.name]=n)}}function C(t,e,r){if(15===t)e.version=r.readVarint();else if(1===t)e.name=r.readString();else if(5===t)e.extent=r.readVarint();else if(2===t)e.features.push(r.pos);else if(3===t)e.keys.push(r.readString());else if(4===t){for(var n=null,i=r.readVarint()+r.pos;r.pos<i;)n=1===(t=r.readVarint()>>3)?r.readString():2===t?r.readFloat():3===t?r.readDouble():4===t?r.readVarint64():5===t?r.readVarint():6===t?r.readSVarint():7===t?r.readBoolean():null;e.values.push(n)}}function S(t,e,r){if(1==t)e.id=r.readVarint();else if(2==t)for(var n=r.readVarint()+r.pos;r.pos<n;){var i=e.layer.keys[r.readVarint()],o=e.layer.values[r.readVarint()];e.properties[i]=o}else 3==t?e.type=r.readVarint():4==t&&(e.geometry=r.pos)}function T(t,e,r){t.pos=e.features[r];var n=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields(S,i,n),i}const P=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=new v.default({code:"",units:_.Z.TILE_PIXELS}),r.featureClass_=n.featureClass?n.featureClass:b.Z,r.geometryName_=n.geometryName,r.layerName_=n.layerName?n.layerName:"layer",r.layers_=n.layers?n.layers:null,r.idProperty_=n.idProperty,r}return w(e,t),e.prototype.readRawGeometry_=function(t,e,r,n){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,a=1,s=0,l=0,u=0,c=0,h=0;t.pos<o;){if(!s){var p=t.readVarint();a=7&p,s=p>>3}s--,1===a||2===a?(l+=t.readSVarint(),u+=t.readSVarint(),1===a&&c>h&&(n.push(c),h=c),r.push(l,u),c+=2):7===a?c>h&&(r.push(r[h],r[h+1]),c+=2):(0,i.h)(!1,59)}c>h&&(n.push(c),h=c)},e.prototype.createFeature_=function(t,e,r){var n,i=e.type;if(0===i)return null;var o,a=e.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=e.id,a[this.layerName_]=e.layer.name;var l=[],v=[];this.readRawGeometry_(t,e,l,v);var _=function(t,e){var r;1===t?r=1===e?c.Z.POINT:c.Z.MULTI_POINT:2===t?r=1===e?c.Z.LINE_STRING:c.Z.MULTI_LINE_STRING:3===t&&(r=c.Z.POLYGON);return r}(i,v.length);if(this.featureClass_===b.Z)(n=new this.featureClass_(_,l,v,a,o)).transform(r.dataProjection,r.featureProjection);else{var x=void 0;if(_==c.Z.POLYGON){for(var w=[],E=0,C=0,S=0,T=v.length;S<T;++S){var P=v[S];(0,y.bt)(l,E,P,2)||(w.push(v.slice(C,S)),C=S),E=P}x=w.length>1?new f.Z(l,u.Z.XY,w):new m.ZP(l,u.Z.XY,v)}else x=_===c.Z.POINT?new g.Z(l,u.Z.XY):_===c.Z.LINE_STRING?new h.Z(l,u.Z.XY):_===c.Z.POLYGON?new m.ZP(l,u.Z.XY,v):_===c.Z.MULTI_POINT?new d.Z(l,u.Z.XY):_===c.Z.MULTI_LINE_STRING?new p.Z(l,u.Z.XY,v):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var O=(0,s.fI)(x,!1,r);n.setGeometry(O),n.setId(o),n.setProperties(a,!0)}return n},e.prototype.getType=function(){return l.Z.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var r=this.layers_,n=this.adaptOptions(e),i=(0,x.get)(n.dataProjection);i.setWorldExtent(n.extent),n.dataProjection=i;var o=new(a())(t),s=o.readFields(E,{}),l=[];for(var u in s)if(!r||-1!=r.indexOf(u)){var c=s[u],h=c?[0,0,c.extent,c.extent]:null;i.setExtent(h);for(var p=0,d=c.length;p<d;++p){var f=T(o,c,p);l.push(this.createFeature_(o,f,n))}}return l},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(s.ZP)},97538:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>w});var n,i=r(26060),o=r(41013),a=r(52045),s=r(35664),l=r(46443),u=r(70314),c=r(4655),h=r(36850),p=r(19664),d=r(93558),f=r(48248),g=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=[null],y=(0,f.C5)(m,{nd:function(t,e){e[e.length-1].ndrefs.push(t.getAttribute("ref"))},tag:x}),v=(0,f.C5)(m,{node:function(t,e){var r=e[0],n=e[e.length-1],i=t.getAttribute("id"),s=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.nodes[i]=s;var l=(0,f.O)({tags:{}},b,t,e);if(!(0,p.xb)(l.tags)){var u=new c.Z(s);(0,a.fI)(u,!1,r);var h=new o.default(u);h.setId(i),h.setProperties(l.tags,!0),n.features.push(h)}},way:function(t,e){var r=t.getAttribute("id"),n=(0,f.O)({id:r,ndrefs:[],tags:{}},y,t,e);e[e.length-1].ways.push(n)}}),_=function(t){function e(){var e=t.call(this)||this;return e.dataProjection=(0,d.get)("EPSG:4326"),e}return g(e,t),e.prototype.readFeaturesFromNode=function(t,e){var r=this.getReadOptions(t,e);if("osm"==t.localName){for(var n=(0,f.O)({nodes:{},ways:[],features:[]},v,t,[r]),s=0;s<n.ways.length;s++){for(var c=n.ways[s],p=[],d=0,g=c.ndrefs.length;d<g;d++){var m=n.nodes[c.ndrefs[d]];(0,i.l7)(p,m)}var y=void 0;y=c.ndrefs[0]==c.ndrefs[c.ndrefs.length-1]?new h.ZP(p,l.Z.XY,[p.length]):new u.Z(p,l.Z.XY),(0,a.fI)(y,!1,r);var _=new o.default(y);_.setId(c.id),_.setProperties(c.tags,!0),n.features.push(_)}if(n.features)return n.features}return[]},e}(s.Z),b=(0,f.C5)(m,{tag:x});function x(t,e){e[e.length-1].tags[t.getAttribute("k")]=t.getAttribute("v")}const w=_},35664:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n,i=r(19579),o=r(26060),a=r(52045),s=r(87362),l=r(48248),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const c=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=(0,l.xc)(),e}return u(e,t),e.prototype.getType=function(){return s.Z.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var r=(0,l.Qc)(t);return this.readFeatureFromDocument(r,e)}return(0,l.qk)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var r=(0,l.Qc)(t);return this.readFeaturesFromDocument(r,e)}return(0,l.qk)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,o.l7)(r,this.readFeaturesFromNode(n,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return(0,i.O3)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var r=(0,l.Qc)(t);return this.readGeometryFromDocument(r,e)}return(0,l.qk)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=(0,l.Qc)(t);return this.readProjectionFromDocument(e)}return(0,l.qk)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(a.ZP)},88620:(t,e,r)=>{"use strict";r.d(e,{A_:()=>c,JD:()=>y,Vi:()=>d,_E:()=>h,bZ:()=>v,ej:()=>u,f3:()=>m,fy:()=>l,hv:()=>g,s2:()=>p,ud:()=>o,v$:()=>a,x7:()=>s,xO:()=>f});var n=r(48248),i=r(76880);function o(t){return a((0,n.Ve)(t,!1))}function a(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function s(t){var e=(0,n.Ve)(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function l(t){return u((0,n.Ve)(t,!1))}function u(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function c(t){return h((0,n.Ve)(t,!1))}function h(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function p(t){return(0,n.Ve)(t,!1).trim()}function d(t,e){v(t,e?"1":"0")}function f(t,e){t.appendChild((0,n.Me)().createCDATASection(e))}function g(t,e){var r=new Date(1e3*e),o=r.getUTCFullYear()+"-"+(0,i.v)(r.getUTCMonth()+1,2)+"-"+(0,i.v)(r.getUTCDate(),2)+"T"+(0,i.v)(r.getUTCHours(),2)+":"+(0,i.v)(r.getUTCMinutes(),2)+":"+(0,i.v)(r.getUTCSeconds(),2)+"Z";t.appendChild((0,n.Me)().createTextNode(o))}function m(t,e){var r=e.toPrecision();t.appendChild((0,n.Me)().createTextNode(r))}function y(t,e){var r=e.toString();t.appendChild((0,n.Me)().createTextNode(r))}function v(t,e){t.appendChild((0,n.Me)().createTextNode(e))}},62166:(t,e,r)=>{"use strict";r.d(e,{Dv:()=>o,Zn:()=>a,qe:()=>s,uX:()=>i});var n=r(26060);function i(){return!0}function o(){return!1}function a(){}function s(t){var e,r,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&(0,n.fS)(a,r)||(o=!0,i=this,r=a,e=t.apply(this,arguments)),e}}},44700:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Circle:()=>n.default,Geometry:()=>i.Z,GeometryCollection:()=>o.Z,LineString:()=>a.Z,LinearRing:()=>p.Z,MultiLineString:()=>s.Z,MultiPoint:()=>l.Z,MultiPolygon:()=>u.Z,Point:()=>c.Z,Polygon:()=>h.ZP});var n=r(74746),i=r(89564),o=r(699),a=r(70314),s=r(25939),l=r(7469),u=r(42901),c=r(4655),h=r(36850),p=r(92456)},74746:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n,i=r(2309),o=r(42050),a=r(13585),s=r(62971),l=r(3497),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e,r,n){var i=t.call(this)||this;if(void 0!==n&&void 0===r)i.setFlatCoordinates(n,e);else{var o=r||0;i.setCenterAndRadius(e,o,n)}return i}return u(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,r,n){var i=this.flatCoordinates,o=t-i[0],a=e-i[1],s=o*o+a*a;if(s<n){if(0===s)for(var l=0;l<this.stride;++l)r[l]=i[l];else{var u=this.getRadius()/Math.sqrt(s);r[0]=i[0]+u*o,r[1]=i[1]+u*a;for(l=2;l<this.stride;++l)r[l]=i[l]}return r.length=this.stride,s}return n},e.prototype.containsXY=function(t,e){var r=this.flatCoordinates,n=t-r[0],i=e-r[1];return n*n+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,r=e[this.stride]-e[0];return(0,i.createOrUpdate)(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return o.Z.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,i.intersects)(t,e)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||(t[1]<=r[1]&&t[3]>=r[1]||(0,i.forEachCorner)(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+r;for(var i=1;i<e;++i)n[e+i]=t[i];this.setFlatCoordinates(this.layout,n),this.changed()},e.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,i=(0,s.IG)(n,0,t,this.stride);n[i++]=n[0]+e;for(var o=1,a=this.stride;o<a;++o)n[i++]=n[o];n.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var r=this.getCenter(),n=this.getStride();this.setCenter((0,l.U1)(r,0,r.length,n,t,e,r)),this.changed()},e.prototype.translate=function(t,e){var r=this.getCenter(),n=this.getStride();this.setCenter((0,l.Iu)(r,0,r.length,n,t,e,r)),this.changed()},e}(a.ZP);c.prototype.transform;const h=c},89564:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(19579),o=r(10906),a=r(2309),s=r(3497),l=r(93558),u=r(35696),c=r(3657),h=r(62166),p=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=(0,c.Ue)();const f=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,a.createEmpty)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,h.qe)((function(t,e,r){if(!r)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(e)})),e}return p(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,i.O3)()},e.prototype.closestPointXY=function(t,e,r,n){return(0,i.O3)()},e.prototype.containsXY=function(t,e){var r=this.getClosestPoint([t,e]);return r[0]===t&&r[1]===e},e.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,i.O3)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,a.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,i.O3)()},e.prototype.scale=function(t,e,r){(0,i.O3)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,i.O3)()},e.prototype.getType=function(){return(0,i.O3)()},e.prototype.applyTransform=function(t){(0,i.O3)()},e.prototype.intersectsExtent=function(t){return(0,i.O3)()},e.prototype.translate=function(t,e){(0,i.O3)()},e.prototype.transform=function(t,e){var r=(0,l.get)(t),n=r.getUnits()==u.Z.TILE_PIXELS?function(t,n,i){var o=r.getExtent(),u=r.getWorldExtent(),h=(0,a.getHeight)(u)/(0,a.getHeight)(o);return(0,c.qC)(d,u[0],u[3],h,-h,0,0,0),(0,s.vT)(t,0,t.length,i,d,n),(0,l.getTransform)(r,e)(t,n,i)}:(0,l.getTransform)(r,e);return this.applyTransform(n),this},e}(o.ZP)},699:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n,i=r(53732),o=r(21092),a=r(2309),s=r(89564),l=r(42050),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function c(t){for(var e=[],r=0,n=t.length;r<n;++r)e.push(t[r].clone());return e}const h=function(t){function e(e){var r=t.call(this)||this;return r.geometries_=e||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return u(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(i.bN),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,i.oL)(this.geometries_[t],o.Z.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,r,n){if(n<(0,a.closestSquaredDistanceXY)(this.getExtent(),t,e))return n;for(var i=this.geometries_,o=0,s=i.length;o<s;++o)n=i[o].closestPointXY(t,e,r,n);return n},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)if(r[n].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,a.createOrUpdateEmpty)(t);for(var e=this.geometries_,r=0,n=e.length;r<n;++r)(0,a.extend)(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return c(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],n=this.geometries_,i=!1,o=0,a=n.length;o<a;++o){var s=n[o],l=s.getSimplifiedGeometry(t);r.push(l),l!==s&&(i=!0)}if(i){var u=new e(null);return u.setGeometriesArray(r),u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return l.Z.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,n=e.length;r<n;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var n=r;n||(n=(0,a.getCenter)(this.getExtent()));for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].scale(t,e,n);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(c(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,n=e.length;r<n;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(s.Z)},46443:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},42050:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},70314:(t,e,r)=>{"use strict";r.d(e,{Z:()=>v});var n,i=r(26060),o=r(2309),a=r(46443),s=r(42050),l=r(13585),u=r(21985),c=r(62971),h=r(19227),p=r(46250),d=r(98679),f=r(82444),g=r(76805),m=r(55899),y=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const v=function(t){function e(e,r){var n=t.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?n.setCoordinates(e,r):n.setFlatCoordinates(r,e),n}return y(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,i.l7)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,n))},e.prototype.forEachSegment=function(t){return(0,g.E)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=a.Z.XYM&&this.layout!=a.Z.XYZM)return null;var r=void 0!==e&&e;return(0,p.iJ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return(0,h.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return(0,p.WW)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return(0,f.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=(0,m.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,a.Z.XY)},e.prototype.getType=function(){return s.Z.LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,d.Kz)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(l.ZP)},92456:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(2309),o=r(46443),a=r(42050),s=r(13585),l=r(40285),u=r(21985),c=r(62971),h=r(19227),p=r(55899),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e,r){var n=t.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?n.setCoordinates(e,r):n.setFlatCoordinates(r,e),n}return d(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.getArea=function(){return(0,l.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,h.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=(0,p.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,o.Z.XY)},e.prototype.getType=function(){return a.Z.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.ZP)},25939:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n,i=r(26060),o=r(2309),a=r(46443),s=r(42050),l=r(70314),u=r(13585),c=r(21985),h=r(62971),p=r(19227),d=r(46250),f=r(98679),g=r(55899),m=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const y=function(t){function e(e,r,n){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,r);else if(void 0!==r&&n)o.setFlatCoordinates(r,e),o.ends_=n;else{for(var a=o.getLayout(),s=e,l=[],u=[],c=0,h=s.length;c<h;++c){var p=s[c];0===c&&(a=p.getLayout()),(0,i.l7)(l,p.getFlatCoordinates()),u.push(l.length)}o.setFlatCoordinates(a,l),o.ends_=u}return o}return m(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?(0,i.l7)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,c.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,c.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,n))},e.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=a.Z.XYM&&this.layout!=a.Z.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,i=void 0!==r&&r;return(0,d.dG)(this.flatCoordinates,0,this.ends_,this.stride,t,n,i)},e.prototype.getCoordinates=function(){return(0,p.o1)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new l.Z(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,r=this.layout,n=[],i=0,o=0,a=e.length;o<a;++o){var s=e[o],u=new l.Z(t.slice(i,s),r);n.push(u),i=s}return n},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,r=0,n=this.ends_,o=this.stride,a=0,s=n.length;a<s;++a){var l=n[a],u=(0,d.WW)(e,r,l,o,.5);(0,i.l7)(t,u),r=l}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=(0,g.UJ)(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,n),new e(r,a.Z.XY,n)},e.prototype.getType=function(){return s.Z.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,f.AW)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=(0,h._5)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(u.ZP)},7469:(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var n,i=r(26060),o=r(2309),a=r(42050),s=r(4655),l=r(13585),u=r(62971),c=r(19227),h=r(25529),p=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const d=function(t){function e(e,r){var n=t.call(this)||this;return r&&!Array.isArray(e[0])?n.setFlatCoordinates(r,e):n.setCoordinates(e,r),n}return p(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?(0,i.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){if(n<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return n;for(var i=this.flatCoordinates,a=this.stride,s=0,l=i.length;s<l;s+=a){var u=(0,h.bI)(t,e,i[s],i[s+1]);if(u<n){n=u;for(var c=0;c<a;++c)r[c]=i[s+c];r.length=a}}return n},e.prototype.getCoordinates=function(){return(0,c.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new s.Z(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,n=[],i=0,o=t.length;i<o;i+=r){var a=new s.Z(t.slice(i,i+r),e);n.push(a)}return n},e.prototype.getType=function(){return a.Z.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,r=this.stride,n=0,i=e.length;n<i;n+=r){var a=e[n],s=e[n+1];if((0,o.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(l.ZP)},42901:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w});var n,i=r(26060),o=r(2309),a=r(46443),s=r(42050),l=r(7469),u=r(36850),c=r(13585),h=r(40285),p=r(77712),d=r(21985),f=r(22474),g=r(62971),m=r(19227),y=r(37641),v=r(98679),_=r(96884),b=r(55899),x=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const w=function(t){function e(e,r,n){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var a=o.getLayout(),s=e,l=[],u=[],c=0,h=s.length;c<h;++c){var p=s[c];0===c&&(a=p.getLayout());for(var d=l.length,f=p.getEnds(),g=0,m=f.length;g<m;++g)f[g]+=d;(0,i.l7)(l,p.getFlatCoordinates()),u.push(f)}r=a,e=l,n=u}return void 0!==r&&n?(o.setFlatCoordinates(r,e),o.endss_=n):o.setCoordinates(e,r),o}return x(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var r=this.flatCoordinates.length;(0,i.l7)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,o=(e=t.getEnds().slice()).length;n<o;++n)e[n]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),n=0;n<t;++n)r[n]=this.endss_[n].slice();return new e(this.flatCoordinates.slice(),this.layout,r)},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.containsXY=function(t,e){return(0,f.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return(0,h.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.dL)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,m.ug)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,p.E)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,y.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new l.Z(this.getFlatInteriorPoints().slice(),a.Z.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.Oj)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=(0,b.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,n),new e(r,a.Z.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var r=this.endss_[t-1];e=r[r.length-1]}var n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(var o=0,a=n.length;o<a;++o)n[o]-=e;return new u.ZP(this.flatCoordinates.slice(e,i),this.layout,n)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.endss_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),l=s[s.length-1];if(0!==i)for(var c=0,h=s.length;c<h;++c)s[c]-=i;var p=new u.ZP(e.slice(i,l),t,s);n.push(p),i=l}return n},e.prototype.getType=function(){return s.Z.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return(0,v.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=(0,g.QT)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},e}(c.ZP)},4655:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n,i=r(2309),o=r(42050),a=r(13585),s=r(62971),l=r(25529),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const c=function(t){function e(e,r){var n=t.call(this)||this;return n.setCoordinates(e,r),n}return u(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){var i=this.flatCoordinates,o=(0,l.bI)(t,e,i[0],i[1]);if(o<n){for(var a=this.stride,s=0;s<a;++s)r[s]=i[s];return r.length=a,o}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,i.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return o.Z.POINT},e.prototype.intersectsExtent=function(t){return(0,i.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.IG)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.ZP)},36850:(t,e,r)=>{"use strict";r.d(e,{Bb:()=>P,ZP:()=>C,iu:()=>S,oJ:()=>T});var n,i=r(26060),o=r(2309),a=r(46443),s=r(42050),l=r(92456),u=r(4655),c=r(13585),h=r(37023),p=r(40285),d=r(21985),f=r(22474),g=r(62971),m=r(19227),y=r(37641),v=r(98679),_=r(96884),b=r(55899),x=r(25529),w=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),E=function(t){function e(e,r,n){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==r&&n?(i.setFlatCoordinates(r,e),i.ends_=n):i.setCoordinates(e,r),i}return w(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,i.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.containsXY=function(t,e){return(0,f.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return(0,p.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.zX)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,m.o1)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,o.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,y.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new u.Z(this.getFlatInteriorPoint(),a.Z.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new l.Z(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.ends_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o],u=new l.Z(e.slice(i,s),t);n.push(u),i=s}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.$v)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=(0,b.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,n),new e(r,a.Z.XY,n)},e.prototype.getType=function(){return s.Z.POLYGON},e.prototype.intersectsExtent=function(t){return(0,v.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=(0,g._5)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(c.ZP);const C=E;function S(t,e,r,n){for(var o=r||32,s=[],l=0;l<o;++l)(0,i.l7)(s,(0,h.offset)(t,e,2*Math.PI*l/o,n));return s.push(s[0],s[1]),new E(s,a.Z.XY,[s.length])}function T(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=[e,r,e,i,n,i,n,r,e,r];return new E(o,a.Z.XY,[o.length])}function P(t,e,r){for(var n=e||32,i=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=i*(n+1),l=new Array(s),u=0;u<s;u+=i){l[u]=0,l[u+1]=0;for(var c=2;c<i;c++)l[u+c]=a[c]}var h=[l.length],p=new E(l,o,h);return function(t,e,r,n){for(var i=t.getFlatCoordinates(),o=t.getStride(),a=i.length/o-1,s=n||0,l=0;l<=a;++l){var u=l*o,c=s+2*(0,x.$W)(l,a)*Math.PI/a;i[u]=e[0]+r*Math.cos(c),i[u+1]=e[1]+r*Math.sin(c)}t.changed()}(p,a,t.getRadius(),r),p}},13585:(t,e,r)=>{"use strict";r.d(e,{Kr:()=>h,ZP:()=>p,tP:()=>c});var n,i=r(19579),o=r(2309),a=r(89564),s=r(46443),l=r(3497),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function c(t){var e;return t==s.Z.XY?e=2:t==s.Z.XYZ||t==s.Z.XYM?e=3:t==s.Z.XYZM&&(e=4),e}function h(t,e,r){var n=t.getFlatCoordinates();if(n){var i=t.getStride();return(0,l.vT)(n,0,n.length,i,e,r)}return null}const p=function(t){function e(){var e=t.call(this)||this;return e.layout=s.Z.XY,e.stride=2,e.flatCoordinates=null,e}return u(e,t),e.prototype.computeExtent=function(t){return(0,o.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,i.O3)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=c(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,i.O3)()},e.prototype.setLayout=function(t,e,r){var n;if(t)n=c(t);else{for(var i=0;i<r;++i){if(0===e.length)return this.layout=s.Z.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=s.Z.XY:3==t?e=s.Z.XYZ:4==t&&(e=s.Z.XYZM);return e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var r=this.getFlatCoordinates();if(r){var n=this.getStride();(0,l.U1)(r,0,r.length,n,t,e,r),this.changed()}},e.prototype.scale=function(t,e,r){var n=e;void 0===n&&(n=t);var i=r;i||(i=(0,o.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var s=this.getStride();(0,l.bA)(a,0,a.length,s,t,n,i,a),this.changed()}},e.prototype.translate=function(t,e){var r=this.getFlatCoordinates();if(r){var n=this.getStride();(0,l.Iu)(r,0,r.length,n,t,e,r),this.changed()}},e}(a.Z)},40285:(t,e,r)=>{"use strict";function n(t,e,r,n){for(var i=0,o=t[r-n],a=t[r-n+1];e<r;e+=n){var s=t[e],l=t[e+1];i+=a*s-o*l,o=s,a=l}return i/2}function i(t,e,r,i){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=n(t,e,l,i),e=l}return o}function o(t,e,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=i(t,e,l,n),e=l[l.length-1]}return o}r.d(e,{Eu:()=>o,KP:()=>i,QQ:()=>n})},77712:(t,e,r)=>{"use strict";r.d(e,{E:()=>i});var n=r(2309);function i(t,e,r,i){for(var o=[],a=(0,n.createEmpty)(),s=0,l=r.length;s<l;++s){var u=r[s];a=(0,n.createOrUpdateFromFlatCoordinates)(t,e,u[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=u[u.length-1]}return o}},21985:(t,e,r)=>{"use strict";r.d(e,{Af:()=>a,Bv:()=>o,H$:()=>l,Xl:()=>u,gI:()=>c,sD:()=>s});var n=r(25529);function i(t,e,r,i,o,a,s){var l,u=t[e],c=t[e+1],h=t[r]-u,p=t[r+1]-c;if(0===h&&0===p)l=e;else{var d=((o-u)*h+(a-c)*p)/(h*h+p*p);if(d>1)l=r;else{if(d>0){for(var f=0;f<i;++f)s[f]=(0,n.t7)(t[e+f],t[r+f],d);return void(s.length=i)}l=e}}for(f=0;f<i;++f)s[f]=t[l+f];s.length=i}function o(t,e,r,i,o){var a=t[e],s=t[e+1];for(e+=i;e<r;e+=i){var l=t[e],u=t[e+1],c=(0,n.bI)(a,s,l,u);c>o&&(o=c),a=l,s=u}return o}function a(t,e,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];i=o(t,e,l,n,i),e=l}return i}function s(t,e,r,n,i){for(var o=0,s=r.length;o<s;++o){var l=r[o];i=a(t,e,l,n,i),e=l[l.length-1]}return i}function l(t,e,r,o,a,s,l,u,c,h,p){if(e==r)return h;var d,f;if(0===a){if((f=(0,n.bI)(l,u,t[e],t[e+1]))<h){for(d=0;d<o;++d)c[d]=t[e+d];return c.length=o,f}return h}for(var g=p||[NaN,NaN],m=e+o;m<r;)if(i(t,m-o,m,o,l,u,g),(f=(0,n.bI)(l,u,g[0],g[1]))<h){for(h=f,d=0;d<o;++d)c[d]=g[d];c.length=o,m+=o}else m+=o*Math.max((Math.sqrt(f)-Math.sqrt(h))/a|0,1);if(s&&(i(t,r-o,e,o,l,u,g),(f=(0,n.bI)(l,u,g[0],g[1]))<h)){for(h=f,d=0;d<o;++d)c[d]=g[d];c.length=o}return h}function u(t,e,r,n,i,o,a,s,u,c,h){for(var p=h||[NaN,NaN],d=0,f=r.length;d<f;++d){var g=r[d];c=l(t,e,g,n,i,o,a,s,u,c,p),e=g}return c}function c(t,e,r,n,i,o,a,s,l,c,h){for(var p=h||[NaN,NaN],d=0,f=r.length;d<f;++d){var g=r[d];c=u(t,e,g,n,i,o,a,s,l,c,p),e=g[g.length-1]}return c}},22474:(t,e,r)=>{"use strict";r.d(e,{TG:()=>o,Zl:()=>s,uG:()=>i,wY:()=>a});var n=r(2309);function i(t,e,r,i,a){return!(0,n.forEachCorner)(a,(function(n){return!o(t,e,r,i,n[0],n[1])}))}function o(t,e,r,n,i,o){for(var a=0,s=t[r-n],l=t[r-n+1];e<r;e+=n){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function a(t,e,r,n,i,a){if(0===r.length)return!1;if(!o(t,e,r[0],n,i,a))return!1;for(var s=1,l=r.length;s<l;++s)if(o(t,r[s-1],r[s],n,i,a))return!1;return!0}function s(t,e,r,n,i,o){if(0===r.length)return!1;for(var s=0,l=r.length;s<l;++s){var u=r[s];if(a(t,e,u,n,i,o))return!0;e=u[u.length-1]}return!1}},62971:(t,e,r)=>{"use strict";function n(t,e,r,n){for(var i=0,o=r.length;i<o;++i)t[e++]=r[i];return e}function i(t,e,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],s=0;s<n;++s)t[e++]=a[s];return e}function o(t,e,r,n,o){for(var a=o||[],s=0,l=0,u=r.length;l<u;++l){var c=i(t,e,r[l],n);a[s++]=c,e=c}return a.length=s,a}function a(t,e,r,n,i){for(var a=i||[],s=0,l=0,u=r.length;l<u;++l){var c=o(t,e,r[l],n,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}r.d(e,{IG:()=>n,QT:()=>a,Sg:()=>i,_5:()=>o})},19227:(t,e,r)=>{"use strict";function n(t,e,r,n,i){for(var o=void 0!==i?i:[],a=0,s=e;s<r;s+=n)o[a++]=t.slice(s,s+n);return o.length=a,o}function i(t,e,r,i,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=n(t,e,c,i,a[s]),e=c}return a.length=s,a}function o(t,e,r,n,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=i(t,e,c,n,a[s]),e=c[c.length-1]}return a.length=s,a}r.d(e,{Ml:()=>n,o1:()=>i,ug:()=>o})},37641:(t,e,r)=>{"use strict";r.d(e,{U:()=>a,X:()=>o});var n=r(26060),i=r(22474);function o(t,e,r,o,a,s,l){for(var u,c,h,p,d,f,g,m=a[s+1],y=[],v=0,_=r.length;v<_;++v){var b=r[v];for(p=t[b-o],f=t[b-o+1],u=e;u<b;u+=o)d=t[u],g=t[u+1],(m<=f&&g<=m||f<=m&&m<=g)&&(h=(m-f)/(g-f)*(d-p)+p,y.push(h)),p=d,f=g}var x=NaN,w=-1/0;for(y.sort(n.kK),p=y[0],u=1,c=y.length;u<c;++u){d=y[u];var E=Math.abs(d-p);E>w&&(h=(p+d)/2,(0,i.wY)(t,e,r,o,h,m)&&(x=h,w=E)),p=d}return isNaN(x)&&(x=a[s]),l?(l.push(x,m,w),l):[x,m,w]}function a(t,e,r,n,i){for(var a=[],s=0,l=r.length;s<l;++s){var u=r[s];a=o(t,e,u,n,i,2*s,a),e=u[u.length-1]}return a}},46250:(t,e,r)=>{"use strict";r.d(e,{WW:()=>o,dG:()=>s,iJ:()=>a});var n=r(26060),i=r(25529);function o(t,e,r,o,a,s){var l=NaN,u=NaN,c=(r-e)/o;if(1===c)l=t[e],u=t[e+1];else if(2==c)l=(1-a)*t[e]+a*t[e+o],u=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==c){for(var h=t[e],p=t[e+1],d=0,f=[0],g=e+o;g<r;g+=o){var m=t[g],y=t[g+1];d+=Math.sqrt((m-h)*(m-h)+(y-p)*(y-p)),f.push(d),h=m,p=y}var v=a*d,_=(0,n.ry)(f,v);if(_<0){var b=(v-f[-_-2])/(f[-_-1]-f[-_-2]),x=e+(-_-2)*o;l=(0,i.t7)(t[x],t[x+o],b),u=(0,i.t7)(t[x+1],t[x+o+1],b)}else l=t[e+_*o],u=t[e+_*o+1]}return s?(s[0]=l,s[1]=u,s):[l,u]}function a(t,e,r,n,o,a){if(r==e)return null;var s;if(o<t[e+n-1])return a?((s=t.slice(e,e+n))[n-1]=o,s):null;if(t[r-1]<o)return a?((s=t.slice(r-n,r))[n-1]=o,s):null;if(o==t[e+n-1])return t.slice(e,e+n);for(var l=e/n,u=r/n;l<u;){var c=l+u>>1;o<t[(c+1)*n-1]?u=c:l=c+1}var h=t[l*n-1];if(o==h)return t.slice((l-1)*n,(l-1)*n+n);var p=(o-h)/(t[(l+1)*n-1]-h);s=[];for(var d=0;d<n-1;++d)s.push((0,i.t7)(t[(l-1)*n+d],t[l*n+d],p));return s.push(o),s}function s(t,e,r,n,i,o,s){if(s)return a(t,e,r[r.length-1],n,i,o);var l;if(i<t[n-1])return o?((l=t.slice(0,n))[n-1]=i,l):null;if(t[t.length-1]<i)return o?((l=t.slice(t.length-n))[n-1]=i,l):null;for(var u=0,c=r.length;u<c;++u){var h=r[u];if(e!=h){if(i<t[e+n-1])return null;if(i<=t[h-1])return a(t,e,h,n,i,!1);e=h}}return null}},98679:(t,e,r)=>{"use strict";r.d(e,{AW:()=>s,Kz:()=>a,ac:()=>l,oW:()=>u});var n=r(2309),i=r(22474),o=r(76805);function a(t,e,r,i,a){var s=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),t,e,r,i);return!!(0,n.intersects)(a,s)&&(!!(0,n.containsExtent)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||(0,o.E)(t,e,r,i,(function(t,e){return(0,n.intersectsSegment)(a,t,e)})))))}function s(t,e,r,n,i){for(var o=0,s=r.length;o<s;++o){if(a(t,e,r[o],n,i))return!0;e=r[o]}return!1}function l(t,e,r,n,o){if(!function(t,e,r,n,o){return!!(a(t,e,r,n,o)||(0,i.TG)(t,e,r,n,o[0],o[1])||(0,i.TG)(t,e,r,n,o[0],o[3])||(0,i.TG)(t,e,r,n,o[2],o[1])||(0,i.TG)(t,e,r,n,o[2],o[3]))}(t,e,r[0],n,o))return!1;if(1===r.length)return!0;for(var s=1,l=r.length;s<l;++s)if((0,i.uG)(t,r[s-1],r[s],n,o)&&!a(t,r[s-1],r[s],n,o))return!1;return!0}function u(t,e,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o];if(l(t,e,s,n,i))return!0;e=s[s.length-1]}return!1}},82444:(t,e,r)=>{"use strict";function n(t,e,r,n){for(var i=t[e],o=t[e+1],a=0,s=e+n;s<r;s+=n){var l=t[s],u=t[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}r.d(e,{W:()=>n})},96884:(t,e,r)=>{"use strict";function n(t,e,r,n){for(;e<r-n;){for(var i=0;i<n;++i){var o=t[e+i];t[e+i]=t[r-n+i],t[r-n+i]=o}e+=n,r-=n}}function i(t,e,r,n){for(var i=0,o=t[r-n],a=t[r-n+1];e<r;e+=n){var s=t[e],l=t[e+1];i+=(s-o)*(l+a),o=s,a=l}return i>0}function o(t,e,r,n,o){for(var a=void 0!==o&&o,s=0,l=r.length;s<l;++s){var u=r[s],c=i(t,e,u,n);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=u}return!0}function a(t,e,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];if(!o(t,e,l,n,i))return!1;l.length&&(e=l[l.length-1])}return!0}function s(t,e,r,o,a){for(var s=void 0!==a&&a,l=0,u=r.length;l<u;++l){var c=r[l],h=i(t,e,c,o);(0===l?s&&h||!s&&!h:s&&!h||!s&&h)&&n(t,e,c,o),e=c}return e}function l(t,e,r,n,i){for(var o=0,a=r.length;o<a;++o)e=s(t,e,r[o],n,i);return e}r.d(e,{bt:()=>i,$v:()=>o,Oj:()=>a,zX:()=>s,dL:()=>l})},76805:(t,e,r)=>{"use strict";function n(t,e,r,n,i){for(var o,a=[t[e],t[e+1]],s=[];e+n<r;e+=n){if(s[0]=t[e+n],s[1]=t[e+n+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}r.d(e,{E:()=>n})},55899:(t,e,r)=>{"use strict";r.d(e,{Pp:()=>u,UJ:()=>o,Zh:()=>l,dt:()=>i,uZ:()=>a});var n=r(25529);function i(t,e,r,i,o,a,s){var l=(r-e)/i;if(l<3){for(;e<r;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[e,r-i],h=0;c.length>0;){for(var p=c.pop(),d=c.pop(),f=0,g=t[d],m=t[d+1],y=t[p],v=t[p+1],_=d+i;_<p;_+=i){var b=t[_],x=t[_+1],w=(0,n.rU)(b,x,g,m,y,v);w>f&&(h=_,f=w)}f>o&&(u[(h-e)/i]=1,d+i<h&&c.push(d,h),h+i<p&&c.push(h,p))}for(_=0;_<l;++_)u[_]&&(a[s++]=t[e+_*i],a[s++]=t[e+_*i+1]);return s}function o(t,e,r,n,o,a,s,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];s=i(t,e,h,n,o,a,s),l.push(s),e=h}return s}function a(t,e){return e*Math.round(t/e)}function s(t,e,r,n,i,o,s){if(e==r)return s;var l,u,c=a(t[e],i),h=a(t[e+1],i);e+=n,o[s++]=c,o[s++]=h;do{if(l=a(t[e],i),u=a(t[e+1],i),(e+=n)==r)return o[s++]=l,o[s++]=u,s}while(l==c&&u==h);for(;e<r;){var p=a(t[e],i),d=a(t[e+1],i);if(e+=n,p!=l||d!=u){var f=l-c,g=u-h,m=p-c,y=d-h;f*y==g*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(l=p,u=d):(o[s++]=l,o[s++]=u,c=l,h=u,l=p,u=d)}}return o[s++]=l,o[s++]=u,s}function l(t,e,r,n,i,o,a,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];a=s(t,e,h,n,i,o,a),l.push(a),e=h}return a}function u(t,e,r,n,i,o,a,s){for(var u=0,c=r.length;u<c;++u){var h=r[u],p=[];a=l(t,e,h,n,i,o,a,p),s.push(p),e=h[h.length-1]}return a}},3497:(t,e,r)=>{"use strict";function n(t,e,r,n,i,o){for(var a=o||[],s=0,l=e;l<r;l+=n){var u=t[l],c=t[l+1];a[s++]=i[0]*u+i[2]*c+i[4],a[s++]=i[1]*u+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function i(t,e,r,n,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],h=o[1],p=0,d=e;d<r;d+=n){var f=t[d]-c,g=t[d+1]-h;s[p++]=c+f*l-g*u,s[p++]=h+f*u+g*l;for(var m=d+2;m<d+n;++m)s[p++]=t[m]}return a&&s.length!=p&&(s.length=p),s}function o(t,e,r,n,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,p=e;p<r;p+=n){var d=t[p]-u,f=t[p+1]-c;l[h++]=u+i*d,l[h++]=c+o*f;for(var g=p+2;g<p+n;++g)l[h++]=t[g]}return s&&l.length!=h&&(l.length=h),l}function a(t,e,r,n,i,o,a){for(var s=a||[],l=0,u=e;u<r;u+=n){s[l++]=t[u]+i,s[l++]=t[u+1]+o;for(var c=u+2;c<u+n;++c)s[l++]=t[c]}return a&&s.length!=l&&(s.length=l),s}r.d(e,{Iu:()=>a,U1:()=>i,bA:()=>o,vT:()=>n})},98243:(t,e,r)=>{"use strict";r.d(e,{G$:()=>o,MP:()=>s,Tp:()=>l,V:()=>i,bM:()=>u,tK:()=>a});var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==n.indexOf("firefox"),o=(-1!==n.indexOf("safari")&&n.indexOf("chrom"),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),a=-1!==n.indexOf("macintosh"),s=window.devicePixelRatio||1,l="undefined"!=typeof Image&&Image.prototype.decode,u=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},34502:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AssertionError:()=>n.Z,Collection:()=>i.default,Disposable:()=>o.Z,Feature:()=>a.default,Geolocation:()=>s.default,Graticule:()=>P,Image:()=>O.Z,ImageBase:()=>M.Z,ImageCanvas:()=>R.Z,ImageTile:()=>I.Z,Kinetic:()=>L.Z,Map:()=>k.Z,MapBrowserEvent:()=>A.Z,MapBrowserEventHandler:()=>F.Z,MapBrowserPointerEvent:()=>N.Z,MapEvent:()=>Z.Z,Object:()=>j.ZP,Observable:()=>D.default,Overlay:()=>G.Z,PluggableMap:()=>z.Z,Tile:()=>U.Z,TileCache:()=>B.Z,TileQueue:()=>q.Z,TileRange:()=>V.Z,VERSION:()=>H.q4,VectorRenderTile:()=>Y.Z,VectorTile:()=>W.Z,View:()=>X.ZP,getUid:()=>H.sq});var n=r(59049),i=r(17850),o=r(85763),a=r(41013),s=r(63388),l=r(26692),u=r(19664),c=r(24160),h=r(31179),p=r(18085),d=r(86650),f=r(70314),g=r(40622),m=r(93558),y=r(2309),v=r(25529),_=r(57911);function b(t,e,r){for(var n,i,o,a,s,l,u=[],c=t(0),h=t(1),p=e(c),d=e(h),f=[h,c],g=[d,p],m=[1,0],y={},_=1e5;--_>0&&m.length>0;)o=m.pop(),c=f.pop(),p=g.pop(),(l=o.toString())in y||(u.push(p[0],p[1]),y[l]=!0),a=m.pop(),h=f.pop(),d=g.pop(),i=e(n=t(s=(o+a)/2)),(0,v.rU)(i[0],i[1],p[0],p[1],d[0],d[1])<r?(u.push(d[0],d[1]),y[l=a.toString()]=!0):(m.push(a,s,s,o),g.push(d,i,i,p),f.push(h,n,n,c));return u}var x,w=r(46443),E=r(4655),C=(x=function(t,e){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},x(t,e)},function(t,e){function r(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S=new d.Z({color:"rgba(0,0,0,0.2)"}),T=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];const P=function(t){function e(e){var r=this,n=e||{},o=(0,u.f0)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},n);return delete o.maxLines,delete o.strokeStyle,delete o.targetSize,delete o.showLabels,delete o.lonLabelFormatter,delete o.latLabelFormatter,delete o.lonLabelPosition,delete o.latLabelPosition,delete o.lonLabelStyle,delete o.latLabelStyle,delete o.intervals,(r=t.call(this,o)||this).projection_=null,r.maxLat_=1/0,r.maxLon_=1/0,r.minLat_=-1/0,r.minLon_=-1/0,r.maxLatP_=1/0,r.maxLonP_=1/0,r.minLatP_=-1/0,r.minLonP_=-1/0,r.targetSize_=void 0!==n.targetSize?n.targetSize:100,r.maxLines_=void 0!==n.maxLines?n.maxLines:100,r.meridians_=[],r.parallels_=[],r.strokeStyle_=void 0!==n.strokeStyle?n.strokeStyle:S,r.fromLonLatTransform_=void 0,r.toLonLatTransform_=void 0,r.projectionCenterLonLat_=null,r.meridiansLabels_=null,r.parallelsLabels_=null,n.showLabels&&(r.lonLabelFormatter_=null==n.lonLabelFormatter?c.degreesToStringHDMS.bind(r,"EW"):n.lonLabelFormatter,r.latLabelFormatter_=null==n.latLabelFormatter?c.degreesToStringHDMS.bind(r,"NS"):n.latLabelFormatter,r.lonLabelPosition_=null==n.lonLabelPosition?0:n.lonLabelPosition,r.latLabelPosition_=null==n.latLabelPosition?1:n.latLabelPosition,r.lonLabelStyleBase_=new _.ZP({text:void 0!==n.lonLabelStyle?n.lonLabelStyle.clone():new h.Z({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new p.Z({color:"rgba(0,0,0,1)"}),stroke:new d.Z({color:"rgba(255,255,255,1)",width:3})})}),r.lonLabelStyle_=function(t){var e=t.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(e),this.lonLabelStyleBase_}.bind(r),r.latLabelStyleBase_=new _.ZP({text:void 0!==n.latLabelStyle?n.latLabelStyle.clone():new h.Z({font:"12px Calibri,sans-serif",textAlign:"right",fill:new p.Z({color:"rgba(0,0,0,1)"}),stroke:new d.Z({color:"rgba(255,255,255,1)",width:3})})}),r.latLabelStyle_=function(t){var e=t.get("graticule_label");return this.latLabelStyleBase_.getText().setText(e),this.latLabelStyleBase_}.bind(r),r.meridiansLabels_=[],r.parallelsLabels_=[]),r.intervals_=void 0!==n.intervals?n.intervals:T,r.setSource(new g.Z({loader:r.loaderFunction.bind(r),strategy:r.strategyFunction.bind(r),features:new i.default,overlaps:!1,useSpatialIndex:!1,wrapX:n.wrapX})),r.featurePool_=[],r.lineStyle_=new _.ZP({stroke:r.strokeStyle_}),r.loadedExtent_=null,r.renderedExtent_=null,r.setRenderOrder(null),r}return C(e,t),e.prototype.strategyFunction=function(t,e){return this.loadedExtent_&&!(0,y.equals)(this.loadedExtent_,t)&&this.getSource().removeLoadedExtent(this.loadedExtent_),[t]},e.prototype.loaderFunction=function(t,e,r){this.loadedExtent_=t;var n=this.getSource(),i=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=(0,y.getIntersection)(i,t);if(!(this.renderedExtent_&&(0,y.equals)(this.renderedExtent_,o)||(this.renderedExtent_=o,(0,y.isEmpty)(o)))){var s=(0,y.getCenter)(o),l=e*e/4;(!this.projection_||!(0,m.equivalent)(this.projection_,r))&&this.updateProjectionInfo_(r),this.createGraticule_(o,s,e,l);var u,c=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(c+=this.meridiansLabels_.length),this.parallelsLabels_&&(c+=this.parallelsLabels_.length);c>this.featurePool_.length;)u=new a.default,this.featurePool_.push(u);var h=n.getFeaturesCollection();h.clear();var p,d,f,g=0;for(p=0,d=this.meridians_.length;p<d;++p)(u=this.featurePool_[g++]).setGeometry(this.meridians_[p]),u.setStyle(this.lineStyle_),h.push(u);for(p=0,d=this.parallels_.length;p<d;++p)(u=this.featurePool_[g++]).setGeometry(this.parallels_[p]),u.setStyle(this.lineStyle_),h.push(u);if(this.meridiansLabels_)for(p=0,d=this.meridiansLabels_.length;p<d;++p)f=this.meridiansLabels_[p],(u=this.featurePool_[g++]).setGeometry(f.geom),u.setStyle(this.lonLabelStyle_),u.set("graticule_label",f.text),h.push(u);if(this.parallelsLabels_)for(p=0,d=this.parallelsLabels_.length;p<d;++p)f=this.parallelsLabels_[p],(u=this.featurePool_[g++]).setGeometry(f.geom),u.setStyle(this.latLabelStyle_),u.set("graticule_label",f.text),h.push(u)}},e.prototype.addMeridian_=function(t,e,r,n,i,o){var a=this.getMeridian_(t,e,r,n,o);if((0,y.intersects)(a.getExtent(),i)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(a,i,o);this.meridiansLabels_[o]={geom:s,text:this.lonLabelFormatter_(t)}}this.meridians_[o++]=a}return o},e.prototype.addParallel_=function(t,e,r,n,i,o){var a=this.getParallel_(t,e,r,n,o);if((0,y.intersects)(a.getExtent(),i)){if(this.parallelsLabels_){var s=this.getParallelPoint_(a,i,o);this.parallelsLabels_[o]={geom:s,text:this.latLabelFormatter_(t)}}this.parallels_[o++]=a}return o},e.prototype.createGraticule_=function(t,e,r,n){var i=this.getInterval_(r);if(-1==i)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,l,u=this.toLonLatTransform_(e),c=u[0],h=u[1],p=this.maxLines_,d=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],f=(d=(0,m.transformExtent)(d,this.projection_,"EPSG:4326"))[3],g=d[2],y=d[1],_=d[0];for(c=Math.floor(c/i)*i,l=(0,v.uZ)(c,this.minLon_,this.maxLon_),a=this.addMeridian_(l,y,f,n,t,0),o=0;l!=this.minLon_&&o++<p;)l=Math.max(l-i,this.minLon_),a=this.addMeridian_(l,y,f,n,t,a);for(l=(0,v.uZ)(c,this.minLon_,this.maxLon_),o=0;l!=this.maxLon_&&o++<p;)l=Math.min(l+i,this.maxLon_),a=this.addMeridian_(l,y,f,n,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),h=Math.floor(h/i)*i,s=(0,v.uZ)(h,this.minLat_,this.maxLat_),a=this.addParallel_(s,_,g,n,t,0),o=0;s!=this.minLat_&&o++<p;)s=Math.max(s-i,this.minLat_),a=this.addParallel_(s,_,g,n,t,a);for(s=(0,v.uZ)(h,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<p;)s=Math.min(s+i,this.maxLat_),a=this.addParallel_(s,_,g,n,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},e.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],n=-1,i=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=this.intervals_[s]/2;if(o[0]=e-u,o[1]=r-u,a[0]=e+u,a[1]=r+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=i)break;n=this.intervals_[s]}return n},e.prototype.getMeridian_=function(t,e,r,n,i){var o=function(t,e,r,n,i){var o=(0,m.get)("EPSG:4326");return b((function(n){return[t,e+(r-e)*n]}),(0,m.getTransform)(o,n),i)}(t,e,r,this.projection_,n),a=this.meridians_[i];return a?(a.setFlatCoordinates(w.Z.XY,o),a.changed()):(a=new f.Z(o,w.Z.XY),this.meridians_[i]=a),a},e.prototype.getMeridianPoint_=function(t,e,r){var n,i=t.getFlatCoordinates(),o=Math.max(e[1],i[1]),a=Math.min(e[3],i[i.length-1]),s=(0,v.uZ)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),l=[i[0],s];return r in this.meridiansLabels_?(n=this.meridiansLabels_[r].geom).setCoordinates(l):n=new E.Z(l),n},e.prototype.getMeridians=function(){return this.meridians_},e.prototype.getParallel_=function(t,e,r,n,i){var o=function(t,e,r,n,i){var o=(0,m.get)("EPSG:4326");return b((function(n){return[e+(r-e)*n,t]}),(0,m.getTransform)(o,n),i)}(t,e,r,this.projection_,n),a=this.parallels_[i];return a?(a.setFlatCoordinates(w.Z.XY,o),a.changed()):a=new f.Z(o,w.Z.XY),a},e.prototype.getParallelPoint_=function(t,e,r){var n,i=t.getFlatCoordinates(),o=Math.max(e[0],i[0]),a=Math.min(e[2],i[i.length-2]),s=[(0,v.uZ)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),i[1]];return r in this.parallelsLabels_?(n=this.parallelsLabels_[r].geom).setCoordinates(s):n=new E.Z(s),n},e.prototype.getParallels=function(){return this.parallels_},e.prototype.updateProjectionInfo_=function(t){var e=(0,m.get)("EPSG:4326"),r=t.getWorldExtent(),n=(0,m.transformExtent)(r,e,t);this.maxLat_=r[3],this.maxLon_=r[2],this.minLat_=r[1],this.minLon_=r[0],this.maxLatP_=n[3],this.maxLonP_=n[2],this.minLatP_=n[1],this.minLonP_=n[0],this.fromLonLatTransform_=(0,m.getTransform)(e,t),this.toLonLatTransform_=(0,m.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,y.getCenter)(t.getExtent())),this.projection_=t},e}(l.Z);var O=r(59917),M=r(160),R=r(22352),I=r(52279),L=r(46557),k=r(20385),A=r(17139),F=r(8823),N=r(96754),Z=r(42626),j=r(10906),D=r(68459),G=r(32246),z=r(24430),U=r(37860),B=r(28761),q=r(7081),V=r(63017),Y=r(13156),W=r(35654),X=r(11903),H=r(19579)},56797:(t,e,r)=>{"use strict";r.r(e),r.d(e,{DoubleClickZoom:()=>g,DragAndDrop:()=>gt,DragBox:()=>G,DragPan:()=>S,DragRotate:()=>O,DragRotateAndZoom:()=>yt,DragZoom:()=>B,Draw:()=>jt,Extent:()=>Vt,Interaction:()=>p,KeyboardPan:()=>J,KeyboardZoom:()=>tt,Modify:()=>ae,MouseWheelZoom:()=>nt,PinchRotate:()=>ot,PinchZoom:()=>st,Pointer:()=>w,Select:()=>he,Snap:()=>ge,Translate:()=>xe,defaults:()=>we});var n=r(17850),i=r(46557),o=r(58544),a=r(10906),s=r(92502);const l="active";var u,c=(u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},u(t,e)},function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function h(t,e,r,n){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:r,duration:void 0!==n?n:250,easing:s.easeOut})}}const p=function(t){function e(e){var r=t.call(this)||this;return e.handleEvent&&(r.handleEvent=e.handleEvent),r.map_=null,r.setActive(!0),r}return c(e,t),e.prototype.getActive=function(){return this.get(l)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(l,t)},e.prototype.setMap=function(t){this.map_=t},e}(a.ZP);var d=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function f(t){var e=!1;if(t.type==o.Z.DBLCLICK){var r=t.originalEvent,n=t.map,i=t.coordinate,a=r.shiftKey?-this.delta_:this.delta_;h(n.getView(),a,i,this.duration_),t.preventDefault(),e=!0}return!e}const g=function(t){function e(e){var r=t.call(this,{handleEvent:f})||this,n=e||{};return r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:250,r}return d(e,t),e}(p);var m=r(24160),y=r(30637),v=r(62166),_=r(19664),b=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function x(t){for(var e=t.length,r=0,n=0,i=0;i<e;i++)r+=t[i].clientX,n+=t[i].clientY;return[r/e,n/e]}const w=function(t){function e(e){var r=this,n=e||{};return r=t.call(this,n)||this,n.handleDownEvent&&(r.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(r.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(r.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(r.handleUpEvent=n.handleUpEvent),n.stopDown&&(r.stopDown=n.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return b(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==o.Z.POINTERDRAG)this.handleDragEvent(t);else if(t.type==o.Z.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==o.Z.POINTERDOWN){var n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==o.Z.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===o.Z.POINTERDOWN||e===o.Z.POINTERDRAG||e===o.Z.POINTERUP}(t)){var e=t.pointerEvent,r=e.pointerId.toString();t.type==o.Z.POINTERUP?delete this.trackedPointers_[r]:(t.type==o.Z.POINTERDOWN||r in this.trackedPointers_)&&(this.trackedPointers_[r]=e),this.targetPointers=(0,_.KX)(this.trackedPointers_)}},e}(p);var E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function C(t){return(0,y.noModifierKeys)(t)&&(0,y.primaryAction)(t)}const S=function(t){function e(e){var r=t.call(this,{stopDown:v.Dv})||this,n=e||{};return r.kinetic_=n.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1,r.condition_=n.condition?n.condition:C,r.noKinetic_=!1,r}return E(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=(0,y.focus)(t)),e&&this.condition_(t)},e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,r=x(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var n=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],i=t.map.getView();(0,m.scale)(n,i.getResolution()),(0,m.rotate)(n,i.getRotation()),i.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,r=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),l=e.getCoordinateFromPixelInternal([a[0]-n*Math.cos(i),a[1]-n*Math.sin(i)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:s.easeOut})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.conditionInternal_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(w);var T=r(97909),P=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const O=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{stopDown:v.Dv})||this).condition_=n.condition?n.condition:y.altShiftKeysOnly,r.lastAngle_=void 0,r.duration_=void 0!==n.duration?n.duration:250,r}return P(e,t),e.prototype.handleDragEvent=function(t){if((0,y.mouseOnly)(t)){var e=t.map,r=e.getView();if(r.getConstraints().rotation!==T.h$){var n=e.getSize(),i=t.pixel,o=Math.atan2(n[1]/2-i[1],i[0]-n[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!(0,y.mouseOnly)(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!(0,y.mouseOnly)(t)&&(!(!(0,y.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(w);var M=r(2309),R=r(22567),I=r(85763),L=r(36850),k=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const A=function(t){function e(e){var r=t.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.className="ol-box "+e,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return k(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,r="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+r,n.top=Math.min(t[1],e[1])+r,n.width=Math.abs(e[0]-t[0])+r,n.height=Math.abs(e[1]-t[1])+r},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,r=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new L.ZP([r])},e.prototype.getGeometry=function(){return this.geometry_},e}(I.Z);var F=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N="boxstart",Z="boxdrag",j="boxend",D=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.coordinate=r,i.mapBrowserEvent=n,i}return F(e,t),e}(R.ZP);const G=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.box_=new A(n.className||"ol-dragbox"),r.minArea_=void 0!==n.minArea?n.minArea:64,r.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:v.Zn,r.startPixel_=null,r.condition_=n.condition?n.condition:y.mouseActionButton,r.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:r.defaultBoxEndCondition,r}return F(e,t),e.prototype.defaultBoxEndCondition=function(t,e,r){var n=r[0]-e[0],i=r[1]-e[1];return n*n+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new D(Z,t.coordinate,t))},e.prototype.handleUpEvent=function(t){return this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new D(j,t.coordinate,t))),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new D(N,t.coordinate,t)),!0)},e}(w);var z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function U(){var t=this.getMap(),e=t.getView(),r=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtentInternal(r),o=(0,M.createOrUpdateFromCoordinates)([t.getPixelFromCoordinateInternal((0,M.getBottomLeft)(n)),t.getPixelFromCoordinateInternal((0,M.getTopRight)(n))]),a=e.getResolutionForExtentInternal(o,r);(0,M.scaleFromCenter)(i,1/a),n=i}var l=e.getConstrainedResolution(e.getResolutionForExtentInternal(n,r)),u=e.getConstrainedCenter((0,M.getCenter)(n),l);e.animateInternal({resolution:l,center:u,duration:this.duration_,easing:s.easeOut})}const B=function(t){function e(e){var r=this,n=e||{},i=n.condition?n.condition:y.shiftKeyOnly;return(r=t.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea,onBoxEnd:U})||this).duration_=void 0!==n.duration?n.duration:200,r.out_=void 0!==n.out&&n.out,r}return z(e,t),e}(G);var q=r(21092);const V=37,Y=38,W=39,X=40;var H=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function K(t){var e=!1;if(t.type==q.Z.KEYDOWN){var r=t.originalEvent.keyCode;if(this.condition_(t)&&(r==X||r==V||r==W||r==Y)){var n=t.map.getView(),i=n.getResolution()*this.pixelDelta_,o=0,a=0;r==X?a=-i:r==V?o=-i:r==W?o=i:a=i;var l=[o,a];(0,m.rotate)(l,n.getRotation()),function(t,e,r){var n=t.getCenterInternal();if(n){var i=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==r?r:250,easing:s.linear,center:t.getConstrainedCenter(i)})}}(n,l,this.duration_),t.preventDefault(),e=!0}}return!e}const J=function(t){function e(e){var r=t.call(this,{handleEvent:K})||this,n=e||{};return r.defaultCondition_=function(t){return(0,y.noModifierKeys)(t)&&(0,y.targetNotEditable)(t)},r.condition_=void 0!==n.condition?n.condition:r.defaultCondition_,r.duration_=void 0!==n.duration?n.duration:100,r.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,r}return H(e,t),e}(p);var $=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Q(t){var e=!1;if(t.type==q.Z.KEYDOWN||t.type==q.Z.KEYPRESS){var r=t.originalEvent.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=t.map,i=r=="+".charCodeAt(0)?this.delta_:-this.delta_;h(n.getView(),i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}const tt=function(t){function e(e){var r=t.call(this,{handleEvent:Q})||this,n=e||{};return r.condition_=n.condition?n.condition:y.targetNotEditable,r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:100,r}return $(e,t),e}(p);var et=r(98243),rt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const nt=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,r.duration_=void 0!==n.duration?n.duration:250,r.timeout_=void 0!==n.timeout?n.timeout:80,r.useAnchor_=void 0===n.useAnchor||n.useAnchor,r.condition_=n.condition?n.condition:y.always,r.lastAnchor_=null,r.startTime_=void 0,r.eventGap_=400,r.timeoutId_,r.deltaPerZoom_=300,r}return rt(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=(0,y.focus)(t)),e&&this.condition_(t)},e.prototype.endInteraction_=function(){this.timeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.conditionInternal_(t))return!0;if(t.type!==q.Z.WHEEL)return!0;t.preventDefault();var e,r=t.map,n=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==q.Z.WHEEL&&(e=n.deltaY,et.V&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=et.MP),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i);var o=r.getView();return this.timeoutId_?clearTimeout(this.timeoutId_):o.beginInteraction(),this.timeoutId_=setTimeout(this.endInteraction_.bind(this),this.eventGap_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(p);var it=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const ot=function(t){function e(e){var r=this,n=e||{},i=n;return i.stopDown||(i.stopDown=v.Dv),(r=t.call(this,i)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==n.threshold?n.threshold:.3,r.duration_=void 0!==n.duration?n.duration:250,r}return it(e,t),e.prototype.handleDragEvent=function(t){var e=0,r=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==T.h$){var l=a.getViewport().getBoundingClientRect(),u=x(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(w);var at=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const st=function(t){function e(e){var r=this,n=e||{},i=n;return i.stopDown||(i.stopDown=v.Dv),(r=t.call(this,i)||this).anchor_=null,r.duration_=void 0!==n.duration?n.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return at(e,t),e.prototype.handleDragEvent=function(t){var e=1,r=this.targetPointers[0],n=this.targetPointers[1],i=r.clientX-n.clientX,o=r.clientY-n.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),c=x(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,r),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(w);var lt=r(53732),ut=r(93558),ct=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ht="addfeatures",pt=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.features=n,o.file=r,o.projection=i,o}return ct(e,t),e}(R.ZP);function dt(t){for(var e=t.dataTransfer.files,r=0,n=e.length;r<n;++r){var i=e.item(r),o=new FileReader;o.addEventListener(q.Z.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function ft(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}const gt=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{handleEvent:v.uX})||this).formatConstructors_=n.formatConstructors?n.formatConstructors:[],r.projection_=n.projection?(0,ut.get)(n.projection):null,r.dropListenKeys_=null,r.source_=n.source||null,r.target=n.target?n.target:null,r}return ct(e,t),e.prototype.handleResult_=function(t,e){var r=e.target.result,n=this.getMap(),i=this.projection_;i||(i=n.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,l=o.length;s<l;++s){var u=new o[s];if((a=this.tryReadFeatures_(u,r,{featureProjection:i}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new pt(ht,t,a,i))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,lt.oL)(e,q.Z.DROP,dt,this),(0,lt.oL)(e,q.Z.DRAGENTER,ft,this),(0,lt.oL)(e,q.Z.DRAGOVER,ft,this),(0,lt.oL)(e,q.Z.DROP,ft,this)]}},e.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(lt.bN),this.dropListenKeys_=null)},e}(p);var mt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const yt=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).condition_=n.condition?n.condition:y.shiftKeyOnly,r.lastAngle_=void 0,r.lastMagnitude_=void 0,r.lastScaleDelta_=0,r.duration_=void 0!==n.duration?n.duration:400,r}return mt(e,t),e.prototype.handleDragEvent=function(t){if((0,y.mouseOnly)(t)){var e=t.map,r=e.getSize(),n=t.pixel,i=n[0]-r[0]/2,o=r[1]/2-n[1],a=Math.atan2(o,i),s=Math.sqrt(i*i+o*o),l=e.getView();if(void 0!==this.lastAngle_){var u=this.lastAngle_-a;l.adjustRotationInternal(u)}this.lastAngle_=a,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/s),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/s),this.lastMagnitude_=s}},e.prototype.handleUpEvent=function(t){if(!(0,y.mouseOnly)(t))return!0;var e=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,r),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!(0,y.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(w);var vt=r(41013),_t=r(96754),bt=r(74746),xt=r(42050),wt=r(70314),Et=r(25939),Ct=r(7469),St=r(42901),Tt=r(4655),Pt=r(26692),Ot=r(40622),Mt=r(57911),Rt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It="Point",Lt="LineString",kt="Polygon",At="Circle",Ft="drawstart",Nt="drawend",Zt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.feature=r,n}return Rt(e,t),e}(R.ZP);const jt=function(t){function e(e){var r=this,n=e;n.stopDown||(n.stopDown=v.Dv),(r=t.call(this,n)||this).shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.freehand_=!1,r.source_=e.source?e.source:null,r.features_=e.features?e.features:null,r.snapTolerance_=e.snapTolerance?e.snapTolerance:12,r.type_=e.type,r.mode_=function(t){var e;t===xt.Z.POINT||t===xt.Z.MULTI_POINT?e=It:t===xt.Z.LINE_STRING||t===xt.Z.MULTI_LINE_STRING?e=Lt:t===xt.Z.POLYGON||t===xt.Z.MULTI_POLYGON?e=kt:t===xt.Z.CIRCLE&&(e=At);return e}(r.type_),r.stopClick_=!!e.stopClick,r.minPoints_=e.minPoints?e.minPoints:r.mode_===kt?3:2,r.maxPoints_=e.maxPoints?e.maxPoints:1/0,r.finishCondition_=e.finishCondition?e.finishCondition:v.uX;var i,o=e.geometryFunction;if(!o)if(r.type_===xt.Z.CIRCLE)o=function(t,e,r){var n=e||new bt.default([NaN,NaN]),i=(0,ut.fromUserCoordinate)(t[0],r),o=(0,m.squaredDistance)(i,(0,ut.fromUserCoordinate)(t[1],r));n.setCenterAndRadius(i,Math.sqrt(o));var a=(0,ut.getUserProjection)();return a&&n.transform(r,a),n};else{var s,u=r.mode_;u===It?s=Tt.Z:u===Lt?s=wt.Z:u===kt&&(s=L.ZP),o=function(t,e,r){var n=e;return n?u===kt?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new s(t),n}}return r.geometryFunction_=o,r.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,r.overlay_=new Pt.Z({source:new Ot.Z({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(i=(0,Mt.Ly)(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),r.geometryName_=e.geometryName,r.condition_=e.condition?e.condition:y.noModifierKeys,r.freehandCondition_,e.freehand?r.freehandCondition_=y.always:r.freehandCondition_=e.freehandCondition?e.freehandCondition:y.shiftKeyOnly,r.addEventListener((0,a.v_)(l),r.updateState_),r}return Rt(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===q.Z.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==It&&this.freehandCondition_(e);var r=e.type===o.Z.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&e.type===o.Z.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===o.Z.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===o.Z.POINTERDOWN?n=!1:r?(n=e.type===o.Z.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(e):("mouse"==e.pointerEvent.pointerType||e.type===o.Z.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===o.Z.DBLCLICK&&(n=!1),t.prototype.handleEvent.call(this,e)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new _t.Z(o.Z.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var r=this.mode_===At;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate):(this.startDrawing_(t),this.mode_===It&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,r=t.pixel,n=e[0]-r[0],i=e[1]-r[1],o=n*n+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var r=!1,n=[this.finishCoordinate_];if(this.mode_===Lt)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===kt){var i=this.sketchCoords_;r=i[0].length>this.minPoints_,n=[i[0][0],i[0][i[0].length-2]]}if(r)for(var o=t.map,a=0,s=n.length;a<s;a++){var l=n[a],u=o.getPixelFromCoordinate(l),c=t.pixel,h=c[0]-u[0],p=c[1]-u[1],d=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+p*p)<=d){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new vt.default(new Tt.Z(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate,r=t.map.getView().getProjection();this.finishCoordinate_=e,this.mode_===It?this.sketchCoords_=e.slice():this.mode_===kt?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new vt.default(new wt.Z(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,r);this.sketchFeature_=new vt.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Zt(Ft,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,r,n,i=t.coordinate,o=this.sketchFeature_.getGeometry(),a=t.map.getView().getProjection();(this.mode_===It?r=this.sketchCoords_:this.mode_===kt?(r=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(i=this.finishCoordinate_.slice())):r=(e=this.sketchCoords_)[e.length-1],r[0]=i[0],r[1]=i[1],this.geometryFunction_(this.sketchCoords_,o,a),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(i);if(o.getType()==xt.Z.POLYGON&&this.mode_!==kt){this.sketchLine_||(this.sketchLine_=new vt.default);var s=o.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),n.changed()):(n=new wt.Z(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,r,n=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===Lt?(this.finishCoordinate_=t.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(t.slice()),this.geometryFunction_(r,n,i)):this.mode_===kt&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(t.slice()),e&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,n,i)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===Lt?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e,r),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===kt&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,r)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,r=t.getGeometry(),n=this.getMap().getView().getProjection();this.mode_===Lt?(e.pop(),this.geometryFunction_(e,r,n)):this.mode_===kt&&(e[0].pop(),this.geometryFunction_(e,r,n),e=r.getCoordinates()),this.type_===xt.Z.MULTI_POINT?t.setGeometry(new Ct.Z([e])):this.type_===xt.Z.MULTI_LINE_STRING?t.setGeometry(new Et.Z([e])):this.type_===xt.Z.MULTI_POLYGON&&t.setGeometry(new St.Z([e])),this.dispatchEvent(new Zt(Nt,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.appendCoordinates=function(t){var e=this.mode_,r=[];e===Lt?r=this.sketchCoords_:e===kt&&(r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]);for(var n=r.pop(),i=0;i<t.length;i++)this.addToDrawing_(t[i]);this.addToDrawing_(n)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new Zt(Ft,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(w);var Dt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gt="extentchanged",zt=function(t){function e(e){var r=t.call(this,Gt)||this;return r.extent=e,r}return Dt(e,t),e}(R.ZP);function Ut(){var t=(0,Mt.Ly)();return function(e,r){return t[xt.Z.POINT]}}function Bt(t){return function(e){return(0,M.boundingExtent)([t,e])}}function qt(t,e){return t[0]==e[0]?function(r){return(0,M.boundingExtent)([t,[r[0],e[1]]])}:t[1]==e[1]?function(r){return(0,M.boundingExtent)([t,[e[0],r[1]]])}:null}const Vt=function(t){function e(e){var r,n=this,i=e||{};return(n=t.call(this,i)||this).extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,e||(e={}),n.extentOverlay_=new Pt.Z({source:new Ot.Z({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:(r=(0,Mt.Ly)(),function(t,e){return r[xt.Z.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new Pt.Z({source:new Ot.Z({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:Ut(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&n.setExtent(e.extent),n}return Dt(e,t),e.prototype.snapToVertex_=function(t,e){var r=e.getCoordinateFromPixelInternal(t),n=this.getExtentInternal();if(n){var i=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(n);i.sort((function(t,e){return(0,m.squaredDistanceToSegment)(r,t)-(0,m.squaredDistanceToSegment)(r,e)}));var o=i[0],a=(0,m.closestOnSegment)(r,o),s=e.getPixelFromCoordinateInternal(a);if((0,m.distance)(t,s)<=this.pixelTolerance_){var l=e.getPixelFromCoordinateInternal(o[0]),u=e.getPixelFromCoordinateInternal(o[1]),c=(0,m.squaredDistance)(s,l),h=(0,m.squaredDistance)(s,u),p=Math.sqrt(Math.min(c,h));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(a=c>h?o[1]:o[0]),a}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,r=t.map,n=this.snapToVertex_(e,r);n||(n=r.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(n)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry((0,L.oJ)(t)):e.setGeometry(void 0):(e=t?new vt.default((0,L.oJ)(t)):new vt.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new vt.default(new Tt.Z(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=o.Z.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,r=t.map,n=this.getExtentInternal(),i=this.snapToVertex_(e,r),o=function(t){var e=null,r=null;return t[0]==n[0]?e=n[2]:t[0]==n[2]&&(e=n[0]),t[1]==n[1]?r=n[3]:t[1]==n[3]&&(r=n[1]),null!==e&&null!==r?[e,r]:null};if(i&&n){var a=i[0]==n[0]||i[0]==n[2]?i[0]:null,s=i[1]==n[1]||i[1]==n[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=Bt(o(i)):null!==a?this.pointerHandler_=qt(o([a,n[1]]),o([a,n[3]])):null!==s&&(this.pointerHandler_=qt(o([n[0],s]),o([n[2],s])))}else i=r.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=Bt(i);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==(0,M.getArea)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return(0,ut.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())},e.prototype.getExtentInternal=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new zt(this.extent_))},e}(w);var Yt=r(19579),Wt=r(48625),Xt=r(26060),Ht=r(4712),Kt=r(68135),Jt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$t=[0,0,0,0],Qt=[],te="modifystart",ee="modifyend",re=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.features=r,i.mapBrowserEvent=n,i}return Jt(e,t),e}(R.ZP);function ne(t,e){return t.index-e.index}function ie(t,e,r){var n=e.geometry;if(n.getType()===xt.Z.CIRCLE){var i=n;if(1===e.index){var o=(0,m.squaredDistance)(i.getCenter(),t),a=Math.sqrt(o)-i.getRadius();return a*a}}var s=(0,ut.fromUserCoordinate)(t,r);return Qt[0]=(0,ut.fromUserCoordinate)(e.segment[0],r),Qt[1]=(0,ut.fromUserCoordinate)(e.segment[1],r),(0,m.squaredDistanceToSegment)(s,Qt)}function oe(t,e,r){var n=e.geometry;if(n.getType()===xt.Z.CIRCLE&&1===e.index)return n.getClosestPoint(t);var i=(0,ut.fromUserCoordinate)(t,r);return Qt[0]=(0,ut.fromUserCoordinate)(e.segment[0],r),Qt[1]=(0,ut.fromUserCoordinate)(e.segment[1],r),(0,ut.toUserCoordinate)((0,m.closestOnSegment)(i,Qt),r)}const ae=function(t){function e(e){var r,i,o=t.call(this,e)||this;if(o.boundHandleFeatureChange_=o.handleFeatureChange_.bind(o),o.condition_=e.condition?e.condition:y.primaryAction,o.defaultDeleteCondition_=function(t){return(0,y.altKeyOnly)(t)&&(0,y.singleClick)(t)},o.deleteCondition_=e.deleteCondition?e.deleteCondition:o.defaultDeleteCondition_,o.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:y.always,o.vertexFeature_=null,o.vertexSegments_=null,o.lastPixel_=[0,0],o.ignoreNextSingleClick_=!1,o.modified_=!1,o.rBush_=new Kt.Z,o.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,o.snappedToVertex_=!1,o.changingFeature_=!1,o.dragSegments_=[],o.overlay_=new Pt.Z({source:new Ot.Z({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(r=(0,Mt.Ly)(),function(t,e){return r[xt.Z.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),o.SEGMENT_WRITERS_={Point:o.writePointGeometry_.bind(o),LineString:o.writeLineStringGeometry_.bind(o),LinearRing:o.writeLineStringGeometry_.bind(o),Polygon:o.writePolygonGeometry_.bind(o),MultiPoint:o.writeMultiPointGeometry_.bind(o),MultiLineString:o.writeMultiLineStringGeometry_.bind(o),MultiPolygon:o.writeMultiPolygonGeometry_.bind(o),Circle:o.writeCircleGeometry_.bind(o),GeometryCollection:o.writeGeometryCollectionGeometry_.bind(o)},o.source_=null,e.source?(o.source_=e.source,i=new n.default(o.source_.getFeatures()),o.source_.addEventListener(Ht.Z.ADDFEATURE,o.handleSourceAdd_.bind(o)),o.source_.addEventListener(Ht.Z.REMOVEFEATURE,o.handleSourceRemove_.bind(o))):i=e.features,!i)throw new Error("The modify interaction requires features or a source");return o.features_=i,o.features_.forEach(o.addFeature_.bind(o)),o.features_.addEventListener(Wt.Z.ADD,o.handleFeatureAdd_.bind(o)),o.features_.addEventListener(Wt.Z.REMOVE,o.handleFeatureRemove_.bind(o)),o.lastPointerEvent_=null,o}return Jt(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var r=this.SEGMENT_WRITERS_[e.getType()];r&&r(t,e)}var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),t.addEventListener(q.Z.CHANGE,this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new re(te,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(q.Z.CHANGE,this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,r=[];e.forEach((function(e){t===e.feature&&r.push(e)}));for(var n=r.length-1;n>=0;--n){for(var i=r[n],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);e.remove(i)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),n={feature:t,geometry:e,segment:[r,r]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:t,geometry:e,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:t,geometry:e,index:n,segment:o};this.rBush_.insert((0,M.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[n],index:a,segment:l};this.rBush_.insert((0,M.boundingExtent)(l),u)}},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[n],index:a,segment:l};this.rBush_.insert((0,M.boundingExtent)(l),u)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),p={feature:t,geometry:e,depth:[a,n],index:u,segment:h};this.rBush_.insert((0,M.boundingExtent)(h),p)}},e.prototype.writeCircleGeometry_=function(t,e){var r=e.getCenter(),n={feature:t,geometry:e,index:0,segment:[r,r]},i={feature:t,geometry:e,index:1,segment:[r,r]},o=[n,i];n.featureSegments=o,i.featureSegments=o,this.rBush_.insert((0,M.createOrUpdateFromCoordinate)(r),n),this.rBush_.insert(e.getExtent(),i)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),n=0;n<r.length;++n){var i=r[n];(0,this.SEGMENT_WRITERS_[i.getType()])(t,i)}},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new vt.default(new Tt.Z(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=o.Z.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(r=!(e.type!=o.Z.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==o.Z.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!r);var r},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,r=0,n=this.dragSegments_.length;r<n;++r){for(var i=this.dragSegments_[r],o=i[0],a=o.depth,s=o.geometry,l=void 0,u=o.segment,c=i[1];e.length<s.getStride();)e.push(u[c][e.length]);switch(s.getType()){case xt.Z.POINT:l=e,u[0]=e,u[1]=e;break;case xt.Z.MULTI_POINT:(l=s.getCoordinates())[o.index]=e,u[0]=e,u[1]=e;break;case xt.Z.LINE_STRING:(l=s.getCoordinates())[o.index+c]=e,u[c]=e;break;case xt.Z.MULTI_LINE_STRING:case xt.Z.POLYGON:(l=s.getCoordinates())[a[0]][o.index+c]=e,u[c]=e;break;case xt.Z.MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][o.index+c]=e,u[c]=e;break;case xt.Z.CIRCLE:u[0]=e,u[1]=e,0===o.index?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius((0,m.distance)(s.getCenter(),e)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var n=t.map.getView().getProjection(),i=[],o=r.getGeometry().getCoordinates(),a=(0,M.boundingExtent)([o]),s=this.rBush_.getInExtent(a),l={};s.sort(ne);for(var u=0,c=s.length;u<c;++u){var h=s[u],p=h.segment,d=(0,Yt.sq)(h.feature),f=h.depth;if(f&&(d+="-"+f.join("-")),l[d]||(l[d]=new Array(2)),h.geometry.getType()!==xt.Z.CIRCLE||1!==h.index)if(!(0,m.equals)(p[0],o)||l[d][0])if(!(0,m.equals)(p[1],o)||l[d][1])(0,Yt.sq)(p)in this.vertexSegments_&&!l[d][0]&&!l[d][1]&&this.insertVertexCondition_(t)&&i.push([h,o]);else{if((h.geometry.getType()===xt.Z.LINE_STRING||h.geometry.getType()===xt.Z.MULTI_LINE_STRING)&&l[d][0]&&0===l[d][0].index)continue;this.dragSegments_.push([h,1]),l[d][1]=h}else this.dragSegments_.push([h,0]),l[d][0]=h;else{var g=oe(e,h,n);(0,m.equals)(g,o)&&!l[d][0]&&(this.dragSegments_.push([h,0]),l[d][0]=h)}}i.length&&this.willModifyFeatures_(t);for(var y=i.length-1;y>=0;--y)this.insertVertex_.apply(this,i[y])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var r=this.dragSegments_[e][0],n=r.geometry;if(n.getType()===xt.Z.CIRCLE){var i=n.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update((0,M.createOrUpdateFromCoordinate)(i),o),this.rBush_.update(n.getExtent(),a)}else this.rBush_.update((0,M.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new re(ee,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},e.prototype.handlePointerAtPixel_=function(t,e,r){var n=r||e.getCoordinateFromPixel(t),i=e.getView().getProjection(),o=(0,ut.fromUserExtent)((0,M.createOrUpdateFromCoordinate)(n,$t),i),a=e.getView().getResolution()*this.pixelTolerance_,s=(0,ut.toUserExtent)((0,M.buffer)(o,a,$t),i),l=this.rBush_.getInExtent(s);if(l.length>0){l.sort((function(t,e){return ie(n,t,i)-ie(n,e,i)}));var u=l[0],c=u.segment,h=oe(n,u,i),p=e.getPixelFromCoordinate(h),d=(0,m.distance)(t,p);if(d<=this.pixelTolerance_){var f={};if(u.geometry.getType()===xt.Z.CIRCLE&&1===u.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h);else{var g=e.getPixelFromCoordinate(c[0]),y=e.getPixelFromCoordinate(c[1]),v=(0,m.squaredDistance)(p,g),_=(0,m.squaredDistance)(p,y);d=Math.sqrt(Math.min(v,_)),this.snappedToVertex_=d<=this.pixelTolerance_,this.snappedToVertex_&&(h=v>_?c[1]:c[0]),this.createOrUpdateVertexFeature_(h);for(var b=1,x=l.length;b<x;++b){var w=l[b].segment;if(!((0,m.equals)(c[0],w[0])&&(0,m.equals)(c[1],w[1])||(0,m.equals)(c[0],w[1])&&(0,m.equals)(c[1],w[0])))break;f[(0,Yt.sq)(w)]=!0}}return f[(0,Yt.sq)(c)]=!0,void(this.vertexSegments_=f)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var r,n=t.segment,i=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case xt.Z.MULTI_LINE_STRING:case xt.Z.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case xt.Z.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case xt.Z.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,r);var l=this.rBush_;l.remove(t),this.updateSegmentIndices_(o,s,a,1);var u={segment:[n[0],e],feature:i,geometry:o,depth:a,index:s};l.insert((0,M.boundingExtent)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[e,n[1]],feature:i,geometry:o,depth:a,index:s+1};l.insert((0,M.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=o.Z.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t);var e=this.removeVertex_();return this.dispatchEvent(new re(ee,this.features_,t)),this.modified_=!1,e}return!1},e.prototype.removeVertex_=function(){var t,e,r,n,i,o,a,s,l,u,c,h=this.dragSegments_,p={},d=!1;for(i=h.length-1;i>=0;--i)u=(r=h[i])[0],c=(0,Yt.sq)(u.feature),u.depth&&(c+="-"+u.depth.join("-")),c in p||(p[c]={}),0===r[1]?(p[c].right=u,p[c].index=u.index):1==r[1]&&(p[c].left=u,p[c].index=u.index+1);for(c in p){switch(l=p[c].right,a=p[c].left,(s=(o=p[c].index)-1)<0&&(s=0),t=e=(n=(u=void 0!==a?a:l).geometry).getCoordinates(),d=!1,n.getType()){case xt.Z.MULTI_LINE_STRING:e[u.depth[0]].length>2&&(e[u.depth[0]].splice(o,1),d=!0);break;case xt.Z.LINE_STRING:e.length>2&&(e.splice(o,1),d=!0);break;case xt.Z.MULTI_POLYGON:t=t[u.depth[1]];case xt.Z.POLYGON:(t=t[u.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),d=!0,0===o&&(t.pop(),t.push(t[0]),s=t.length-1))}if(d){this.setGeometryCoordinates_(n,e);var f=[];if(void 0!==a&&(this.rBush_.remove(a),f.push(a.segment[0])),void 0!==l&&(this.rBush_.remove(l),f.push(l.segment[1])),void 0!==a&&void 0!==l){var g={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,segment:f};this.rBush_.insert((0,M.boundingExtent)(g.segment),g)}this.updateSegmentIndices_(n,o,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return d},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,r,n){this.rBush_.forEachInExtent(t.getExtent(),(function(i){i.geometry===t&&(void 0===r||void 0===i.depth||(0,Xt.fS)(i.depth,r))&&i.index>e&&(i.index+=n)}))},e}(w);var se=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),le="select",ue=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.selected=r,o.deselected=n,o.mapBrowserEvent=i,o}return se(e,t),e}(R.ZP);function ce(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),r=this.removeCondition_(t),n=this.toggleCondition_(t),i=!e&&!r&&!n,o=t.map,a=this.getFeatures(),s=[],l=[];if(i){(0,_.ZH)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return l.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var u=a.getLength()-1;u>=0;--u){var c=a.item(u),h=l.indexOf(c);h>-1?l.splice(h,1):(a.remove(c),s.push(c))}0!==l.length&&a.extend(l)}else{o.forEachFeatureAtPixel(t.pixel,function(t,i){if(this.filter_(t,i))return!e&&!n||(0,Xt.q9)(a.getArray(),t)?(r||n)&&(0,Xt.q9)(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(l.push(t),this.addFeatureLayerAssociation_(t,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new ue(le,l,s,t)),!0}const he=function(t){function e(e){var r,i,o=t.call(this,{handleEvent:ce})||this,a=e||{};if(o.condition_=a.condition?a.condition:y.singleClick,o.addCondition_=a.addCondition?a.addCondition:y.never,o.removeCondition_=a.removeCondition?a.removeCondition:y.never,o.toggleCondition_=a.toggleCondition?a.toggleCondition:y.shiftKeyOnly,o.multi_=!!a.multi&&a.multi,o.filter_=a.filter?a.filter:v.uX,o.hitTolerance_=a.hitTolerance?a.hitTolerance:0,o.style_=void 0!==a.style?a.style:(r=(0,Mt.Ly)(),(0,Xt.l7)(r[xt.Z.POLYGON],r[xt.Z.LINE_STRING]),(0,Xt.l7)(r[xt.Z.GEOMETRY_COLLECTION],r[xt.Z.LINE_STRING]),function(t){return t.getGeometry()?r[t.getGeometry().getType()]:null}),o.featureStyleAssociation_={},o.features_=a.features||new n.default,a.layers)if("function"==typeof a.layers)i=a.layers;else{var s=a.layers;i=function(t){return(0,Xt.q9)(s,t)}}else i=v.uX;o.layerFilter_=i,o.featureLayerAssociation_={};var l=o.getFeatures();return l.addEventListener(Wt.Z.ADD,o.addFeature_.bind(o)),l.addEventListener(Wt.Z.REMOVE,o.removeFeature_.bind(o)),o}return se(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,Yt.sq)(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,Yt.sq)(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.removeSelectedStyle_.bind(this)),t.prototype.setMap.call(this,e),e&&this.style_&&this.features_.forEach(this.giveSelectedStyle_.bind(this))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.giveSelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.removeSelectedStyle_(e)},e.prototype.giveSelectedStyle_=function(t){var e=(0,Yt.sq)(t);this.featureStyleAssociation_[e]=t.getStyle(),t.setStyle(this.style_)},e.prototype.removeSelectedStyle_=function(t){var e=(0,Yt.sq)(t);t.setStyle(this.featureStyleAssociation_[e]),delete this.featureStyleAssociation_[e]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,Yt.sq)(t)]},e}(p);var pe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function de(t){return t.feature?t.feature:t.element?t.element:void 0}var fe=[];const ge=function(t){function e(e){var r=this,n=e||{},i=n;return i.handleDownEvent||(i.handleDownEvent=v.uX),i.stopDown||(i.stopDown=v.Dv),(r=t.call(this,i)||this).source_=n.source?n.source:null,r.vertex_=void 0===n.vertex||n.vertex,r.edge_=void 0===n.edge||n.edge,r.features_=n.features?n.features:null,r.featuresListenerKeys_=[],r.featureChangeListenerKeys_={},r.indexedFeaturesExtents_={},r.pendingFeatures_={},r.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,r.rBush_=new Kt.Z,r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r)},r}return pe(e,t),e.prototype.addFeature=function(t,e){var r=void 0===e||e,n=(0,Yt.sq)(t),i=t.getGeometry();if(i){var o=this.SEGMENT_WRITERS_[i.getType()];o&&(this.indexedFeaturesExtents_[n]=i.getExtent((0,M.createEmpty)()),o(t,i))}r&&(this.featureChangeListenerKeys_[n]=(0,lt.oL)(t,q.Z.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var r=this.snapTo(e.pixel,e.coordinate,e.map);return r.snapped&&(e.coordinate=r.vertex.slice(0,2),e.pixel=r.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=de(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=de(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var r=(0,Yt.sq)(e);r in this.pendingFeatures_||(this.pendingFeatures_[r]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=(0,_.KX)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var r=void 0===e||e,n=(0,Yt.sq)(t),i=this.indexedFeaturesExtents_[n];if(i){var o=this.rBush_,a=[];o.forEachInExtent(i,(function(e){t===e.feature&&a.push(e)}));for(var s=a.length-1;s>=0;--s)o.remove(a[s])}r&&((0,lt.bN)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},e.prototype.setMap=function(e){var r=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();r&&(n.forEach(lt.bN),n.length=0,i.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?n.push((0,lt.oL)(this.features_,Wt.Z.ADD,this.handleFeatureAdd_,this),(0,lt.oL)(this.features_,Wt.Z.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,lt.oL)(this.source_,Ht.Z.ADDFEATURE,this.handleFeatureAdd_,this),(0,lt.oL)(this.source_,Ht.Z.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,r){var n=r.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),i=r.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=(0,M.boundingExtent)([n,i]),a=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(a=a.filter((function(t){return t.feature.getGeometry().getType()!==xt.Z.CIRCLE})));var s=!1,l=null,u=null;if(0===a.length)return{snapped:s,vertex:l,vertexPixel:u};for(var c,h=r.getView().getProjection(),p=(0,ut.fromUserCoordinate)(e,h),d=1/0,f=0;f<a.length;++f){var g=a[f];fe[0]=(0,ut.fromUserCoordinate)(g.segment[0],h),fe[1]=(0,ut.fromUserCoordinate)(g.segment[1],h);var y=(0,m.squaredDistanceToSegment)(p,fe);y<d&&(c=g,d=y)}var v=c.segment;if(this.vertex_&&!this.edge_){var _=r.getPixelFromCoordinate(v[0]),b=r.getPixelFromCoordinate(v[1]),x=(0,m.squaredDistance)(t,_),w=(0,m.squaredDistance)(t,b);Math.sqrt(Math.min(x,w))<=this.pixelTolerance_&&(s=!0,l=x>w?v[1]:v[0],u=r.getPixelFromCoordinate(l))}else if(this.edge_){var E=c.feature.getGeometry().getType()===xt.Z.CIRCLE;if(E?l=(0,m.closestOnCircle)(e,c.feature.getGeometry()):(fe[0]=(0,ut.fromUserCoordinate)(v[0],h),fe[1]=(0,ut.fromUserCoordinate)(v[1],h),l=(0,ut.toUserCoordinate)((0,m.closestOnSegment)(p,fe),h)),u=r.getPixelFromCoordinate(l),(0,m.distance)(t,u)<=this.pixelTolerance_&&(s=!0,this.vertex_&&!E)){_=r.getPixelFromCoordinate(v[0]),b=r.getPixelFromCoordinate(v[1]),x=(0,m.squaredDistance)(u,_),w=(0,m.squaredDistance)(u,b);Math.sqrt(Math.min(x,w))<=this.pixelTolerance_&&(l=x>w?v[1]:v[0],u=r.getPixelFromCoordinate(l))}}return s&&(u=[Math.round(u[0]),Math.round(u[1])]),{snapped:s,vertex:l,vertexPixel:u}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var r=(0,L.Bb)(e).getCoordinates()[0],n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:t,segment:o};this.rBush_.insert((0,M.boundingExtent)(o),a)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),n=0;n<r.length;++n){var i=this.SEGMENT_WRITERS_[r[n].getType()];i&&i(t,r[n])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:t,segment:o};this.rBush_.insert((0,M.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,segment:l};this.rBush_.insert((0,M.boundingExtent)(l),u)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),p={feature:t,segment:h};this.rBush_.insert((0,M.boundingExtent)(h),p)}},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),n={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,segment:l};this.rBush_.insert((0,M.boundingExtent)(l),u)}},e}(w);var me=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye="translatestart",ve="translating",_e="translateend",be=function(t){function e(e,r,n,i,o){var a=t.call(this,e)||this;return a.features=r,a.coordinate=n,a.startCoordinate=i,a.mapBrowserEvent=o,a}return me(e,t),e}(R.ZP);const xe=function(t){function e(e){var r,n=this,i=e||{};if((n=t.call(this,i)||this).lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)r=i.layers;else{var o=i.layers;r=function(t){return(0,Xt.q9)(o,t)}}else r=v.uX;return n.layerFilter_=r,n.filter_=i.filter?i.filter:v.uX,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.lastFeature_=null,n.addEventListener((0,a.v_)(l),n.handleActiveChanged_),n}return me(e,t),e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new n.default([this.lastFeature_]);return this.dispatchEvent(new be(ye,e,t.coordinate,this.startCoordinate_,t)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new n.default([this.lastFeature_]);return this.dispatchEvent(new be(_e,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,r=e[0]-this.lastCoordinate_[0],i=e[1]-this.lastCoordinate_[1],o=this.features_||new n.default([this.lastFeature_]);o.forEach((function(t){var e=t.getGeometry();e.translate(r,i),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new be(ve,o,e,this.startCoordinate_,t))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||(0,Xt.q9)(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(r)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(w);function we(t){var e=t||{},r=new n.default,o=new i.Z(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&r.push(new O),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&r.push(new g({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&r.push(new S({condition:e.onFocusOnly?y.focus:void 0,kinetic:o})),(void 0===e.pinchRotate||e.pinchRotate)&&r.push(new ot),(void 0===e.pinchZoom||e.pinchZoom)&&r.push(new st({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(r.push(new J),r.push(new tt({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&r.push(new nt({condition:e.onFocusOnly?y.focus:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&r.push(new B({duration:e.zoomDuration})),r}},23964:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Group:()=>i.default,Heatmap:()=>ct,Image:()=>ht.Z,Layer:()=>pt.Z,Tile:()=>dt.default,Vector:()=>s.Z,VectorImage:()=>Et,VectorTile:()=>Ct.default});var n,i=r(38964),o=r(10906),a=r(77713),s=r(26692),l=r(25529),u=r(19664),c=34962,h=34963,p=35048,d=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function f(t,e){for(var r=d.length,n=0;n<r;++n)try{var i=t.getContext(d[n],e);if(i)return i}catch(t){}return null}var g=r(15989),m=35044,y=function(){function t(t,e){this.array=null,this.type=t,(0,g.h)(t===c||t===h,62),this.usage=void 0!==e?e:m}return t.prototype.ofSize=function(t){this.array=new(v(this.type))(t)},t.prototype.fromArray=function(t){this.array=v(this.type).from(t)},t.prototype.fromArrayBuffer=function(t){this.array=new(v(this.type))(t)},t.prototype.getType=function(){return this.type},t.prototype.getArray=function(){return this.array},t.prototype.getUsage=function(){return this.usage},t.prototype.getSize=function(){return this.array?this.array.length:0},t}();function v(t){switch(t){case c:return Float32Array;case h:return Uint32Array;default:return Float32Array}}const _=y;var b=r(19579),x=r(85763);const w="webglcontextlost",E="webglcontextrestored";var C=r(3657);function S(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const T=function(){function t(t){this.gl_=t.webGlContext;var e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(r);var n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),e.compileShader(n),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,r),e.attachShader(this.renderTargetProgram_,n),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(r){this.uniforms_.push({value:t.uniforms[r],location:e.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return t.prototype.getGL=function(){return this.gl_},t.prototype.init=function(t){var e=this.getGL(),r=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;var n=e.RGBA,i=e.RGBA,o=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,0,n,r[0],r[1],0,i,o,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}},t.prototype.apply=function(t,e){var r=this.getGL(),n=t.size;r.bindFramebuffer(r.FRAMEBUFFER,e?e.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,n[0],n[1]),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(t),r.drawArrays(r.TRIANGLES,0,6)},t.prototype.getFrameBuffer=function(){return this.frameBuffer_},t.prototype.applyUniforms=function(t){var e,r=this.getGL(),n=1;this.uniforms_.forEach((function(i){if((e="function"==typeof i.value?i.value(t):i.value)instanceof HTMLCanvasElement||e instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),e instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,e.width,e.height,0,r.UNSIGNED_BYTE,new Uint8Array(e.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),r.uniform1i(i.location,n++);else if(Array.isArray(e))switch(e.length){case 2:return void r.uniform2f(i.location,e[0],e[1]);case 3:return void r.uniform3f(i.location,e[0],e[1],e[2]);case 4:return void r.uniform4f(i.location,e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&r.uniform1f(i.location,e)}))},t}();var P,O=r(26060),M=(P=function(t,e){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},P(t,e)},function(t,e){function r(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),R="u_projectionMatrix",I="u_offsetScaleMatrix",L="u_offsetRotateMatrix",k="u_time",A="u_zoom",F="u_resolution",N={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126},Z=function(t){function e(e){var r=t.call(this)||this,i=e||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=f(r.canvas_);var o=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,(0,g.h)((0,O.q9)(function(){if(!n){var t=f(document.createElement("canvas"));t&&(n=t.getSupportedExtensions())}return n}(),"OES_element_index_uint"),63),o.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(w,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(E,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=(0,C.Ue)(),r.offsetScaleMatrix_=(0,C.Ue)(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],i.uniforms)for(var a in i.uniforms)r.uniforms_.push({name:a,value:i.uniforms[a]});return r.postProcessPasses_=i.postProcesses?i.postProcesses.map((function(t){return new T({webGlContext:o,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})})):[new T({webGlContext:o})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return M(e,t),e.prototype.bindBuffer=function(t){var e=this.getGL(),r=(0,b.sq)(t),n=this.bufferCache_[r];n||(n={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[r]=n);e.bindBuffer(t.getType(),n.webGlBuffer)},e.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},e.prototype.deleteBuffer=function(t){var e=this.getGL(),r=(0,b.sq)(t),n=this.bufferCache_[r];e.isContextLost()||e.deleteBuffer(n.buffer),delete this.bufferCache_[r]},e.prototype.disposeInternal=function(){this.canvas_.removeEventListener(w,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(E,this.boundHandleWebGLContextRestored_)},e.prototype.prepareDraw=function(t){var e=this.getGL(),r=this.getCanvas(),n=t.size,i=t.pixelRatio;r.width=n[0]*i,r.height=n[1]*i,r.style.width=n[0]+"px",r.style.height=n[1]+"px",e.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(t);e.bindTexture(e.TEXTURE_2D,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.prepareDrawToRenderTarget=function(t,e,r){var n=this.getGL(),i=e.getSize();n.bindFramebuffer(n.FRAMEBUFFER,e.getFramebuffer()),n.viewport(0,0,i[0],i[1]),n.bindTexture(n.TEXTURE_2D,e.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.drawElements=function(t,e){var r=this.getGL(),n=r.UNSIGNED_INT,i=e-t,o=4*t;r.drawElements(r.TRIANGLES,i,n,o)},e.prototype.finalizeDraw=function(t){for(var e=0;e<this.postProcessPasses_.length;e++)this.postProcessPasses_[e].apply(t,this.postProcessPasses_[e+1]||null)},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.applyFrameState=function(t){var e=t.size,r=t.viewState.rotation,n=(0,C.mc)(this.offsetScaleMatrix_);(0,C.bA)(n,2/e[0],2/e[1]);var i=(0,C.mc)(this.offsetRotateMatrix_);0!==r&&(0,C.U1)(i,-r),this.setUniformMatrixValue(I,S(this.tmpMat4_,n)),this.setUniformMatrixValue(L,S(this.tmpMat4_,i)),this.setUniformFloatValue(k,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(A,t.viewState.zoom),this.setUniformFloatValue(F,t.viewState.resolution)},e.prototype.applyUniforms=function(t){var e,r=this.getGL(),n=0;this.uniforms_.forEach(function(i){if((e="function"==typeof i.value?i.value(t):i.value)instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(e instanceof HTMLImageElement)||e.complete)&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),r.uniform1i(this.getUniformLocation(i.name),n++);else if(Array.isArray(e)&&6===e.length)this.setUniformMatrixValue(i.name,S(this.tmpMat4_,e));else if(Array.isArray(e)&&e.length<=4)switch(e.length){case 2:return void r.uniform2f(this.getUniformLocation(i.name),e[0],e[1]);case 3:return void r.uniform3f(this.getUniformLocation(i.name),e[0],e[1],e[2]);case 4:return void r.uniform4f(this.getUniformLocation(i.name),e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&r.uniform1f(this.getUniformLocation(i.name),e)}.bind(this))},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0)},e.prototype.compileShader=function(t,e){var r=this.getGL(),n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n},e.prototype.getProgram=function(t,e){var r=this.getGL(),n=this.compileShader(t,r.FRAGMENT_SHADER),i=this.compileShader(e,r.VERTEX_SHADER);this.shaderCompileErrors_=null,r.getShaderInfoLog(n)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+r.getShaderInfoLog(n)),r.getShaderInfoLog(i)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+"Vertex shader compilation failed:\n"+r.getShaderInfoLog(i));var o=r.createProgram();return r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),o},e.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_},e.prototype.getUniformLocation=function(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},e.prototype.getAttributeLocation=function(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},e.prototype.makeProjectionTransform=function(t,e){var r=t.size,n=t.viewState.rotation,i=t.viewState.resolution,o=t.viewState.center;return(0,C.mc)(e),(0,C.qC)(e,0,0,2/(i*r[0]),2/(i*r[1]),-n,-o[0],-o[1]),e},e.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},e.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},e.prototype.enableAttributeArray_=function(t,e,r,n,i){var o=this.getAttributeLocation(t);o<0||(this.getGL().enableVertexAttribArray(o),this.getGL().vertexAttribPointer(o,e,r,!1,n,i))},e.prototype.enableAttributes=function(t){for(var e=function(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];e+=n.size*j(n.type)}return e}(t),r=0,n=0;n<t.length;n++){var i=t[n];this.enableAttributeArray_(i.name,i.size,i.type||5126,e,r),r+=i.size*j(i.type)}},e.prototype.handleWebGLContextLost=function(){(0,u.ZH)(this.bufferCache_),this.currentProgram_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.createTexture=function(t,e,r){var n=this.getGL(),i=r||n.createTexture(),o=n.RGBA,a=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,i),e?n.texImage2D(n.TEXTURE_2D,0,o,a,s,e):n.texImage2D(n.TEXTURE_2D,0,o,t[0],t[1],0,a,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i},e}(x.Z);function j(t){switch(t){case N.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case N.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case N.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case N.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}const D=Z;var G=r(42050),z=r(17444),U=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B="GENERATE_BUFFERS",q=function(t){function e(e,r){var n=t.call(this,e)||this,i=r||{};return n.helper=new D({postProcesses:i.postProcesses,uniforms:i.uniforms}),n}return U(e,t),e.prototype.disposeInternal=function(){this.helper.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()},e}(z.Z);function V(t,e){var r=e||[],n=256,i=255;return r[0]=Math.floor(t/n/n/n)/i,r[1]=Math.floor(t/n/n)%n/i,r[2]=Math.floor(t/n)%n/i,r[3]=t%n/i,r}const Y=q;var W=r(54468),X=r(2309),H=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),K=URL.createObjectURL(H);var J=new Uint8Array(4);const $=function(){function t(t,e){this.helper_=t;var r=t.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return t.prototype.setSize=function(t){(0,O.fS)(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())},t.prototype.getSize=function(){return this.size_},t.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},t.prototype.readAll=function(){if(this.dataCacheDirty_){var t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},t.prototype.readPixel=function(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return J[0]=0,J[1]=0,J[2]=0,J[3]=0,J;this.readAll();var r=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return J[0]=this.data_[4*r],J[1]=this.data_[4*r+1],J[2]=this.data_[4*r+2],J[3]=this.data_[4*r+3],J},t.prototype.getTexture=function(){return this.texture_},t.prototype.getFramebuffer=function(){return this.framebuffer_},t.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},t}();var Q=r(67429),tt=r(53732),et=r(4712),rt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nt=function(t){function e(e,r){var n=this,i=r.uniforms||{},o=(0,C.Ue)();i[R]=o,(n=t.call(this,e,{uniforms:i,postProcesses:r.postProcesses})||this).sourceRevision_=-1,n.verticesBuffer_=new _(c,p),n.hitVerticesBuffer_=new _(c,p),n.indicesBuffer_=new _(h,p),n.program_=n.helper.getProgram(r.fragmentShader,r.vertexShader),n.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(r.hitFragmentShader,r.hitVertexShader);var a=r.attributes?r.attributes.map((function(t){return{name:"a_"+t.name,size:1,type:N.FLOAT}})):[];n.attributes=[{name:"a_position",size:2,type:N.FLOAT},{name:"a_index",size:1,type:N.FLOAT}].concat(a),n.hitDetectionAttributes=[{name:"a_position",size:2,type:N.FLOAT},{name:"a_index",size:1,type:N.FLOAT},{name:"a_hitColor",size:4,type:N.FLOAT},{name:"a_featureUid",size:1,type:N.FLOAT}].concat(a),n.customAttributes=r.attributes?r.attributes:[],n.previousExtent_=(0,X.createEmpty)(),n.currentTransform_=o,n.renderTransform_=(0,C.Ue)(),n.invertRenderTransform_=(0,C.Ue)(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new $(n.helper),n.worker_=new Worker(K),n.worker_.addEventListener("message",function(t){var e=t.data;if(e.type===B){var r=e.projectionTransform;e.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,(0,C.nb)(this.invertRenderTransform_,this.renderTransform_),e.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):this.renderInstructions_=new Float32Array(t.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var s=n.getLayer().getSource();return n.sourceListenKeys_=[(0,tt.oL)(s,et.Z.ADDFEATURE,n.handleSourceFeatureAdded_,n),(0,tt.oL)(s,et.Z.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),(0,tt.oL)(s,et.Z.REMOVEFEATURE,n.handleSourceFeatureDelete_,n)],s.forEachFeature(function(t){this.featureCache_[(0,b.sq)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}.bind(n)),n}return rt(e,t),e.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[(0,b.sq)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},e.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[(0,b.sq)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},e.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[(0,b.sq)(e)],this.featureCount_--},e.prototype.renderFrame=function(t){var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e),this.helper.finalizeDraw(t);var r=this.helper.getCanvas(),n=t.layerStatesArray[t.layerIndex].opacity;return n!==parseFloat(r.style.opacity)&&(r.style.opacity=n),this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),r},e.prototype.prepareFrame=function(t){var e=this.getLayer(),r=e.getSource(),n=t.viewState,i=!t.viewHints[W.Z.ANIMATING]&&!t.viewHints[W.Z.INTERACTING],o=!(0,X.equals)(this.previousExtent_,t.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),i&&(o||a)){var s=n.projection,l=n.resolution,u=e instanceof Q.Z?e.getRenderBuffer():0,c=(0,X.buffer)(t.extent,u*l);r.loadFeatures(c,l,s),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),(0,C.Jp)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},e.prototype.rebuildBuffers_=function(t){var e=(0,C.Ue)();this.helper.makeProjectionTransform(t,e);var r,n,i=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===o||(this.hitRenderInstructions_=new Float32Array(o))}var a,s=[],l=[],u=0,c=0;for(var h in this.featureCache_)if((n=(r=this.featureCache_[h]).geometry)&&n.getType()===G.Z.POINT){s[0]=n.getFlatCoordinates()[0],s[1]=n.getFlatCoordinates()[1],(0,C.nn)(e,s),a=V(c+6,l),this.renderInstructions_[u++]=s[0],this.renderInstructions_[u++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=s[0],this.hitRenderInstructions_[c++]=s[1],this.hitRenderInstructions_[c++]=a[0],this.hitRenderInstructions_[c++]=a[1],this.hitRenderInstructions_[c++]=a[2],this.hitRenderInstructions_[c++]=a[3],this.hitRenderInstructions_[c++]=Number(h));for(var p=void 0,d=0;d<this.customAttributes.length;d++)p=this.customAttributes[d].callback(r.feature,r.properties),this.renderInstructions_[u++]=p,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=p)}var f={type:B,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(f.projectionTransform=e,this.worker_.postMessage(f,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var g={type:B,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};g.projectionTransform=e,g.hitDetection=!0,this.worker_.postMessage(g,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i){if((0,g.h)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var o=(0,C.nn)(e.coordinateToPixelTransform,t.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),s=function(t){var e=0,r=256,n=255;return e+=Math.round(t[0]*r*r*r*n),e+=Math.round(t[1]*r*r*n),e+=Math.round(t[2]*r*n),e+Math.round(t[3]*n)}([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),l=this.hitRenderInstructions_[s],u=Math.floor(l).toString(),c=this.getLayer().getSource().getFeatureByUid(u);return c?n(c,this.getLayer()):void 0}},e.prototype.renderHitDetection=function(t){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},e.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){(0,tt.bN)(t)})),this.sourceListenKeys_=null,t.prototype.disposeInternal.call(this)},e}(Y);const it=nt;var ot=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),at="blur",st="gradient",lt="radius",ut=["#00f","#0ff","#0f0","#ff0","#f00"];const ct=function(t){function e(e){var r=this,n=e||{},i=(0,u.f0)({},n);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,(r=t.call(this,i)||this).gradient_=null,r.addEventListener((0,o.v_)(st),r.handleGradientChanged_),r.setGradient(n.gradient?n.gradient:ut),r.setBlur(void 0!==n.blur?n.blur:15),r.setRadius(void 0!==n.radius?n.radius:8);var a=n.weight?n.weight:"weight";return r.weightFunction_="string"==typeof a?function(t){return t.get(a)}:a,r.setRenderOrder(null),r}return ot(e,t),e.prototype.getBlur=function(){return this.get(at)},e.prototype.getGradient=function(){return this.get(st)},e.prototype.getRadius=function(){return this.get(lt)},e.prototype.handleGradientChanged_=function(){this.gradient_=function(t){for(var e=1,r=256,n=(0,a.E4)(e,r),i=n.createLinearGradient(0,0,e,r),o=1/(t.length-1),s=0,l=t.length;s<l;++s)i.addColorStop(s*o,t[s]);return n.fillStyle=i,n.fillRect(0,0,e,r),n.canvas}(this.getGradient())},e.prototype.setBlur=function(t){this.set(at,t)},e.prototype.setGradient=function(t){this.set(st,t)},e.prototype.setRadius=function(t){this.set(lt,t)},e.prototype.createRenderer=function(){return new it(this,{attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return void 0!==e?(0,l.uZ)(e,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(lt)+this.get(at))}.bind(this),u_blurSlope:function(){return this.get(lt)/Math.max(1,this.get(at))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},e}(s.Z);var ht=r(68750),pt=r(57379),dt=r(94286),ft=r(22352),gt=r(42842),mt=r(48474),yt=r(21092),vt=r(92472),_t=r(29643),bt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const xt=function(t){function e(e){var r=t.call(this,e)||this;return r.vectorRenderer_=new mt.Z(e),r.layerImageRatio_=e.getImageRatio(),r.coordinateToVectorPixelTransform_=(0,C.Ue)(),r.renderedPixelToCoordinateTransform_=null,r}return bt(e,t),e.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getFeatures=function(t){if(this.vectorRenderer_){var e=(0,C.nn)(this.coordinateToVectorPixelTransform_,(0,C.nn)(this.renderedPixelToCoordinateTransform_,t.slice()));return this.vectorRenderer_.getFeatures(e)}return new Promise((function(t,e){t([])}))},e.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},e.prototype.prepareFrame=function(t){var e=t.pixelRatio,r=t.viewState,n=r.resolution,i=t.viewHints,o=this.vectorRenderer_,a=t.extent;1!==this.layerImageRatio_&&(a=a.slice(0),(0,X.scaleFromCenter)(a,this.layerImageRatio_));var s=(0,X.getWidth)(a)/n,l=(0,X.getHeight)(a)/n;if(!i[W.Z.ANIMATING]&&!i[W.Z.INTERACTING]&&!(0,X.isEmpty)(a)){o.useContainer(null,null,1);var c=o.context,h=(0,u.f0)({},t,{declutterItems:[],extent:a,size:[s,l],viewState:(0,u.f0)({},t.viewState,{rotation:0})}),p=new ft.Z(a,n,e,c.canvas,(function(t){o.prepareFrame(h)&&o.replayGroupChanged&&(o.renderFrame(h,null),(0,_t.renderDeclutterItems)(h,null),t())}));p.addEventListener(yt.Z.CHANGE,function(){p.getState()===vt.Z.LOADED&&(this.image_=p)}.bind(this)),p.load()}if(this.image_){var d=this.image_,f=d.getResolution()*e/d.getPixelRatio();this.renderedResolution=f,this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.coordinateToVectorPixelTransform_=(0,C.qC)(this.coordinateToVectorPixelTransform_,s/2,l/2,1/f,-1/f,0,-r.center[0],-r.center[1])}return!!this.image_},e.prototype.preRender=function(){},e.prototype.postRender=function(){},e.prototype.forEachFeatureAtCoordinate=function(e,r,n,i,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,r,n,i,o):t.prototype.forEachFeatureAtCoordinate.call(this,e,r,n,i,o)},e}(gt.Z);var wt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Et=function(t){function e(e){var r=this,n=e||{},i=(0,u.f0)({},n);return delete i.imageRatio,(r=t.call(this,i)||this).imageRatio_=void 0!==n.imageRatio?n.imageRatio:1,r}return wt(e,t),e.prototype.getImageRatio=function(){return this.imageRatio_},e.prototype.createRenderer=function(){return new xt(this)},e}(Q.Z);var Ct=r(92184)},96066:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n,i=r(19579),o=r(10906),a=r(64583),s=r(25529),l=r(19664),u=r(15989),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const h=function(t){function e(e){var r=t.call(this)||this,n=(0,l.f0)({},e);return n[a.Z.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,u.h)("number"==typeof n[a.Z.OPACITY],64),n[a.Z.VISIBLE]=void 0===e.visible||e.visible,n[a.Z.Z_INDEX]=e.zIndex,n[a.Z.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[a.Z.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,n[a.Z.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,n[a.Z.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,r.className_=void 0!==n.className?e.className:"ol-layer",delete n.className,r.setProperties(n),r.state_=null,r}return c(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},r=this.getZIndex();return e.opacity=(0,s.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==r?r:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,i.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,i.O3)()},e.prototype.getExtent=function(){return this.get(a.Z.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(a.Z.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(a.Z.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(a.Z.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(a.Z.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(a.Z.OPACITY)},e.prototype.getSourceState=function(){return(0,i.O3)()},e.prototype.getVisible=function(){return this.get(a.Z.VISIBLE)},e.prototype.getZIndex=function(){return this.get(a.Z.Z_INDEX)},e.prototype.setExtent=function(t){this.set(a.Z.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(a.Z.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(a.Z.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(a.Z.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(a.Z.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){(0,u.h)("number"==typeof t,64),this.set(a.Z.OPACITY,t)},e.prototype.setVisible=function(t){this.set(a.Z.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(a.Z.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(o.ZP)},67429:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,i=r(57379),o=r(19664),a=r(57911),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l="renderOrder";const u=function(t){function e(e){var r=this,n=e||{},i=(0,o.f0)({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(r=t.call(this,i)||this).declutter_=void 0!==n.declutter&&n.declutter,r.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(n.style),r.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,r.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,r}return s(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(l)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(l,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.yF,this.styleFunction_=null===t?void 0:(0,a.J$)(this.style_),this.changed()},e}(i.Z)},38964:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>v});var n,i=r(19579),o=r(17850),a=r(48625),s=r(10906),l=r(27332),u=r(15989),c=r(53732),h=r(21092),p=r(2309),d=r(96066),f=r(19664),g=r(42587),m=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y="layers";const v=function(t){function e(e){var r=this,n=e||{},i=(0,f.f0)({},n);delete i.layers;var a=n.layers;return(r=t.call(this,i)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener((0,s.v_)(y),r.handleLayersChanged_),a?Array.isArray(a)?a=new o.default(a.slice(),{unique:!0}):(0,u.h)("function"==typeof a.getArray,43):a=new o.default(void 0,{unique:!0}),r.setLayers(a),r}return m(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,c.oL)(t,a.Z.ADD,this.handleLayersAdd_,this),(0,c.oL)(t,a.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(c.bN);(0,f.ZH)(this.listenerKeys_);for(var r=t.getArray(),n=0,o=r.length;n<o;n++){var s=r[n];this.listenerKeys_[(0,i.sq)(s)]=[(0,c.oL)(s,l.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,c.oL)(s,h.Z.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,i.sq)(e)]=[(0,c.oL)(e,l.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,c.oL)(e,h.Z.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,r=(0,i.sq)(e);this.listenerKeys_[r].forEach(c.bN),delete this.listenerKeys_[r],this.changed()},e.prototype.getLayers=function(){return this.get(y)},e.prototype.setLayers=function(t){this.set(y,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],r=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var n=this.getLayerState(),i=r,o=e.length;i<o;i++){var a=e[i];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=(0,p.getIntersection)(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return g.Z.READY},e}(d.Z)},68750:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,i=r(57379),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e){var r=e||{};return t.call(this,r)||this}return o(e,t),e}(i.Z);var s=r(42842),l=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const u=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.createRenderer=function(){return new s.Z(this)},e}(a)},57379:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g,j:()=>f});var n,i=r(53732),o=r(21092),a=r(10906),s=r(96066),l=r(64583),u=r(19664),c=r(17616),h=r(42587),p=r(15989),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function f(t,e){if(!t.visible)return!1;var r=e.resolution;if(r<t.minResolution||r>=t.maxResolution)return!1;var n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}const g=function(t){function e(e){var r=this,n=(0,u.f0)({},e);delete n.source,(r=t.call(this,n)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,e.render&&(r.render=e.render),e.map&&r.setMap(e.map),r.addEventListener((0,a.v_)(l.Z.SOURCE),r.handleSourcePropertyChange_);var i=e.source?e.source:null;return r.setSource(i),r}return d(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(l.Z.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.Z.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,i.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,i.oL)(t,o.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var r=this.getRenderer();if(r.prepareFrame(t))return r.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,i.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,i.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,i.oL)(t,c.Z.PRECOMPOSE,(function(t){var e=t.frameState.layerStatesArray,r=this.getLayerState(!1);(0,p.h)(!e.some((function(t){return t.layer===r.layer})),67),e.push(r)}),this),this.mapRenderKey_=(0,i.oL)(this,o.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(l.Z.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(s.Z)},64583:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},94286:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n,i=r(57379),o=r(54206),a=r(19664),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const l=function(t){function e(e){var r=this,n=e||{},i=(0,a.f0)({},n);return delete i.preload,delete i.useInterimTilesOnError,(r=t.call(this,i)||this).setPreload(void 0!==n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return s(e,t),e.prototype.getPreload=function(){return this.get(o.Z.PRELOAD)},e.prototype.setPreload=function(t){this.set(o.Z.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.Z.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.Z.USE_INTERIM_TILES_ON_ERROR,t)},e}(i.Z);var u=r(58581),c=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const h=function(t){function e(e){return t.call(this,e)||this}return c(e,t),e.prototype.createRenderer=function(){return new u.Z(this)},e}(l)},54206:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},26692:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n,i=r(67429),o=r(48474),a=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new o.Z(this)},e}(i.Z)},92184:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>R});var n=r(15989),i=r(54206),o=r(67429);const a="image",s="hybrid",l="vector";var u,c=r(19579),h=r(66702),p=r(54468),d=r(53732),f=r(21092),g=r(2309),m=r(38325),y=r(60486),v=r(58581),_=r(18581),b=r(5168),x=r(3657),w=r(55044),E=r(19664),C=r(17624),S=(u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},u(t,e)},function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),T={image:[m.Z.POLYGON,m.Z.CIRCLE,m.Z.LINE_STRING,m.Z.IMAGE,m.Z.TEXT],hybrid:[m.Z.POLYGON,m.Z.LINE_STRING],vector:[]},P={image:[m.Z.DEFAULT],hybrid:[m.Z.IMAGE,m.Z.TEXT,m.Z.DEFAULT],vector:[m.Z.POLYGON,m.Z.CIRCLE,m.Z.LINE_STRING,m.Z.IMAGE,m.Z.TEXT,m.Z.DEFAULT]};const O=function(t){function e(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.renderTileImageQueue_={},r.tileListenerKeys_={},r.tmpTransform_=(0,x.Ue)(),r}return S(e,t),e.prototype.prepareTile=function(t,e,r,n){var i,o=(0,c.sq)(t),a=t.getState();return(a===h.Z.LOADED&&t.hifi||a===h.Z.ERROR)&&o in this.tileListenerKeys_&&((0,d.bN)(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),a!==h.Z.LOADED&&a!==h.Z.ERROR||(this.updateExecutorGroup_(t,e,r),this.tileImageNeedsRender_(t,e,r)&&(i=!0,n&&(this.renderTileImageQueue_[o]=t))),i},e.prototype.getTile=function(e,r,n,i){var o=i.pixelRatio,a=i.viewState,s=a.resolution,u=a.projection,g=this.getLayer(),m=g.getSource().getTile(e,r,n,o,u);if(m.getState()<h.Z.LOADED){m.wantedResolution=s;var y=(0,c.sq)(m);if(!(y in this.tileListenerKeys_)){var v=(0,d.oL)(m,f.Z.CHANGE,this.prepareTile.bind(this,m,o,u,!0));this.tileListenerKeys_[y]=v}}else{var _=i.viewHints;!!(_[p.Z.ANIMATING]||_[p.Z.INTERACTING])&&m.wantedResolution||(m.wantedResolution=s),this.prepareTile(m,o,u,!1)&&g.getRenderMode()!==l&&this.renderTileImage_(m,i)}return t.prototype.getTile.call(this,e,r,n,i)},e.prototype.isDrawableTile=function(e){var r=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&r.getRenderMode()===l||e.hasContext(r)},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,r){var n=this.getLayer(),i=n.getRevision(),o=n.getRenderOrder()||null,a=t.wantedResolution,s=t.getReplayState(n);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=i||s.renderedRenderOrder!=o||s.renderedZ!==t.sourceZ){var u=n.getSource(),p=u.getTileGrid(),d=u.getTileGridForProjection(r).getTileCoordExtent(t.wrappedTileCoord),f=u.getSourceTiles(e,r,t),m=(0,c.sq)(n);delete t.hitDetectionImageData[m],t.executorGroups[m]=[];for(var v=function(r,i){var c=f[r];if(c.getState()!=h.Z.LOADED)return"continue";var v=c.tileCoord,x=p.getTileCoordExtent(v),E=(0,g.getIntersection)(d,x),C=(0,g.equals)(x,E)?null:(0,g.buffer)(E,n.getRenderBuffer()*a,_.tmpExtent);s.dirty=!1;var S=new y.Z(0,E,a,e,n.getDeclutter()),T=(0,b.se)(a,e),P=function(t){var e,r=t.getStyleFunction()||n.getStyleFunction();if(r&&(e=r(t,a)),e){var i=this.renderFeature(t,T,e,S);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},O=c.getFeatures();o&&o!==s.renderedRenderOrder&&O.sort(o);for(var M=0,R=O.length;M<R;++M){var I=O[M];C&&!(0,g.intersects)(C,I.getGeometry().getExtent())||P.call(_,I)}var L=S.finish(),k=n.getRenderMode()!==l&&n.getDeclutter()&&1===f.length?null:E,A=new w.ZP(k,a,e,u.getOverlaps(),L,n.getRenderBuffer());t.executorGroups[m].push(A)},_=this,x=0,E=f.length;x<E;++x)v(x);s.renderedRevision=i,s.renderedZ=t.sourceZ,s.renderedRenderOrder=o,s.renderedResolution=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i){var o=e.viewState.resolution,a=e.viewState.rotation;r=null==r?0:r;var s,l,u,h=this.getLayer(),p=h.getDeclutter(),d=h.getSource().getTileGridForProjection(e.viewState.projection),f={},m=this.renderedTiles,y=function(){var e=m[l],u=d.getTileCoordExtent(e.wrappedTileCoord),y=(0,g.containsCoordinate)(u,t);if(!p&&!y)return"continue";for(var v=e.executorGroups[(0,c.sq)(h)],_=0,b=v.length;_<b;++_){var x=v[_];s=s||x.forEachFeatureAtCoordinate(t,o,a,r,(function(t){if(y||i&&-1!==i.indexOf(t)){var e=t.getId();if(void 0===e&&(e=(0,c.sq)(t)),!(e in f))return f[e]=!0,n(t,h)}}),h.getDeclutter()?i:null)}};for(l=0,u=m.length;l<u;++l)y();return s},e.prototype.getFeatures=function(t){return new Promise(function(e,r){for(var n,i=this.getLayer(),o=(0,c.sq)(i),a=i.getSource(),s=this.renderedProjection,l=s.getExtent(),u=this.renderedResolution,p=a.getTileGridForProjection(s),d=(0,x.nn)(this.renderedPixelToCoordinateTransform_,t.slice()),f=p.getTileCoordForCoordAndResolution(d,u),m=0,y=this.renderedTiles.length;m<y;++m)if(f.toString()===this.renderedTiles[m].tileCoord.toString()){if((n=this.renderedTiles[m]).getState()===h.Z.LOADED&&n.hifi){var v=p.getTileCoordExtent(n.tileCoord);if(a.getWrapX()&&s.canWrapX()&&!(0,g.containsExtent)(l,v)){var b=(0,g.getWidth)(l),w=Math.floor((d[0]-l[0])/b);d[0]-=w*b}break}n=void 0}if(!n||n.loadingSourceTiles>0)e([]);else{var E=p.getTileCoordExtent(n.wrappedTileCoord),S=(0,g.getTopLeft)(E),T=[(d[0]-S[0])/u,(S[1]-d[1])/u],P=n.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),O=n.hitDetectionImageData[o];if(!O&&!this.animatingOrInteracting_){var M=(0,_.Pq)(p.getTileSize(p.getZForResolution(u))),R=[M[0]/2,M[1]/2],I=this.renderedRotation_,L=[this.getRenderTransform(p.getTileCoordCenter(n.wrappedTileCoord),u,0,.5,R[0],R[1],0)];O=(0,C.T)(M,L,P,i.getStyleFunction(),p.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(i).renderedResolution,I),n.hitDetectionImageData[o]=O}e((0,C.i)(T,P,O))}}.bind(this))},e.prototype.handleFontsChanged=function(){(0,E.ZH)(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderFrame=function(e,r){var n=e.viewHints,i=!(n[p.Z.ANIMATING]||n[p.Z.INTERACTING]);this.renderQueuedTileImages_(i,e),t.prototype.renderFrame.call(this,e,r),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var o=this.getLayer(),s=o.getRenderMode();if(s===a)return this.container;var l=o.getSource(),u=e.usedTiles[(0,c.sq)(l)];for(var h in this.renderTileImageQueue_)u&&h in u||delete this.renderTileImageQueue_[h];for(var d=this.context,f=o.getDeclutter()?{}:null,g=P[s],m=e.pixelRatio,y=e.viewState,v=y.center,_=y.resolution,b=y.rotation,E=e.size,C=Math.round(E[0]*m),S=Math.round(E[1]*m),T=this.renderedTiles,O=l.getTileGridForProjection(e.viewState.projection),M=[],R=[],I=T.length-1;I>=0;--I)for(var L=T[I],k=L.tileCoord,A=O.getTileCoordExtent(L.wrappedTileCoord),F=O.getTileCoordExtent(k,this.tmpExtent)[0]-A[0],N=(0,x.Jp)((0,x.bA)(this.inversePixelTransform.slice(),1/m,1/m),this.getRenderTransform(v,_,b,m,C,S,F)),Z=L.executorGroups[(0,c.sq)(o)],j=!1,D=0,G=Z.length;D<G;++D){var z=Z[D];if(z.hasExecutors(g)){var U=L.tileCoord[0],B=void 0;if(!f&&!j){B=z.getClipCoords(N),d.save();for(var q=0,V=M.length;q<V;++q){var Y=M[q];U<R[q]&&(d.beginPath(),d.moveTo(B[0],B[1]),d.lineTo(B[2],B[3]),d.lineTo(B[4],B[5]),d.lineTo(B[6],B[7]),d.moveTo(Y[6],Y[7]),d.lineTo(Y[4],Y[5]),d.lineTo(Y[2],Y[3]),d.lineTo(Y[0],Y[1]),d.clip())}}z.execute(d,N,b,i,g,f),f||j||(d.restore(),M.push(B),R.push(U),j=!0)}}if(f){var W=e.layerStatesArray[e.layerIndex];(0,w.SK)(f,d,b,W.opacity,i,e.declutterItems)}return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var r in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var n=this.renderTileImageQueue_[r];delete this.renderTileImageQueue_[r],this.renderTileImage_(n,e)}},e.prototype.renderFeature=function(t,e,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)i=(0,b.Pn)(n,t,r[o],e,this.boundHandleStyleImageChange_)||i;else i=(0,b.Pn)(n,t,r,e,this.boundHandleStyleImageChange_);return i},e.prototype.tileImageNeedsRender_=function(t,e,r){var n=this.getLayer(),i=t.getReplayState(n),o=n.getRevision(),a=t.sourceZ,s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o||i.renderedTileZ!==a},e.prototype.renderTileImage_=function(t,e){var r=this.getLayer(),n=t.getReplayState(r),i=r.getRevision(),o=t.executorGroups[(0,c.sq)(r)];n.renderedTileRevision=i,n.renderedTileZ=t.sourceZ;var a=t.wrappedTileCoord,s=a[0],l=r.getSource(),u=e.pixelRatio,h=e.viewState.projection,p=l.getTileGridForProjection(h),d=p.getResolution(t.tileCoord[0]),f=e.pixelRatio/t.wantedResolution*d,g=p.getResolution(s),m=t.getContext(r);u=Math.max(u,f/u);var y=l.getTilePixelSize(s,u,h);m.canvas.width=y[0],m.canvas.height=y[1];var v=u/f;if(1!==v){var _=(0,x.mc)(this.tmpTransform_);(0,x.bA)(_,v,v),m.setTransform.apply(m,_)}var b=p.getTileCoordExtent(a,this.tmpExtent),w=f/g,E=(0,x.mc)(this.tmpTransform_);(0,x.bA)(E,w,-w),(0,x.Iu)(E,-b[0],-b[3]);for(var C=0,S=o.length;C<S;++C){o[C].execute(m,E,0,!0,T[r.getRenderMode()])}n.renderedTileResolution=t.wantedResolution},e}(v.Z);var M=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const R=function(t){function e(e){var r=this,i=e||{},o=(0,E.f0)({},i);delete o.preload,delete o.useInterimTilesOnError,r=t.call(this,o)||this;var u=i.renderMode||s;return(0,n.h)(null==u||u==a||u==s||u==l,28),r.renderMode_=u,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),r}return M(e,t),e.prototype.createRenderer=function(){return new O(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(i.Z.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(i.Z.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(i.Z.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(i.Z.USE_INTERIM_TILES_ON_ERROR,t)},e}(o.Z)},44235:(t,e,r)=>{"use strict";function n(t,e){return[[-1/0,-1/0,1/0,1/0]]}function i(t,e){return[t]}function o(t){return function(e,r){var n=t.getZForResolution(r),i=t.getTileRangeForExtentAndZ(e,n),o=[],a=[n,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}r.r(e),r.d(e,{all:()=>n,bbox:()=>i,tile:()=>o})},25529:(t,e,r)=>{"use strict";function n(t,e,r){return Math.min(Math.max(t,e),r)}r.d(e,{$W:()=>c,SV:()=>s,Ux:()=>l,Yr:()=>u,bI:()=>a,f9:()=>i,rU:()=>o,t7:()=>h,uZ:()=>n});var i="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,r,n,i,o){var s=i-r,l=o-n;if(0!==s||0!==l){var u=((t-r)*s+(e-n)*l)/(s*s+l*l);u>1?(r=i,n=o):u>0&&(r+=s*u,n+=l*u)}return a(t,e,r,n)}function a(t,e,r,n){var i=r-t,o=n-e;return i*i+o*o}function s(t){for(var e=t.length,r=0;r<e;r++){for(var n=r,i=Math.abs(t[r][r]),o=r+1;o<e;o++){var a=Math.abs(t[o][r]);a>i&&(i=a,n=o)}if(0===i)return null;var s=t[n];t[n]=t[r],t[r]=s;for(var l=r+1;l<e;l++)for(var u=-t[l][r]/t[r][r],c=r;c<e+1;c++)r==c?t[l][c]=0:t[l][c]+=u*t[r][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var d=p-1;d>=0;d--)t[d][e]-=t[d][p]*h[p]}return h}function l(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function c(t,e){var r=t%e;return r*e<0?r+e:r}function h(t,e,r){return t+r*(e-t)}},35241:(t,e,r)=>{"use strict";r.d(e,{R:()=>i});var n=r(19579);function i(t,e,r,i){var o=document.createElement("script"),a="olc_"+(0,n.sq)(e);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+a;var l=setTimeout((function(){s(),r&&r()}),1e4);window[a]=function(t){clearTimeout(l),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)}},19664:(t,e,r)=>{"use strict";r.d(e,{KX:()=>o,ZH:()=>i,f0:()=>n,xb:()=>a});var n="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function i(t){for(var e in t)delete t[e]}var o="function"==typeof Object.values?Object.values:function(t){var e=[];for(var r in t)e.push(t[r]);return e};function a(t){var e;for(e in t)return!1;return!e}},87090:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},93558:(t,e,r)=>{"use strict";r.r(e),r.d(e,{METERS_PER_UNIT:()=>l.W,Projection:()=>s.default,addCommon:()=>tt,addCoordinateTransforms:()=>N,addEquivalentProjections:()=>I,addEquivalentTransforms:()=>L,addProjection:()=>P,addProjections:()=>O,clearAllProjections:()=>k,clearUserProjection:()=>W,cloneTransform:()=>S,createProjection:()=>A,createTransformFromCoordinateTransform:()=>F,equivalent:()=>D,fromLonLat:()=>Z,fromUserCoordinate:()=>J,fromUserExtent:()=>Q,get:()=>M,getPointResolution:()=>R,getTransform:()=>z,getTransformFromProjections:()=>G,getUserProjection:()=>X,identityTransform:()=>T,setUserProjection:()=>Y,toLonLat:()=>j,toUserCoordinate:()=>K,toUserExtent:()=>$,transform:()=>U,transformExtent:()=>B,transformWithProjections:()=>q,useGeographic:()=>H});var n,i=r(37023),o=r(2309),a=r(25529),s=r(78162),l=r(35696),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=6378137,h=Math.PI*c,p=[-h,-h,h,h],d=[-180,-85,180,85],f=function(t){function e(e){return t.call(this,{code:e,units:l.Z.METERS,extent:p,global:!0,worldExtent:d,getPointResolution:function(t,e){return t/(0,a.f9)(e[1]/c)}})||this}return u(e,t),e}(s.default),g=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function m(t,e,r){var n=t.length,i=r>1?r:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(n));for(var a=h,s=0;s<n;s+=i){o[s]=a*t[s]/180;var l=c*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function y(t,e,r){var n=t.length,i=r>1?r:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(n));for(var a=0;a<n;a+=i)o[a]=180*t[a]/h,o[a+1]=360*Math.atan(Math.exp(t[a+1]/c))/Math.PI-90;return o}var v=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=[-180,-90,180,90],b=6378137*Math.PI/180,x=function(t){function e(e,r){return t.call(this,{code:e,units:l.Z.DEGREES,extent:_,axisOrientation:r,global:!0,metersPerUnit:b,worldExtent:_})||this}return v(e,t),e}(s.default),w=[new x("CRS:84"),new x("EPSG:4326","neu"),new x("urn:ogc:def:crs:EPSG::4326","neu"),new x("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new x("urn:ogc:def:crs:OGC:1.3:CRS84"),new x("urn:ogc:def:crs:OGC:2:84"),new x("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new x("urn:x-ogc:def:crs:EPSG:4326","neu")],E=r(37503),C={};function S(t,e,r){var n;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];n=e}else n=t.slice();return n}function T(t,e,r){if(void 0!==e&&t!==e){for(var n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function P(t){!function(t,e){C[t]=e}(t.getCode(),t),(0,E.IH)(t,t,S)}function O(t){t.forEach(P)}function M(t){return"string"==typeof t?C[t]||null:t||null}function R(t,e,r,n){var o,a=(t=M(t)).getPointResolutionFunc();if(a)o=a(e,r),n&&n!==t.getUnits()&&(s=t.getMetersPerUnit())&&(o=o*s/l.W[n]);else if(t.getUnits()==l.Z.DEGREES&&!n||n==l.Z.DEGREES)o=e;else{var s,u=G(t,M("EPSG:4326")),c=[r[0]-e/2,r[1],r[0]+e/2,r[1],r[0],r[1]-e/2,r[0],r[1]+e/2];c=u(c,c,2),o=((0,i.getDistance)(c.slice(0,2),c.slice(2,4))+(0,i.getDistance)(c.slice(4,6),c.slice(6,8)))/2,void 0!==(s=n?l.W[n]:t.getMetersPerUnit())&&(o/=s)}return o}function I(t){O(t),t.forEach((function(e){t.forEach((function(t){e!==t&&(0,E.IH)(e,t,S)}))}))}function L(t,e,r,n){t.forEach((function(t){e.forEach((function(e){(0,E.IH)(t,e,r),(0,E.IH)(e,t,n)}))}))}function k(){C={},(0,E.ZH)()}function A(t,e){return t?"string"==typeof t?M(t):t:M(e)}function F(t){return function(e,r,n){for(var i=e.length,o=void 0!==n?n:2,a=void 0!==r?r:new Array(i),s=0;s<i;s+=o){var l=t([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=e[s+u]}return a}}function N(t,e,r,n){var i=M(t),o=M(e);(0,E.IH)(i,o,F(r)),(0,E.IH)(o,i,F(n))}function Z(t,e){return U(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function j(t,e){var r=U(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=(0,a.$W)(n+180,360)-180),r}function D(t,e){if(t===e)return!0;var r=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||G(t,e)===S)&&r}function G(t,e){var r=t.getCode(),n=e.getCode(),i=(0,E.U2)(r,n);return i||(i=T),i}function z(t,e){return G(M(t),M(e))}function U(t,e,r){return z(e,r)(t,void 0,t.length)}function B(t,e,r){var n=z(e,r);return(0,o.applyTransform)(t,n)}function q(t,e,r){return G(e,r)(t)}var V=null;function Y(t){V=M(t)}function W(){V=null}function X(){return V}function H(){Y("EPSG:4326")}function K(t,e){return V?U(t,e,V):t}function J(t,e){return V?U(t,V,e):t}function $(t,e){return V?B(t,e,V):t}function Q(t,e){return V?B(t,V,e):t}function tt(){I(g),I(w),L(w,g,m,y)}tt()},78162:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(35696);const i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.W[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}()},35696:(t,e,r)=>{"use strict";r.d(e,{W:()=>i,Z:()=>o});var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[n.DEGREES]=2*Math.PI*6370997/360,i[n.FEET]=.3048,i[n.METERS]=1,i[n.USFEET]=1200/3937;const o=n},42527:(t,e,r)=>{"use strict";r.r(e),r.d(e,{register:()=>a});var n=r(93558),i=r(37503),o=r(78162);function a(t){var e,r,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var l=a[e];if(!(0,n.get)(l)){var u=t.defs(l);(0,n.addProjection)(new o.default({code:l,axisOrientation:u.axis,metersPerUnit:u.to_meter,units:u.units}))}}for(e=0;e<s;++e){var c=a[e],h=(0,n.get)(c);for(r=0;r<s;++r){var p=a[r],d=(0,n.get)(p);if(!(0,i.U2)(c,p))if(t.defs[c]===t.defs[p])(0,n.addEquivalentProjections)([h,d]);else{var f=t(c,p);(0,n.addCoordinateTransforms)(h,d,f.forward,f.inverse)}}}}},37503:(t,e,r)=>{"use strict";r.d(e,{IH:()=>o,U2:()=>a,ZH:()=>i});var n={};function i(){n={}}function o(t,e,r){var i=t.getCode(),o=e.getCode();i in n||(n[i]={}),n[i][o]=r}function a(t,e){var r;return t in n&&e in n[t]&&(r=n[t][e]),r}},29643:(t,e,r)=>{"use strict";r.r(e),r.d(e,{getRenderPixel:()=>c,getVectorContext:()=>u,renderDeclutterItems:()=>h,toContext:()=>l});var n=r(98243),i=r(3657),o=r(92160),a=r(5168),s=r(93558);function l(t,e){var r=t.canvas,a=e||{},s=a.pixelRatio||n.MP,l=a.size;l&&(r.width=l[0]*s,r.height=l[1]*s,r.style.width=l[0]+"px",r.style.height=l[1]+"px");var u=[0,0,r.width,r.height],c=(0,i.bA)((0,i.Ue)(),s,s);return new o.Z(t,s,u,c,0)}function u(t){var e,r=t.frameState,n=(0,i.Jp)(t.inversePixelTransform.slice(),r.coordinateToPixelTransform),l=(0,a.se)(r.viewState.resolution,r.pixelRatio),u=(0,s.getUserProjection)();return u&&(e=(0,s.getTransformFromProjections)(u,r.viewState.projection)),new o.Z(t.context,r.pixelRatio,r.extent,n,r.viewState.rotation,l,e)}function c(t,e){var r=e.slice(0);return(0,i.nn)(t.inversePixelTransform.slice(),r),r}function h(t,e){e&&e.clear();for(var r=t.declutterItems,n=r.length-1;n>=0;--n)for(var i=r[n],o=i.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,e);return r.length=0,e}},51819:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n,i=r(22567),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.inversePixelTransform=r,o.frameState=n,o.context=i,o}return o(e,t),e}(i.ZP)},17616:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},15955:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(26060),i=r(2309),o=r(42050),a=r(77712),s=r(37641),l=r(46250),u=r(93558),c=r(3497),h=r(3657),p=(0,h.Ue)(),d=function(){function t(t,e,r,n,i){this.extent_,this.id_=i,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===o.Z.POINT?(0,i.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,i.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=(0,i.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,s.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=(0,a.E)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,s.U)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=(0,l.WW)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,r=this.ends_,i=0,o=r.length;i<o;++i){var a=r[i],s=(0,l.WW)(t,e,a,2,.5);(0,n.l7)(this.flatMidpoints_,s),e=a}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t,e){var r=(t=(0,u.get)(t)).getExtent(),n=t.getWorldExtent(),o=(0,i.getHeight)(n)/(0,i.getHeight)(r);(0,h.qC)(p,n[0],n[3],o,-o,0,0,0),(0,c.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,p,this.flatCoordinates_)},t}();d.prototype.getEnds=function(){return this.ends_},d.prototype.getEndss=d.prototype.getEnds,d.prototype.getFlatCoordinates=d.prototype.getOrientedFlatCoordinates;const f=d},50994:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(){}return t.prototype.drawCustom=function(t,e,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}()},21765:(t,e,r)=>{"use strict";r.d(e,{Df:()=>u,GK:()=>w,He:()=>d,Kd:()=>I,PH:()=>y,Qx:()=>O,Tx:()=>m,V4:()=>g,X9:()=>p,_f:()=>A,bL:()=>c,fk:()=>M,gs:()=>L,mb:()=>h,oB:()=>_,qs:()=>k,rc:()=>f,ru:()=>v,sG:()=>x,yC:()=>b});var n=r(17333),i=r(77713),o=r(19664),a=r(74810),s=r(10906),l=r(21131),u="10px sans-serif",c="#000",h="round",p=[],d=0,f="round",g=10,m="#000",y="center",v="middle",_=[0,0,0,0],b=1,x=new s.ZP,w=new l.Z;w.setSize=function(){console.warn("labelCache is deprecated.")};var E,C,S,T=null,P={},O=function(){var t,e,r="32px ",i=["monospace","serif"],a=i.length,s="wmytzilWMYTZIL@#/&?$%10";function l(t,n,o){for(var l=!0,u=0;u<a;++u){var c=i[u];if(e=R(t+" "+n+" "+r+c,s),o!=c){var h=R(t+" "+n+" "+r+o+","+c,s);l=l&&h!=e}}return!!l}function u(){for(var e=!0,r=x.getKeys(),n=0,i=r.length;n<i;++n){var a=r[n];x.get(a)<100&&(l.apply(this,a.split("\n"))?((0,o.ZH)(P),T=null,E=void 0,x.set(a,100)):(x.set(a,x.get(a)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var r=(0,n.p)(e);if(r)for(var i=r.families,o=0,a=i.length;o<a;++o){var s=i[o],c=r.style+"\n"+r.weight+"\n"+s;void 0===x.get(c)&&(x.set(c,100,!0),l(r.style,r.weight,s)||(x.set(c,0,!0),void 0===t&&(t=setInterval(u,32))))}}}(),M=(S=P,function(t){var e=S[t];return null==e&&(C||((C=document.createElement("div")).innerHTML="M",C.style.margin="0 !important",C.style.padding="0 !important",C.style.position="absolute !important",C.style.left="-99999px !important"),C.style.font=t,document.body.appendChild(C),e=C.offsetHeight,S[t]=e,document.body.removeChild(C)),e});function R(t,e){return T||(T=(0,i.E4)(1,1)),t!=E&&(T.font=t,E=T.font),T.measureText(e).width}function I(t,e,r){if(e in r)return r[e];var n=R(t,e);return r[e]=n,n}function L(t,e,r){for(var n=e.length,i=0,o=0;o<n;++o){var a=R(t,e[o]);i=Math.max(i,a),r.push(a)}return i}function k(t,e,r,n){0!==e&&(t.translate(r,n),t.rotate(e),t.translate(-r,-n))}function A(t,e,r,n,i,o,s,l,u,c,h){t.save(),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(u,c),t.scale(h,h),(0,a.L)(n,t)):t.drawImage(n,i,o,s,l,u,c,s*h,l*h),t.restore()}},95611:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(26060),o=r(40243),a=r(2309),s=r(14944),l=r(42050),u=r(19227),c=r(50994),h=r(21765),p=r(63386),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=r,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return d(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,r,n,i,o){var l=this.coordinates.length,u=this.getBufferedMaxExtent();o&&(e+=n);var c,h,p,d=t[e],f=t[e+1],g=this.tmpCoordinate_,m=!0;for(c=e+n;c<r;c+=n)g[0]=t[c],g[1]=t[c+1],(p=(0,a.coordinateRelationship)(u,g))!==h?(m&&(this.coordinates[l++]=d,this.coordinates[l++]=f),this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],m=!1):p===s.Z.INTERSECTING?(this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],m=!1):m=!0,d=g[0],f=g[1],h=p;return(i&&m||c===e+n)&&(this.coordinates[l++]=d,this.coordinates[l++]=f),l},e.prototype.drawCustomCoordinates_=function(t,e,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o],l=this.appendFlatCoordinates(t,e,s,n,!1,!1);i.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,r){this.beginGeometry(t,e);var n,i,o,a,s,c=t.getType(),h=t.getStride(),d=this.coordinates.length;if(c==l.Z.MULTI_POLYGON){n=t.getOrientedFlatCoordinates(),a=[];var f=t.getEndss();s=0;for(var g=0,m=f.length;g<m;++g){var y=[];s=this.drawCustomCoordinates_(n,s,f[g],h,y),a.push(y)}this.instructions.push([p.ZP.CUSTOM,d,a,t,r,u.ug])}else c==l.Z.POLYGON||c==l.Z.MULTI_LINE_STRING?(o=[],n=c==l.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,t.getEnds(),h,o),this.instructions.push([p.ZP.CUSTOM,d,o,t,r,u.o1])):c==l.Z.LINE_STRING||c==l.Z.MULTI_POINT?(n=t.getFlatCoordinates(),i=this.appendFlatCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([p.ZP.CUSTOM,d,i,t,r,u.Ml])):c==l.Z.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),i=this.coordinates.length,this.instructions.push([p.ZP.CUSTOM,d,i,t,r]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var r=t.getExtent();this.beginGeometryInstruction1_=[p.ZP.BEGIN_GEOMETRY,e,0,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[p.ZP.BEGIN_GEOMETRY,e,0,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var r,n,o=e.length,a=-1;for(t=0;t<o;++t)(n=(r=e[t])[0])==p.ZP.END_GEOMETRY?a=t:n==p.ZP.BEGIN_GEOMETRY&&(r[2]=t,(0,i.FZ)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var n=t.getColor();r.fillStyle=(0,o.y)(n||h.bL)}else r.fillStyle=void 0;if(e){var i=e.getColor();r.strokeStyle=(0,o.y)(i||h.Tx);var a=e.getLineCap();r.lineCap=void 0!==a?a:h.mb;var s=e.getLineDash();r.lineDash=s?s.slice():h.X9;var l=e.getLineDashOffset();r.lineDashOffset=l||h.He;var u=e.getLineJoin();r.lineJoin=void 0!==u?u:h.rc;var c=e.getWidth();r.lineWidth=void 0!==c?c:h.yC;var p=e.getMiterLimit();r.miterLimit=void 0!==p?p:h.V4,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,r=[p.ZP.SET_FILL_STYLE,e];return"string"!=typeof e&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[p.ZP.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,e){var r=t.strokeStyle,n=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,i.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=u)&&(void 0!==r&&e.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[p.ZP.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,a.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,a.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(c.Z)},60486:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n,i=r(2309),o=r(95611),a=r(63386),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const l=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return s(e,t),e.prototype.drawCoordinates_=function(t,e,r,n){return this.appendFlatCoordinates(t,e,r,n,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),n=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.ZP.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.ZP.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),n=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.ZP.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.ZP.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var r=t.getAnchor(),n=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=r[0],this.anchorY_=r[1],this.declutterGroups_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=n[0]},e}(o.Z);var u=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const c=function(t){function e(e,r,n,i){return t.call(this,e,r,n,i)||this}return u(e,t),e.prototype.drawFlatCoordinates_=function(t,e,r,n){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,r,n,!1,!1),s=[a.ZP.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},e.prototype.drawLineString=function(t,e){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a.ZP.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.$O);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a.Yc),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a.ZP.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.$O);for(var o=t.getEnds(),s=t.getFlatCoordinates(),l=t.getStride(),u=0,c=0,h=o.length;c<h;++c)u=this.drawFlatCoordinates_(s,u,o[c],l);this.hitDetectionInstructions.push(a.Yc),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(a.Yc),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(a.Yc),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(a.$O)},e}(o.Z);var h=r(55899),p=r(21765),d=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const f=function(t){function e(e,r,n,i){return t.call(this,e,r,n,i)||this}return d(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,r,n){var i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,l=r.length;this.instructions.push(a.$O),this.hitDetectionInstructions.push(a.$O);for(var u=0;u<l;++u){var c=r[u],h=this.coordinates.length,p=this.appendFlatCoordinates(t,e,c,n,!0,!s),d=[a.ZP.MOVE_TO_LINE_TO,h,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(a.s3),this.hitDetectionInstructions.push(a.s3)),e=c}return o&&(this.instructions.push(a.gO),this.hitDetectionInstructions.push(a.gO)),s&&(this.instructions.push(a.Yc),this.hitDetectionInstructions.push(a.Yc)),e},e.prototype.drawCircle=function(t,e){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.ZP.SET_FILL_STYLE,p.bL]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.ZP.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),l=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var u=[a.ZP.CIRCLE,l];this.instructions.push(a.$O,u),this.hitDetectionInstructions.push(a.$O,u),void 0!==r.fillStyle&&(this.instructions.push(a.gO),this.hitDetectionInstructions.push(a.gO)),void 0!==r.strokeStyle&&(this.instructions.push(a.Yc),this.hitDetectionInstructions.push(a.Yc)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.ZP.SET_FILL_STYLE,p.bL]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.ZP.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(s,0,o,l),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.ZP.SET_FILL_STYLE,p.bL]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.ZP.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),l=t.getStride(),u=0,c=0,h=o.length;c<h;++c)u=this.drawFlatCoordinatess_(s,u,o[c],l);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var r=this.coordinates,n=0,i=r.length;n<i;++n)r[n]=(0,h.uZ)(r[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(o.Z);var g=r(29441),m={Circle:f,Default:o.Z,Image:l,LineString:c,Polygon:f,Text:g.Z};const y=function(){function t(t,e,r,n,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=r,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[(0,i.createEmpty)()],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var r=this.buildersByZIndex_[e];for(var n in r){var i=r[n].finish();t[e][n]=i}}return t},t.prototype.getBuilder=function(t,e){var r=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[r];void 0===n&&(n={},this.buildersByZIndex_[r]=n);var i=n[e];void 0===i&&(i=new(0,m[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=i);return i},t}()},38325:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},74810:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w,L:()=>g});var n=r(26060),i=r(2309),o=r(82444),a=r(25529);function s(t,e,r,n,i,o,s,l,u,c,h){for(var p,d,f=[],g=t[e]>t[r-n],m=i.length,y=t[e],v=t[e+1],_=t[e+=n],b=t[e+1],x=0,w=Math.sqrt(Math.pow(_-y,2)+Math.pow(b-v,2)),E=!1,C=0;C<m;++C){for(var S=i[p=g?m-C-1:C],T=l*u(c,S,h),P=o+T/2;e<r-n&&x+w<P;)y=_,v=b,_=t[e+=n],b=t[e+1],x+=w,w=Math.sqrt(Math.pow(_-y,2)+Math.pow(b-v,2));var O=P-x,M=Math.atan2(b-v,_-y);if(g&&(M+=M>0?-Math.PI:Math.PI),void 0!==d){var R=M-d;if(E=E||0!==R,R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>s)return null}d=M;var I=O/w,L=(0,a.t7)(y,_,I),k=(0,a.t7)(v,b,I);f[p]=[L,k,T/2,M,S],o+=T}return E?f:[[f[0][0],f[0][1],f[0][2],f[0][3],i]]}var l=r(3497),u=r(21765),c=r(63386),h=r(29441),p=r(3657),d=r(70666),f=r.n(d);function g(t,e){for(var r=t.contextInstructions,n=0,i=r.length;n<i;n+=2)Array.isArray(r[n+1])?CanvasRenderingContext2D.prototype[r[n]].apply(e,r[n+1]):e[r[n]]=r[n+1]}var m=(0,i.createEmpty)(),y=(0,p.Ue)(),v=[],_=[],b=[],x=[];const w=function(){function t(t,e,r,n){this.overlaps=r,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.declutterItems=[],this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,p.Ue)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,r,n){var i=t+e+r+n;if(this.labels_[i])return this.labels_[i];var o=n?this.strokeStates[n]:null,a=r?this.fillStates[r]:null,s=this.textStates[e],l=this.pixelRatio,c=s.scale*l,p=h.I[s.textAlign||u.PH],d=n&&o.lineWidth?o.lineWidth:0,f=t.split("\n"),g=f.length,m=[],y=(0,u.gs)(s.font,f,m),v=(0,u.fk)(s.font),_=v*g,b=y+d,x=[],w={width:Math.ceil((b+2)*c),height:Math.ceil((_+d)*c),contextInstructions:x};1!=c&&x.push("scale",[c,c]),x.push("font",s.font),n&&(x.push("strokeStyle",o.strokeStyle),x.push("lineWidth",d),x.push("lineCap",o.lineCap),x.push("lineJoin",o.lineJoin),x.push("miterLimit",o.miterLimit),CanvasRenderingContext2D.prototype.setLineDash&&o.lineDash.length&&(x.push("setLineDash",[o.lineDash]),x.push("lineDashOffset",o.lineDashOffset))),r&&x.push("fillStyle",a.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");var E,C=.5-p,S=p*b+C*d;if(n)for(E=0;E<g;++E)x.push("strokeText",[f[E],S+C*m[E],.5*(d+v)+E*v]);if(r)for(E=0;E<g;++E)x.push("fillText",[f[E],S+C*m[E],.5*(d+v)+E*v]);return this.labels_[i]=w,w},t.prototype.replayTextBackground_=function(t,e,r,n,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.replayImageOrLabel_=function(t,e,r,n,o,a,s,l,c,h,d,f,g,w,E,C,S,T){var P=S||T;e-=o*=g,r-=a*=g;var O=E+h>n.width?n.width-h:E,M=l+d>n.height?n.height-d:l,R=C[3]+O*g+C[1],I=C[0]+M*g+C[2],L=e-C[3],k=r-C[0];(P||0!==f)&&(v[0]=L,x[0]=L,v[1]=k,_[1]=k,_[0]=L+R,b[0]=_[0],b[1]=k+I,x[1]=b[1]);var A=null;if(0!==f){var F=e+o,N=r+a;A=(0,p.qC)(y,F,N,1,1,f,-F,-N),(0,p.nn)(y,v),(0,p.nn)(y,_),(0,p.nn)(y,b),(0,p.nn)(y,x),(0,i.createOrUpdate)(Math.min(v[0],_[0],b[0],x[0]),Math.min(v[1],_[1],b[1],x[1]),Math.max(v[0],_[0],b[0],x[0]),Math.max(v[1],_[1],b[1],x[1]),m)}else(0,i.createOrUpdate)(L,k,L+R,k+I,m);var Z=t.canvas,j=T?T[2]*g/2:0,D=m[0]-j<=Z.width&&m[2]+j>=0&&m[1]-j<=Z.height&&m[3]+j>=0;if(w&&(e=Math.round(e),r=Math.round(r)),s){if(!D&&1==s[4])return;(0,i.extend)(s,m);var G=D?[t,A?A.slice(0):null,c,n,h,d,O,M,e,r,g]:null;G&&(P&&G.push(S,T,v,_,b,x),s.push(G))}else D&&(P&&this.replayTextBackground_(t,v,_,b,x,S,T),(0,u._f)(t,A,c,n,h,d,O,M,e,r,g))},t.prototype.fill_=function(t){if(this.alignFill_){var e=(0,p.nn)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(e[0]%r,e[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.renderDeclutter=function(t,e,r,n){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var a={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(n||(n=new(f())(9)),!n.collides(a)){n.insert(a);for(var s=5,l=t.length;s<l;++s){var c=t[s],h=c[0],p=h.globalAlpha;p!==r&&(h.globalAlpha=r),c.length>11&&this.replayTextBackground_(c[0],c[13],c[14],c[15],c[16],c[11],c[12]),u._f.apply(void 0,c),p!==r&&(h.globalAlpha=p)}}t.length=5,(0,i.createOrUpdateEmpty)(t)}}return n},t.prototype.drawLabelWithPointPlacement_=function(t,e,r,n){var i=this.textStates[e],o=this.createLabel(t,e,n,r),a=this.strokeStates[r],s=this.pixelRatio,l=h.I[i.textAlign||u.PH],c=h.I[i.textBaseline||u.ru],p=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale)+2*(.5-l)*p,anchorY:c*o.height/s+2*(.5-c)*p}},t.prototype.execute_=function(t,e,r,a,d,f){var g;this.declutterItems.length=0,this.pixelCoordinates_&&(0,n.fS)(e,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=(0,l.vT)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,p.lk)(this.renderedTransform_,e));for(var m,y,v,_,b,x,w,E,C,S,T,P,O,M,R,I,L,k=0,A=r.length,F=0,N=0,Z=0,j=null,D=null,G=this.coordinateCache_,z=this.viewRotation_,U=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:z},q=this.instructions!=r||this.overlaps?0:200;k<A;){var V=r[k];switch(V[0]){case c.ZP.BEGIN_GEOMETRY:(R=V[1]).getGeometry()?void 0===f||(0,i.intersects)(f,V[3])?++k:k=V[2]+1:k=V[2];break;case c.ZP.BEGIN_PATH:N>q&&(this.fill_(t),N=0),Z>q&&(t.stroke(),Z=0),N||Z||(t.beginPath(),_=NaN,b=NaN),++k;break;case c.ZP.CIRCLE:var Y=g[F=V[1]],W=g[F+1],X=g[F+2]-Y,H=g[F+3]-W,K=Math.sqrt(X*X+H*H);t.moveTo(Y+K,W),t.arc(Y,W,K,0,2*Math.PI,!0),++k;break;case c.ZP.CLOSE_PATH:t.closePath(),++k;break;case c.ZP.CUSTOM:F=V[1],m=V[2];var J=V[3],$=V[4],Q=6==V.length?V[5]:void 0;B.geometry=J,B.feature=R,k in G||(G[k]=[]);var tt=G[k];Q?Q(g,F,m,2,tt):(tt[0]=g[F],tt[1]=g[F+1],tt.length=2),$(tt,B),++k;break;case c.ZP.DRAW_IMAGE:F=V[1],m=V[2],S=V[3],y=V[4],v=V[5],C=d?null:V[6];var et=V[7],rt=V[8],nt=V[9],it=V[10],ot=V[11],at=V[12],st=V[13],lt=V[14];if(!S&&V.length>=19){T=V[18],P=V[19],O=V[20],M=V[21];var ut=this.drawLabelWithPointPlacement_(T,P,O,M);S=ut.label,V[3]=S;var ct=V[22];y=(ut.anchorX-ct)*this.pixelRatio,V[4]=y;var ht=V[23];v=(ut.anchorY-ht)*this.pixelRatio,V[5]=v,et=S.height,V[7]=et,lt=S.width,V[14]=lt}var pt=void 0;V.length>24&&(pt=V[24]);var dt=void 0,ft=void 0,gt=void 0;V.length>16?(dt=V[15],ft=V[16],gt=V[17]):(dt=u.oB,ft=!1,gt=!1),ot&&U?at+=z:ot||U||(at-=z);for(var mt=0,yt=0;F<m;F+=2)if(!(pt&&pt[mt++]<lt/this.pixelRatio)){if(C){var vt=Math.floor(yt);C.length<vt+1&&((E=(0,i.createEmpty)()).push(C[0][4]),C.push(E)),E=C[vt]}this.replayImageOrLabel_(t,g[F],g[F+1],S,y,v,E,et,rt,nt,it,at,st,a,lt,dt,ft?j:null,gt?D:null),E&&(yt===Math.floor(yt)&&this.declutterItems.push(this,E,R),yt+=1/E[4])}++k;break;case c.ZP.DRAW_CHARS:var _t=V[1],bt=V[2],xt=V[3];E=d?null:V[4];var wt=V[5];M=V[6];var Et=V[7],Ct=V[8],St=V[9];O=V[10];var Tt=V[11];T=V[12],P=V[13];var Pt=V[14],Ot=this.textStates[P],Mt=Ot.font,Rt=Ot.scale*Ct,It=void 0;Mt in this.widths_?It=this.widths_[Mt]:(It={},this.widths_[Mt]=It);var Lt=(0,o.W)(g,_t,bt,2),kt=Rt*(0,u.Kd)(Mt,T,It);if(wt||kt<=Lt){var At=this.textStates[P].textAlign,Ft=s(g,_t,bt,2,T,(Lt-kt)*h.I[At],Et,Rt,u.Kd,Mt,It);if(Ft){var Nt=void 0,Zt=void 0,jt=void 0,Dt=void 0,Gt=void 0;if(O)for(Nt=0,Zt=Ft.length;Nt<Zt;++Nt)jt=(Gt=Ft[Nt])[4],Dt=this.createLabel(jt,P,"",O),y=Gt[2]+Tt,v=xt*Dt.height+2*(.5-xt)*Tt-St,this.replayImageOrLabel_(t,Gt[0],Gt[1],Dt,y,v,E,Dt.height,1,0,0,Gt[3],Pt,!1,Dt.width,u.oB,null,null);if(M)for(Nt=0,Zt=Ft.length;Nt<Zt;++Nt)jt=(Gt=Ft[Nt])[4],Dt=this.createLabel(jt,P,M,""),y=Gt[2],v=xt*Dt.height-St,this.replayImageOrLabel_(t,Gt[0],Gt[1],Dt,y,v,E,Dt.height,1,0,0,Gt[3],Pt,!1,Dt.width,u.oB,null,null)}}this.declutterItems.push(this,E,R),++k;break;case c.ZP.END_GEOMETRY:if(void 0!==d){var zt=d(R=V[1]);if(zt)return zt}++k;break;case c.ZP.FILL:q?N++:this.fill_(t),++k;break;case c.ZP.MOVE_TO_LINE_TO:for(F=V[1],m=V[2],I=g[F],w=(L=g[F+1])+.5|0,(x=I+.5|0)===_&&w===b||(t.moveTo(I,L),_=x,b=w),F+=2;F<m;F+=2)x=(I=g[F])+.5|0,w=(L=g[F+1])+.5|0,F!=m-2&&x===_&&w===b||(t.lineTo(I,L),_=x,b=w);++k;break;case c.ZP.SET_FILL_STYLE:j=V,this.alignFill_=V[2],N&&(this.fill_(t),N=0,Z&&(t.stroke(),Z=0)),t.fillStyle=V[1],++k;break;case c.ZP.SET_STROKE_STYLE:D=V,Z&&(t.stroke(),Z=0),this.setStrokeStyle_(t,V),++k;break;case c.ZP.STROKE:q?Z++:t.stroke(),++k;break;default:++k}}N&&this.fill_(t),Z&&t.stroke()},t.prototype.execute=function(t,e,r,n){this.viewRotation_=r,this.execute_(t,e,this.instructions,n,void 0,void 0)},t.prototype.executeHitDetection=function(t,e,r,n,i){return this.viewRotation_=r,this.execute_(t,e,this.hitDetectionInstructions,!0,n,i)},t}()},55044:(t,e,r)=>{"use strict";r.d(e,{SK:()=>g,ZP:()=>m});var n=r(26060),i=r(77713),o=r(2309),a=r(3497),s=r(19664),l=r(38325),u=r(3657),c=r(74810),h=[l.Z.POLYGON,l.Z.CIRCLE,l.Z.LINE_STRING,l.Z.IMAGE,l.Z.TEXT,l.Z.DEFAULT],p=function(){function t(t,e,r,n,i,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=r,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,u.Ue)(),this.createExecutors_(i)}return t.prototype.clip=function(t,e){var r=this.getClipCoords(e);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var r=this.executorsByZIndex_[e];void 0===r&&(r={},this.executorsByZIndex_[e]=r);var n=t[e];for(var i in n){var o=n[i];r[i]=new c.Z(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[e],n=0,i=t.length;n<i;++n)if(t[n]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,r,a,s,c){var p=2*(a=Math.round(a))+1,g=(0,u.qC)(this.hitDetectionTransform_,a+.5,a+.5,1/e,-1/e,-r,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=(0,i.E4)(p,p));var m,y=this.hitDetectionContext_;y.canvas.width!==p||y.canvas.height!==p?(y.canvas.width=p,y.canvas.height=p):y.clearRect(0,0,p,p),void 0!==this.renderBuffer_&&(m=(0,o.createEmpty)(),(0,o.extendCoordinate)(m,t),(0,o.buffer)(m,e*(this.renderBuffer_+a),m));var v,_=function(t){if(void 0!==d[t])return d[t];for(var e=2*t+1,r=new Array(e),n=0;n<e;n++)r[n]=new Array(e);var i=t,o=0,a=0;for(;i>=o;)f(r,t+i,t+o),f(r,t+o,t+i),f(r,t-o,t+i),f(r,t-i,t+o),f(r,t-i,t-o),f(r,t-o,t-i),f(r,t+o,t-i),f(r,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return d[t]=r,r}(a);function b(t){for(var e=y.getImageData(0,0,p,p).data,r=0;r<p;r++)for(var n=0;n<p;n++)if(_[r][n]&&e[4*(n*p+r)+3]>0){var i=void 0;return(!c||v!=l.Z.IMAGE&&v!=l.Z.TEXT||-1!==c.indexOf(t))&&(i=s(t)),i||void y.clearRect(0,0,p,p)}}var x,w,E,C,S,T=Object.keys(this.executorsByZIndex_).map(Number);for(T.sort(n.kK),x=T.length-1;x>=0;--x){var P=T[x].toString();for(E=this.executorsByZIndex_[P],w=h.length-1;w>=0;--w)if(void 0!==(C=E[v=h[w]])&&(S=C.executeHitDetection(y,g,r,b,m)))return S}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var r=e[0],n=e[1],i=e[2],o=e[3],s=[r,n,r,o,i,o,i,n];return(0,a.vT)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return(0,s.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(n.kK),this.maxExtent_&&(t.save(),this.clip(t,e));var u,c,p,d,f,g,m=o||h;for(u=0,c=s.length;u<c;++u){var y=s[u].toString();for(f=this.executorsByZIndex_[y],p=0,d=m.length;p<d;++p){var v=m[p];if(void 0!==(g=f[v]))if(!a||v!=l.Z.IMAGE&&v!=l.Z.TEXT)g.execute(t,e,r,i);else{var _=a[y];_?_.push(g,e.slice(0)):a[y]=[g,e.slice(0)]}}}this.maxExtent_&&t.restore()},t}(),d={0:[[!0]]};function f(t,e,r){var n,i=Math.floor(t.length/2);if(e>=i)for(n=i;n<e;n++)t[n][r]=!0;else if(e<i)for(n=e+1;n<i;n++)t[n][r]=!0}function g(t,e,r,i,o,a){for(var s=Object.keys(t).map(Number).sort(n.kK),l=0,u=s.length;l<u;++l)for(var c=t[s[l].toString()],h=void 0,p=0,d=c.length;p<d;){var f=c[p++];f!==h&&(h=f,a.push({items:f.declutterItems,opacity:i}));var g=c[p++];f.execute(e,g,r,o)}}const m=p},92160:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(26060),o=r(40243),a=r(2309),s=r(42050),l=r(13585),u=r(3497),c=r(50994),h=r(21765),p=r(3657),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e,r,n,i,o,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=r,l.extent_=n,l.transform_=i,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=(0,p.Ue)(),l}return d(e,t),e.prototype.drawImages_=function(t,e,r,n){if(this.image_){var i=(0,u.vT)(t,e,r,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,h=i.length;c<h;c+=2){var d=i[c]-this.imageAnchorX_,f=i[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var g=d+this.imageAnchorX_,m=f+this.imageAnchorY_;(0,p.qC)(a,g,m,this.imageScale_,this.imageScale_,l,-g,-m),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,r,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=(0,u.vT)(t,e,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<r;e+=n){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=(0,p.qC)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,r,n,i){var o=this.context_,a=(0,u.vT)(t,e,r,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),r},e.prototype.drawRings_=function(t,e,r,n){for(var i=0,o=r.length;i<o;++i)e=this.moveToLineTo_(t,e,r[i],n,!0);return e},e.prototype.drawCircle=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,l.Kr)(t,this.transform_,this.pixelCoordinates_),r=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(r*r+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.Z.POINT:this.drawPoint(t);break;case s.Z.LINE_STRING:this.drawLineString(t);break;case s.Z.POLYGON:this.drawPolygon(t);break;case s.Z.MULTI_POINT:this.drawMultiPoint(t);break;case s.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var r=e.getGeometryFunction()(t);r&&(0,a.intersects)(this.extent_,r.getExtent())&&(this.setStyle(e),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),r=0,n=e.length;r<n;++r)this.drawGeometry(e[r])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,a.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,n=t.getFlatCoordinates(),i=0,o=t.getEnds(),s=t.getStride();r.beginPath();for(var l=0,u=o.length;l<u;++l)i=this.moveToLineTo_(n,i,o[l],s,!1);r.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getOrientedFlatCoordinates(),n=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,l=i.length;s<l;++s){var u=i[s];n=this.drawRings_(r,n,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,i.fS)(r.lineDash,t.lineDash)||e.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,r=this.contextTextState_,n=t.textAlign?t.textAlign:h.PH;r?(r.font!=t.font&&(r.font=t.font,e.font=t.font),r.textAlign!=n&&(r.textAlign=n,e.textAlign=n),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var r=t.getColor();this.fillState_={fillStyle:(0,o.y)(r||h.bL)}}else this.fillState_=null;if(e){var n=e.getColor(),i=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:h.mb,lineDash:a||h.X9,lineDashOffset:s||h.He,lineJoin:void 0!==l?l:h.rc,lineWidth:this.pixelRatio_*(void 0!==u?u:h.yC),miterLimit:void 0!==c?c:h.V4,strokeStyle:(0,o.y)(n||h.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),r=t.getImage(1),n=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var r=e.getColor();this.textFillState_={fillStyle:(0,o.y)(r||h.bL)}}else this.textFillState_=null;var n=t.getStroke();if(n){var i=n.getColor(),a=n.getLineCap(),s=n.getLineDash(),l=n.getLineDashOffset(),u=n.getLineJoin(),c=n.getWidth(),p=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.mb,lineDash:s||h.X9,lineDashOffset:l||h.He,lineJoin:void 0!==u?u:h.rc,lineWidth:void 0!==c?c:h.yC,miterLimit:void 0!==p?p:h.V4,strokeStyle:(0,o.y)(i||h.Tx)}}else this.textStrokeState_=null;var d=t.getFont(),f=t.getOffsetX(),g=t.getOffsetY(),m=t.getRotateWithView(),y=t.getRotation(),v=t.getScale(),_=t.getText(),b=t.getTextAlign(),x=t.getTextBaseline();this.textState_={font:void 0!==d?d:h.Df,textAlign:void 0!==b?b:h.PH,textBaseline:void 0!==x?x:h.ru},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(c.Z)},63386:(t,e,r)=>{"use strict";r.d(e,{$O:()=>a,Yc:()=>o,ZP:()=>l,gO:()=>i,s3:()=>s});var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},i=[n.FILL],o=[n.STROKE],a=[n.BEGIN_PATH],s=[n.CLOSE_PATH];const l=n},29441:(t,e,r)=>{"use strict";r.d(e,{I:()=>f,Z:()=>g});var n=r(19579),i=r(40243),o=r(2309);function a(t,e,r,n,i){var o,a,s,l,u,c,h,p,d,f=r,g=r,m=0,y=0,v=r;for(o=r;o<n;o+=i){var _=e[o],b=e[o+1];void 0!==l&&(p=_-l,d=b-u,s=Math.sqrt(p*p+d*d),void 0!==c&&(y+=a,Math.acos((c*p+h*d)/(a*s))>t&&(y>m&&(m=y,f=v,g=o),y=0,v=o-i)),a=s,c=p,h=d),l=_,u=b}return(y+=s)>m?[v,o]:[f,g]}var s,l=r(42050),u=r(21765),c=r(63386),h=r(95611),p=r(62675),d=(s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},s(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const g=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o}return d(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var r=this.textFillState_,n=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(r||n)){var s,h,d=this.coordinates.length,f=t.getType(),g=null,m=2,y=2;if(i.placement===p.Z.LINE){if(!(0,o.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var v=void 0;if(g=t.getFlatCoordinates(),y=t.getStride(),f==l.Z.LINE_STRING)v=[g.length];else if(f==l.Z.MULTI_LINE_STRING)v=t.getEnds();else if(f==l.Z.POLYGON)v=t.getEnds().slice(0,1);else if(f==l.Z.MULTI_POLYGON){var _=t.getEndss();for(v=[],s=0,h=_.length;s<h;++s)v.push(_[s][0])}this.beginGeometry(t,e);for(var b=i.textAlign,x=0,w=void 0,E=0,C=v.length;E<C;++E){if(null==b){var S=a(i.maxAngle,g,x,v[E],y);x=S[0],w=S[1]}else w=v[E];for(s=x;s<w;s+=y)this.coordinates.push(g[s],g[s+1]);m=this.coordinates.length,x=v[E];var T=this.declutterGroups_?0===E?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(d,m,T),d=m}this.endGeometry(e)}else{var P=null;switch(i.overflow||(P=[]),f){case l.Z.POINT:case l.Z.MULTI_POINT:m=(g=t.getFlatCoordinates()).length;break;case l.Z.LINE_STRING:g=t.getFlatMidpoint();break;case l.Z.CIRCLE:g=t.getCenter();break;case l.Z.MULTI_LINE_STRING:m=(g=t.getFlatMidpoints()).length;break;case l.Z.POLYGON:g=t.getFlatInteriorPoint(),i.overflow||P.push(g[2]/this.resolution),y=3;break;case l.Z.MULTI_POLYGON:var O=t.getFlatInteriorPoints();for(g=[],s=0,h=O.length;s<h;s+=3)i.overflow||P.push(O[s+2]/this.resolution),g.push(O[s],O[s+1]);if(0==(m=g.length))return}m=this.appendFlatCoordinates(g,0,m,y,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var M=this.pixelRatio;this.instructions.push([c.ZP.DRAW_IMAGE,d,m,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==u.oB?u.oB:i.padding.map((function(t){return t*M})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]),this.hitDetectionInstructions.push([c.ZP.DRAW_IMAGE,d,m,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,r=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||u.PH,textBaseline:e.textBaseline||u.ru,scale:e.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},e.prototype.drawChars_=function(t,e,r){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,u=f[i.textBaseline],h=this.textOffsetY_*l,p=this.text_,d=i.scale,g=n?n.lineWidth*d/2:0;this.instructions.push([c.ZP.DRAW_CHARS,t,e,u,r,i.overflow,s,i.maxAngle,l,h,o,g*l,p,a,1]),this.hitDetectionInstructions.push([c.ZP.DRAW_CHARS,t,e,u,r,i.overflow,s,i.maxAngle,1,h,o,g,p,a,1/l])},e.prototype.setTextStyle=function(t,e){var r,o,a;if(t){this.declutterGroups_=e;var s=t.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=(0,i.y)(s.getColor()||u.bL)):(o=null,this.textFillState_=o);var l=t.getStroke();if(l){(a=this.textStrokeState_)||(a={},this.textStrokeState_=a);var c=l.getLineDash(),h=l.getLineDashOffset(),p=l.getWidth(),d=l.getMiterLimit();a.lineCap=l.getLineCap()||u.mb,a.lineDash=c?c.slice():u.X9,a.lineDashOffset=void 0===h?u.He:h,a.lineJoin=l.getLineJoin()||u.rc,a.lineWidth=void 0===p?u.yC:p,a.miterLimit=void 0===d?u.V4:d,a.strokeStyle=(0,i.y)(l.getColor()||u.Tx)}else a=null,this.textStrokeState_=a;r=this.textState_;var f=t.getFont()||u.Df;(0,u.Qx)(f);var g=t.getScale();r.overflow=t.getOverflow(),r.font=f,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||u.ru,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||u.oB,r.scale=void 0===g?1:g;var m=t.getOffsetX(),y=t.getOffsetY(),v=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===_?0:_,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:(0,n.sq)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,n.sq)(o.fillStyle):""}else this.text_=""},e}(h.Z)},17624:(t,e,r)=>{"use strict";r.d(e,{T:()=>c,i:()=>h});var n=r(92160),i=r(77713),o=r(3806),a=r(4491),s=r(42050),l=r(2309),u=r(26060);function c(t,e,r,c,h,p,d){var f=t[0]/2,g=t[1]/2,m=(0,i.E4)(f,g);m.imageSmoothingEnabled=!1;for(var y=m.canvas,v=new n.Z(m,.5,h,null,d),_=r.length,b=Math.ceil(16777215/_),x={},w=1;w<=_;++w){var E=r[w-1],C=E.getStyleFunction()||c;if(c){var S=C(E,p);if(S){Array.isArray(S)||(S=[S]);for(var T="#"+("000000"+(w*b).toString(16)).slice(-6),P=0,O=S.length;P<O;++P){var M=S[P],R=M.clone(),I=R.getFill();I&&I.setColor(T);var L=R.getStroke();L&&L.setColor(T),R.setText(void 0);var k=M.getImage();if(k){var A=k.getImageSize(),F=document.createElement("canvas");F.width=A[0],F.height=A[1];var N=F.getContext("2d",{alpha:!1});N.fillStyle=T;var Z=N.canvas;N.fillRect(0,0,Z.width,Z.height);var j=A?A[0]:Z.width,D=A?A[1]:Z.height;(0,i.E4)(j,D).drawImage(Z,0,0),R.setImage(new o.Z({img:Z,imgSize:A,anchor:k.getAnchor(),anchorXUnits:a.Z.PIXELS,anchorYUnits:a.Z.PIXELS,offset:k.getOrigin(),size:k.getSize(),opacity:k.getOpacity(),scale:k.getScale(),rotation:k.getRotation(),rotateWithView:k.getRotateWithView()}))}var G=Number(R.getZIndex());(q=x[G])||(q={},x[G]=q,q[s.Z.POLYGON]=[],q[s.Z.CIRCLE]=[],q[s.Z.LINE_STRING]=[],q[s.Z.POINT]=[]);var z=R.getGeometryFunction()(E);z&&(0,l.intersects)(h,z.getExtent())&&q[z.getType().replace("Multi","")].push(z,R)}}}}for(var U=Object.keys(x).map(Number).sort(u.kK),B=(w=0,U.length);w<B;++w){var q=x[U[w]];for(var V in q){var Y=q[V];for(P=0,O=Y.length;P<O;P+=2){v.setStyle(Y[P+1]);for(var W=0,X=e.length;W<X;++W)v.setTransform(e[W]),v.drawGeometry(Y[P])}}}return m.getImageData(0,0,y.width,y.height)}function h(t,e,r){var n=[];if(r){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*r.width),o=r.data[i],a=r.data[i+1],s=r.data[i+2]+256*(a+256*o),l=Math.ceil(16777215/e.length);s&&s%l==0&&n.push(e[s/l-1])}return n}},90482:(t,e,r)=>{"use strict";r.d(e,{Z:()=>C});var n,i=r(17333),o=r(57379),a=r(51819),s=r(17616),l=r(19579),u=r(85763),c=r(2309),h=r(62166),p=r(98566),d=r(3657),f=r(29643),g=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function m(t,e){p.c.expire()}const y=function(t){function e(e){var r=t.call(this)||this;return r.map_=e,r.declutterTree_=null,r}return g(e,t),e.prototype.dispatchRenderEvent=function(t,e){(0,l.O3)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,r=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;(0,d.qC)(r,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,d.nb)(n,r)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i,a,s,l){var u,h=e.viewState;function p(t,e,r){return i.call(a,e,t?r:null)}var d=h.projection,f=t,g=[[0,0]];if(d.canWrapX()){var m=d.getExtent(),y=(0,c.getWidth)(m),v=t[0];if(v<m[0]||v>m[2])f=[v+y*Math.ceil((m[0]-v)/y),t[1]];n&&g.push([-y,0],[y,0])}var _,b=e.layerStatesArray,x=b.length;this.declutterTree_&&(_=this.declutterTree_.all().map((function(t){return t.value})));for(var w=[],E=0;E<g.length;E++)for(var C=x-1;C>=0;--C){var S=b[C],T=S.layer;if(T.hasRenderer()&&(0,o.j)(S,h)&&s.call(l,T)){var P=T.getRenderer(),O=T.getSource();if(P&&O){var M=O.getWrapX()?f:t,R=p.bind(null,S.managed);w[0]=M[0]+g[E][0],w[1]=M[1]+g[E][1],u=P.forEachFeatureAtCoordinate(w,e,r,R,_)}if(u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,r,n,i){return(0,l.O3)()},e.prototype.hasFeatureAtCoordinate=function(t,e,r,n,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,r,n,h.uX,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=(0,f.renderDeclutterItems)(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){p.c.canExpireCache()&&t.postRenderFunctions.push(m)},e}(u.Z);var v=r(42587),_=r(77713),b=r(53732),x=r(21765),w=r(27332),E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const C=function(t){function e(e){var r=t.call(this,e)||this;r.fontChangeListenerKey_=(0,b.oL)(x.sG,w.Z.PROPERTYCHANGE,e.redrawText.bind(e)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=i.XV+" ol-layers";var o=e.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return E(e,t),e.prototype.dispatchRenderEvent=function(t,e){var r=this.getMap();if(r.hasListener(t)){var n=new a.Z(t,void 0,e);r.dispatchEvent(n)}},e.prototype.disposeInternal=function(){(0,b.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(s.Z.PRECOMPOSE,e);var r=e.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=e.viewState;this.children_.length=0;for(var i=null,a=0,l=r.length;a<l;++a){var u=r[a];if(e.layerIndex=a,(0,o.j)(u,n)&&(u.sourceState==v.Z.READY||u.sourceState==v.Z.UNDEFINED)){var c=u.layer.render(e,i);c&&c!==i&&(this.children_.push(c),i=c)}}t.prototype.renderFrame.call(this,e),(0,_.hF)(this.element_,this.children_),this.dispatchRenderEvent(s.Z.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,r,n,i){for(var a=e.viewState,s=e.layerStatesArray,l=s.length-1;l>=0;--l){var u=s[l],c=u.layer;if(c.hasRenderer()&&(0,o.j)(u,a)&&i(c)){var h=c.getRenderer().getDataAtPixel(t,e,r);if(h){var p=n(c,h);if(p)return p}}}},e}(y)},17444:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n,i=r(19579),o=r(92472),a=r(68459),s=r(21092),l=r(42587),u=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const c=function(t){function e(e){var r=t.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=e,r}return u(e,t),e.prototype.getFeatures=function(t){return(0,i.O3)()},e.prototype.prepareFrame=function(t){return(0,i.O3)()},e.prototype.renderFrame=function(t,e){return(0,i.O3)()},e.prototype.loadedTileCallback=function(t,e,r){t[e]||(t[e]={}),t[e][r.tileCoord.toString()]=r},e.prototype.createLoadedTileFinder=function(t,e,r){return function(n,i){var o=this.loadedTileCallback.bind(this,r,n);return t.forEachLoadedTile(e,n,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i){},e.prototype.getDataAtPixel=function(t,e,r){return(0,i.O3)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===o.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=o.Z.LOADED&&e!=o.Z.ERROR&&t.addEventListener(s.Z.CHANGE,this.boundHandleImageChange_),e==o.Z.IDLE&&(t.load(),e=t.getState()),e==o.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==l.Z.READY&&t.changed()},e}(a.default)},42842:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n,i=r(52517),o=r(54468),a=r(2309),s=r(93558),l=r(10839),u=r(3657),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const h=function(t){function e(e){var r=t.call(this,e)||this;return r.image_=null,r}return c(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],r=t.pixelRatio,n=t.viewState,l=n.resolution,u=this.getLayer().getSource(),c=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=(0,a.getIntersection)(h,(0,s.fromUserExtent)(e.extent,n.projection))),!c[o.Z.ANIMATING]&&!c[o.Z.INTERACTING]&&!(0,a.isEmpty)(h)){var p=n.projection;if(!i.j){var d=u.getProjection();d&&(p=d)}var f=u.getImage(h,l,r,p);f&&this.loadImage(f)&&(this.image_=f)}return!!this.image_},e.prototype.renderFrame=function(t,e){var r=this.image_,n=r.getExtent(),i=r.getResolution(),o=r.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],c=t.pixelRatio,h=t.viewState,p=h.center,d=h.resolution,f=t.size,g=c*i/(d*o),m=Math.round(f[0]*c),y=Math.round(f[1]*c),v=h.rotation;if(v){var _=Math.round(Math.sqrt(m*m+y*y));m=_,y=_}(0,u.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,v,-m/2,-y/2),(0,u.nb)(this.inversePixelTransform,this.pixelTransform);var b=this.createTransformString(this.pixelTransform);this.useContainer(e,b,l.opacity);var x=this.context,w=x.canvas;w.width!=m||w.height!=y?(w.width=m,w.height=y):this.containerReused||x.clearRect(0,0,m,y);var E=!1;if(l.extent){var C=(0,s.fromUserExtent)(l.extent,h.projection);(E=!(0,a.containsExtent)(C,t.extent)&&(0,a.intersects)(C,t.extent))&&this.clipUnrotated(x,t,C)}var S=r.getImage(),T=(0,u.qC)(this.tempTransform_,m/2,y/2,g,g,0,o*(n[0]-p[0])/i,o*(p[1]-n[3])/i);this.renderedResolution=i*c/o;var P=T[4],O=T[5],M=S.width*T[0],R=S.height*T[3];if(this.preRender(x,t),M>=.5&&R>=.5){var I=l.opacity,L=void 0;1!==I&&(L=this.context.globalAlpha,this.context.globalAlpha=I),this.context.drawImage(S,0,0,+S.width,+S.height,Math.round(P),Math.round(O),Math.round(M),Math.round(R)),1!==I&&(this.context.globalAlpha=L)}return this.postRender(x,t),E&&x.restore(),b!==w.style.transform&&(w.style.transform=b),this.container},e}(l.Z)},10839:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n,i=r(2309),o=r(77713),a=r(51819),s=r(17616),l=r(21765),u=r(17444),c=r(3657),h=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const p=function(t){function e(e){var r=t.call(this,e)||this;return r.container=null,r.renderedResolution,r.tempTransform_=(0,c.Ue)(),r.pixelTransform=(0,c.Ue)(),r.inversePixelTransform=(0,c.Ue)(),r.context=null,r.containerReused=!1,r.createTransformStringCanvas_=(0,o.E4)(1,1).canvas,r}return h(e,t),e.prototype.useContainer=function(t,e,r){var n,i,a=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===a&&((l=t.firstElementChild)instanceof HTMLCanvasElement&&(i=l.getContext("2d")));if(i&&i.canvas.style.transform===e?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=a;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var l=(i=(0,o.E4)()).canvas;n.appendChild(l),(s=l.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=i}},e.prototype.clip=function(t,e,r){var n=e.pixelRatio,o=e.size[0]*n/2,a=e.size[1]*n/2,s=e.viewState.rotation,u=(0,i.getTopLeft)(r),h=(0,i.getTopRight)(r),p=(0,i.getBottomRight)(r),d=(0,i.getBottomLeft)(r);(0,c.nn)(e.coordinateToPixelTransform,u),(0,c.nn)(e.coordinateToPixelTransform,h),(0,c.nn)(e.coordinateToPixelTransform,p),(0,c.nn)(e.coordinateToPixelTransform,d),t.save(),(0,l.qs)(t,-s,o,a),t.beginPath(),t.moveTo(u[0]*n,u[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(p[0]*n,p[1]*n),t.lineTo(d[0]*n,d[1]*n),t.clip(),(0,l.qs)(t,s,o,a)},e.prototype.clipUnrotated=function(t,e,r){var n=(0,i.getTopLeft)(r),o=(0,i.getTopRight)(r),a=(0,i.getBottomRight)(r),s=(0,i.getBottomLeft)(r);(0,c.nn)(e.coordinateToPixelTransform,n),(0,c.nn)(e.coordinateToPixelTransform,o),(0,c.nn)(e.coordinateToPixelTransform,a),(0,c.nn)(e.coordinateToPixelTransform,s);var l=this.inversePixelTransform;(0,c.nn)(l,n),(0,c.nn)(l,o),(0,c.nn)(l,a),(0,c.nn)(l,s),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,r){var n=this.getLayer();if(n.hasListener(t)){var i=new a.Z(t,this.inversePixelTransform,r,e);n.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(s.Z.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(s.Z.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,r,n,i,o,a){var s=i/2,l=o/2,u=n/e,h=-u,p=-t[0]+a,d=-t[1];return(0,c.qC)(this.tempTransform_,s,l,u,h,-r,p,d)},e.prototype.getDataAtPixel=function(t,e,r){var n,i=(0,c.nn)(this.inversePixelTransform,t.slice()),o=this.context;try{n=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:n}return 0===n[3]?null:n},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=(0,c.BB)(t),this.createTransformStringCanvas_.style.transform},e}(u.Z)},58581:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(19579),o=r(93558),a=r(63017),s=r(66702),l=r(2309),u=r(10839),c=r(3657),h=r(26060),p=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e){var r=t.call(this,e)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=(0,l.createEmpty)(),r.tmpTileRange_=new a.Z(0,0,0,0),r}return p(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),r=t.getState(),n=e.getUseInterimTilesOnError();return r==s.Z.LOADED||r==s.Z.EMPTY||r==s.Z.ERROR&&!n},e.prototype.getTile=function(t,e,r,n){var i=n.pixelRatio,o=n.viewState.projection,a=this.getLayer(),l=a.getSource().getTile(t,e,r,i,o);return l.getState()==s.Z.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):l.setState(s.Z.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},e.prototype.loadedTileCallback=function(e,r,n){return!!this.isDrawableTile(n)&&t.prototype.loadedTileCallback.call(this,e,r,n)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var r=t.layerStatesArray[t.layerIndex],n=t.viewState,a=n.projection,u=n.resolution,p=n.center,d=n.rotation,f=t.pixelRatio,g=this.getLayer(),m=g.getSource(),y=m.getRevision(),v=m.getTileGridForProjection(a),_=v.getZForResolution(u,m.zDirection),b=v.getResolution(_),x=t.extent,w=r.extent&&(0,o.fromUserExtent)(r.extent,a);w&&(x=(0,l.getIntersection)(x,(0,o.fromUserExtent)(r.extent,a)));var E=m.getTilePixelRatio(f),C=Math.round(t.size[0]*E),S=Math.round(t.size[1]*E);if(d){var T=Math.round(Math.sqrt(C*C+S*S));C=T,S=T}var P=b*C/2/E,O=b*S/2/E,M=[p[0]-P,p[1]-O,p[0]+P,p[1]+O],R=v.getTileRangeForExtentAndZ(x,_),I={};I[_]={};var L=this.createLoadedTileFinder(m,a,I),k=this.tmpExtent,A=this.tmpTileRange_;this.newTiles_=!1;for(var F=R.minX;F<=R.maxX;++F)for(var N=R.minY;N<=R.maxY;++N){var Z=this.getTile(_,F,N,t);if(this.isDrawableTile(Z)){var j=(0,i.sq)(this);if(Z.getState()==s.Z.LOADED){I[_][Z.tileCoord.toString()]=Z;var D=Z.inTransition(j);this.newTiles_||!D&&-1!==this.renderedTiles.indexOf(Z)||(this.newTiles_=!0)}if(1===Z.getAlpha(j,t.time))continue}var G=v.getTileCoordChildTileRange(Z.tileCoord,A,k),z=!1;G&&(z=L(_+1,G)),z||v.forEachTileCoordParentTileRange(Z.tileCoord,L,A,k)}var U=b/u;(0,c.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/E,1/E,d,-C/2,-S/2);var B=this.createTransformString(this.pixelTransform);this.useContainer(e,B,r.opacity);var q=this.context,V=q.canvas;(0,c.nb)(this.inversePixelTransform,this.pixelTransform),(0,c.qC)(this.tempTransform_,C/2,S/2,U,U,0,-C/2,-S/2),V.width!=C||V.height!=S?(V.width=C,V.height=S):this.containerReused||q.clearRect(0,0,C,S),w&&this.clipUnrotated(q,t,w),this.preRender(q,t),this.renderedTiles.length=0;var Y,W,X,H=Object.keys(I).map(Number);H.sort(h.kK),1!==r.opacity||this.containerReused&&!m.getOpaque(t.viewState.projection)?(Y=[],W=[]):H=H.reverse();for(var K=H.length-1;K>=0;--K){var J=H[K],$=m.getTilePixelSize(J,f,a),Q=v.getResolution(J)/b,tt=$[0]*Q*U,et=$[1]*Q*U,rt=v.getTileCoordForCoordAndZ((0,l.getTopLeft)(M),J),nt=v.getTileCoordExtent(rt),it=(0,c.nn)(this.tempTransform_,[E*(nt[0]-M[0])/b,E*(M[3]-nt[3])/b]),ot=E*m.getGutterForProjection(a),at=I[J];for(var st in at){var lt=(Z=at[st]).tileCoord,ut=it[0]-(rt[1]-lt[1])*tt,ct=Math.round(ut+tt),ht=it[1]-(rt[2]-lt[2])*et,pt=Math.round(ht+et),dt=ct-(F=Math.round(ut)),ft=pt-(N=Math.round(ht)),gt=_===J;if(!(D=gt&&1!==Z.getAlpha((0,i.sq)(this),t.time)))if(Y){q.save(),X=[F,N,F+dt,N,F+dt,N+ft,F,N+ft];for(var mt=0,yt=Y.length;mt<yt;++mt)if(_!==J&&J<W[mt]){var vt=Y[mt];q.beginPath(),q.moveTo(X[0],X[1]),q.lineTo(X[2],X[3]),q.lineTo(X[4],X[5]),q.lineTo(X[6],X[7]),q.moveTo(vt[6],vt[7]),q.lineTo(vt[4],vt[5]),q.lineTo(vt[2],vt[3]),q.lineTo(vt[0],vt[1]),q.clip()}Y.push(X),W.push(J)}else q.clearRect(F,N,dt,ft);this.drawTileImage(Z,t,F,N,dt,ft,ot,gt,r.opacity),Y&&!D&&q.restore(),this.renderedTiles.push(Z),this.updateUsedTiles(t.usedTiles,m,Z)}}return this.renderedRevision=y,this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!(0,l.equals)(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(t,m,v,f,a,x,_,g.getPreload()),this.scheduleExpireCache(t,m),this.postRender(q,t),r.extent&&q.restore(),B!==V.style.transform&&(V.style.transform=B),this.container},e.prototype.drawTileImage=function(t,e,r,n,o,a,s,l,u){var c=this.getTileImage(t);if(c){var h=(0,i.sq)(this),p=l?t.getAlpha(h,e.time):1,d=u*p,f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,r,n,o,a),f&&this.context.restore(),1!==p?e.animate=!0:l&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var r=function(t,e,r){var n=(0,i.sq)(t);n in r.usedTiles&&t.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,e,r){var n=(0,i.sq)(e);n in t||(t[n]={}),t[n][r.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,r,n,o,a,l,u,c){var h=(0,i.sq)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var p,d,f,g,m,y,v=t.wantedTiles[h],_=t.tileQueue;for(y=r.getMinZoom();y<=l;++y)for(d=r.getTileRangeForExtentAndZ(a,y,d),f=r.getResolution(y),g=d.minX;g<=d.maxX;++g)for(m=d.minY;m<=d.maxY;++m)l-y<=u?((p=e.getTile(y,g,m,n,o)).getState()==s.Z.IDLE&&(v[p.getKey()]=!0,_.isKeyQueued(p.getKey())||_.enqueue([p,h,r.getTileCoordCenter(p.tileCoord),f])),void 0!==c&&c(p)):e.useTile(y,g,m,o)},e}(u.Z);d.prototype.getLayer;const f=d},48474:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n,i=r(19579),o=r(54468),a=r(2309),s=r(93558),l=r(60486),u=r(55044),c=r(10839),h=r(5168),p=r(3657),d=r(17624),f=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const g=function(t){function e(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=(0,a.createEmpty)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r}return f(e,t),e.prototype.useContainer=function(e,r,n){n<1&&(e=null),t.prototype.useContainer.call(this,e,r,n)},e.prototype.renderFrame=function(t,e){var r=t.pixelRatio,n=t.layerStatesArray[t.layerIndex];(0,p.n3)(this.pixelTransform,1/r,1/r),(0,p.nb)(this.inversePixelTransform,this.pixelTransform);var i=(0,p.BB)(this.pixelTransform);this.useContainer(e,i,n.opacity);var l=this.context,c=l.canvas,h=this.replayGroup_;if(!h||h.isEmpty())return!this.containerReused&&c.width>0&&(c.width=0),this.container;var d=Math.round(t.size[0]*r),f=Math.round(t.size[1]*r);c.width!=d||c.height!=f?(c.width=d,c.height=f,c.style.transform!==i&&(c.style.transform=i)):this.containerReused||l.clearRect(0,0,d,f),this.preRender(l,t);var g=t.extent,m=t.viewState,y=m.center,v=m.resolution,_=m.projection,b=m.rotation,x=_.getExtent(),w=this.getLayer().getSource(),E=!1;if(n.extent){var C=(0,s.fromUserExtent)(n.extent,_);(E=!(0,a.containsExtent)(C,t.extent)&&(0,a.intersects)(C,t.extent))&&this.clip(l,t,C)}var S=t.viewHints,T=!(S[o.Z.ANIMATING]||S[o.Z.INTERACTING]),P=this.getRenderTransform(y,v,b,r,d,f,0),O=this.getLayer().getDeclutter()?{}:null;if(h.execute(l,P,b,T,void 0,O),w.getWrapX()&&_.canWrapX()&&!(0,a.containsExtent)(x,g)){for(var M=g[0],R=(0,a.getWidth)(x),I=0,L=void 0;M<x[0];){L=R*--I;var k=this.getRenderTransform(y,v,b,r,d,f,L);h.execute(l,k,b,T,void 0,O),M+=R}for(I=0,M=g[2];M>x[2];){L=R*++I;var A=this.getRenderTransform(y,v,b,r,d,f,L);h.execute(l,A,b,T,void 0,O),M-=R}}if(O){var F=t.viewHints,N=!(F[o.Z.ANIMATING]||F[o.Z.INTERACTING]);(0,u.SK)(O,l,b,1,N,t.declutterItems)}E&&l.restore(),this.postRender(l,t);var Z=n.opacity,j=this.container;return Z!==parseFloat(j.style.opacity)&&(j.style.opacity=1===Z?"":Z),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];(0,p.nn)(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,u=this.renderedExtent_,c=this.getLayer(),h=[],f=n[0]/2,g=n[1]/2;h.push(this.getRenderTransform(i,o,s,.5,f,g,0).slice());var m=c.getSource(),y=l.getExtent();if(m.getWrapX()&&l.canWrapX()&&!(0,a.containsExtent)(y,u)){for(var v=u[0],_=(0,a.getWidth)(y),b=0,x=void 0;v<y[0];)x=_*--b,h.push(this.getRenderTransform(i,o,s,.5,f,g,x).slice()),v+=_;for(b=0,v=u[2];v>y[2];)x=_*++b,h.push(this.getRenderTransform(i,o,s,.5,f,g,x).slice()),v-=_}this.hitDetectionImageData_=(0,d.T)(n,h,this.renderedFeatures_,c.getStyleFunction(),u,o,s)}e((0,d.i)(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,r,(function(t){var e=(0,i.sq)(t);if(!(e in u))return u[e]=!0,n(t,l)}),l.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),r=e.getSource();if(!r)return!1;var n=t.viewHints[o.Z.ANIMATING],i=t.viewHints[o.Z.INTERACTING],c=e.getUpdateWhileAnimating(),p=e.getUpdateWhileInteracting();if(!this.dirty_&&!c&&n||!p&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=t.extent,f=t.viewState,g=f.projection,m=f.resolution,y=t.pixelRatio,v=e.getRevision(),_=e.getRenderBuffer(),b=e.getRenderOrder();void 0===b&&(b=h.eR);var x=f.center.slice(),w=(0,a.buffer)(d,_*m),E=f.projection.getExtent();if(r.getWrapX()&&f.projection.canWrapX()&&!(0,a.containsExtent)(E,t.extent)){var C=(0,a.getWidth)(E),S=Math.max((0,a.getWidth)(w)/2,C);w[0]=E[0]-S,w[2]=E[2]+S;var T=Math.floor((x[0]-E[0])/C);x[0]-=T*C}if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==v&&this.renderedRenderOrder_==b&&(0,a.containsExtent)(this.renderedExtent_,w))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var P,O=new l.Z((0,h.Qz)(m,y),w,m,y,e.getDeclutter()),M=(0,s.getUserProjection)();M?(r.loadFeatures((0,s.toUserExtent)(w,g),m,M),P=(0,s.getTransformFromProjections)(M,g)):r.loadFeatures(w,m,g);var R=(0,h.se)(m,y),I=function(t){var r,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(r=n(t,m)),r){var i=this.renderFeature(t,R,r,O,P);this.dirty_=this.dirty_||i}}.bind(this),L=(0,s.toUserExtent)(w,g),k=r.getFeaturesInExtent(L);b&&k.sort(b);for(var A=0,F=k.length;A<F;++A)I(k[A]);this.renderedFeatures_=k;var N=O.finish(),Z=new u.ZP(w,m,y,r.getOverlaps(),N,e.getRenderBuffer());return this.renderedResolution_=m,this.renderedRevision_=v,this.renderedRenderOrder_=b,this.renderedExtent_=w,this.renderedRotation_=f.rotation,this.renderedCenter_=x,this.renderedProjection_=g,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,r,n,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=(0,h.Pn)(n,t,r[a],e,this.boundHandleStyleImageChange_,i)||o;else o=(0,h.Pn)(n,t,r,e,this.boundHandleStyleImageChange_,i);return o},e}(c.Z)},5168:(t,e,r)=>{"use strict";r.d(e,{Pn:()=>h,Qz:()=>c,eR:()=>l,se:()=>u});var n=r(19579),i=r(92472),o=r(42050),a=r(38325),s={Point:function(t,e,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.Z.LOADED)return;var s=t.getBuilder(r.getZIndex(),a.Z.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,n)}var l=r.getText();if(l){var u=t.getBuilder(r.getZIndex(),a.Z.TEXT);u.setTextStyle(l,t.addDeclutter(!!o)),u.drawText(e,n)}},LineString:function(t,e,r,n){var i=r.getStroke();if(i){var o=t.getBuilder(r.getZIndex(),a.Z.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,n)}var s=r.getText();if(s){var l=t.getBuilder(r.getZIndex(),a.Z.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},Polygon:function(t,e,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=t.getBuilder(r.getZIndex(),a.Z.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(e,n)}var l=r.getText();if(l){var u=t.getBuilder(r.getZIndex(),a.Z.TEXT);u.setTextStyle(l,t.addDeclutter(!1)),u.drawText(e,n)}},MultiPoint:function(t,e,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.Z.LOADED)return;var s=t.getBuilder(r.getZIndex(),a.Z.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,n)}var l=r.getText();if(l){var u=t.getBuilder(r.getZIndex(),a.Z.TEXT);u.setTextStyle(l,t.addDeclutter(!!o)),u.drawText(e,n)}},MultiLineString:function(t,e,r,n){var i=r.getStroke();if(i){var o=t.getBuilder(r.getZIndex(),a.Z.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,n)}var s=r.getText();if(s){var l=t.getBuilder(r.getZIndex(),a.Z.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},MultiPolygon:function(t,e,r,n){var i=r.getFill(),o=r.getStroke();if(o||i){var s=t.getBuilder(r.getZIndex(),a.Z.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(e,n)}var l=r.getText();if(l){var u=t.getBuilder(r.getZIndex(),a.Z.TEXT);u.setTextStyle(l,t.addDeclutter(!1)),u.drawText(e,n)}},GeometryCollection:function(t,e,r,n){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,s[a[i].getType()])(t,a[i],r,n)}},Circle:function(t,e,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=t.getBuilder(r.getZIndex(),a.Z.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(e,n)}var l=r.getText();if(l){var u=t.getBuilder(r.getZIndex(),a.Z.TEXT);u.setTextStyle(l,t.addDeclutter(!1)),u.drawText(e,n)}}};function l(t,e){return parseInt((0,n.sq)(t),10)-parseInt((0,n.sq)(e),10)}function u(t,e){var r=c(t,e);return r*r}function c(t,e){return.5*t/e}function h(t,e,r,n,o,a){var l=!1,u=r.getImage();if(u){var c=u.getImageState();c==i.Z.LOADED||c==i.Z.ERROR?u.unlistenImageChange(o):(c==i.Z.IDLE&&u.load(),c=u.getImageState(),u.listenImageChange(o),l=!0)}return function(t,e,r,n,i){var o=r.getGeometryFunction()(e);if(!o)return;var a=o.simplifyTransformed(n,i);if(r.getRenderer())p(t,a,r,e);else{(0,s[a.getType()])(t,a,r,e)}}(t,e,r,n,a),l}function p(t,e,r,n){if(e.getType()!=o.Z.GEOMETRY_COLLECTION)t.getBuilder(r.getZIndex(),a.Z.DEFAULT).drawCustom(e,n,r.getRenderer());else for(var i=e.getGeometries(),s=0,l=i.length;s<l;++s)p(t,i[s],r,n)}},70068:(t,e,r)=>{"use strict";r.d(e,{a:()=>s,s:()=>u});var n=r(77713),i=r(2309),o=r(25529),a=r(93558);function s(t,e,r,n){var o=(0,a.transform)(r,e,t),s=(0,a.getPointResolution)(e,n,r),l=e.getMetersPerUnit();void 0!==l&&(s*=l);var u=t.getMetersPerUnit();void 0!==u&&(s/=u);var c=t.getExtent();if(!c||(0,i.containsCoordinate)(c,o)){var h=(0,a.getPointResolution)(t,s,o)/s;isFinite(h)&&h>0&&(s/=h)}return s}function l(t,e,r,n){var i=r-t,o=n-e,a=Math.sqrt(i*i+o*o);return[Math.round(r+i/a),Math.round(n+o/a)]}function u(t,e,r,a,s,u,c,h,p,d,f){var g=(0,n.E4)(Math.round(r*t),Math.round(r*e));if(0===p.length)return g.canvas;g.scale(r,r);var m=(0,i.createEmpty)();p.forEach((function(t,e,r){(0,i.extend)(m,t.extent)}));var y=(0,i.getWidth)(m),v=(0,i.getHeight)(m),_=(0,n.E4)(Math.round(r*y/a),Math.round(r*v/a)),b=r/a;p.forEach((function(t,e,r){var n=t.extent[0]-m[0],o=-(t.extent[3]-m[3]),a=(0,i.getWidth)(t.extent),s=(0,i.getHeight)(t.extent);_.drawImage(t.image,d,d,t.image.width-2*d,t.image.height-2*d,n*b,o*b,a*b,s*b)}));var x=(0,i.getTopLeft)(c);return h.getTriangles().forEach((function(t,e,n){var i=t.source,s=t.target,c=i[0][0],h=i[0][1],p=i[1][0],d=i[1][1],f=i[2][0],y=i[2][1],v=(s[0][0]-x[0])/u,b=-(s[0][1]-x[1])/u,w=(s[1][0]-x[0])/u,E=-(s[1][1]-x[1])/u,C=(s[2][0]-x[0])/u,S=-(s[2][1]-x[1])/u,T=c,P=h;c=0,h=0;var O=[[p-=T,d-=P,0,0,w-v],[f-=T,y-=P,0,0,C-v],[0,0,p,d,E-b],[0,0,f,y,S-b]],M=(0,o.SV)(O);if(M){g.save(),g.beginPath();var R=(v+w+C)/3,I=(b+E+S)/3,L=l(R,I,v,b),k=l(R,I,w,E),A=l(R,I,C,S);g.moveTo(k[0],k[1]),g.lineTo(L[0],L[1]),g.lineTo(A[0],A[1]),g.clip(),g.transform(M[0],M[2],M[1],M[3],v,b),g.translate(m[0]-T,m[3]-P),g.scale(a/r,-a/r),g.drawImage(_.canvas,0,0),g.restore()}})),f&&(g.save(),g.strokeStyle="black",g.lineWidth=1,h.getTriangles().forEach((function(t,e,r){var n=t.target,i=(n[0][0]-x[0])/u,o=-(n[0][1]-x[1])/u,a=(n[1][0]-x[0])/u,s=-(n[1][1]-x[1])/u,l=(n[2][0]-x[0])/u,c=-(n[2][1]-x[1])/u;g.beginPath(),g.moveTo(a,s),g.lineTo(i,o),g.lineTo(l,c),g.closePath(),g.stroke()})),g.restore()),g.canvas}},31999:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(2309),i=r(25529),o=r(93558);const a=function(){function t(t,e,r,i,a){this.sourceProj_=t,this.targetProj_=e;var s={},l=(0,o.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=l(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,n.getWidth)(i)==(0,n.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,n.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,n.getWidth)(this.targetProj_.getExtent()):null;var u=(0,n.getTopLeft)(r),c=(0,n.getTopRight)(r),h=(0,n.getBottomRight)(r),p=(0,n.getBottomLeft)(r),d=this.transformInv_(u),f=this.transformInv_(c),g=this.transformInv_(h),m=this.transformInv_(p);if(this.addQuad_(u,c,h,p,d,f,g,m,10),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,r){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var r=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-r<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,r,n,i,o){this.triangles_.push({source:[n,i,o],target:[t,e,r]})},t.prototype.addQuad_=function(t,e,r,o,a,s,l,u,c){var h=(0,n.boundingExtent)([a,s,l,u]),p=this.sourceWorldWidth_?(0,n.getWidth)(h)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&p>.5&&p<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=(0,n.boundingExtent)([t,e,r,o]);g=(0,n.getWidth)(m)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&p&&(g=p>.25||g)}if(g||!this.maxSourceExtent_||(0,n.intersects)(h,this.maxSourceExtent_)){if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(c>0))return;g=!0}if(c>0){if(!g){var y=[(t[0]+r[0])/2,(t[1]+r[1])/2],v=this.transformInv_(y),_=void 0;if(f)_=((0,i.$W)(a[0],d)+(0,i.$W)(l[0],d))/2-(0,i.$W)(v[0],d);else _=(a[0]+l[0])/2-v[0];var b=(a[1]+l[1])/2-v[1];g=_*_+b*b>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var x=[(e[0]+r[0])/2,(e[1]+r[1])/2],w=this.transformInv_(x),E=[(o[0]+t[0])/2,(o[1]+t[1])/2],C=this.transformInv_(E);this.addQuad_(t,e,x,E,a,s,w,C,c-1),this.addQuad_(E,x,r,o,C,w,l,u,c-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],T=this.transformInv_(S),P=[(r[0]+o[0])/2,(r[1]+o[1])/2],O=this.transformInv_(P);this.addQuad_(t,S,P,o,a,T,O,u,c-1),this.addQuad_(S,e,r,P,T,s,l,O,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,r,o,a,l,u),this.addTriangle_(t,e,r,a,s,l)}},t.prototype.calculateSourceExtent=function(){var t=(0,n.createEmpty)();return this.triangles_.forEach((function(e,r,i){var o=e.source;(0,n.extendCoordinate)(t,o[0]),(0,n.extendCoordinate)(t,o[1]),(0,n.extendCoordinate)(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}()},52517:(t,e,r)=>{"use strict";r.d(e,{j:()=>i,m:()=>n});var n=.5,i=!0},97909:(t,e,r)=>{"use strict";r.d(e,{Gw:()=>s,YP:()=>o,gE:()=>a,h$:()=>i});var n=r(25529);function i(t){return void 0!==t?0:void 0}function o(t){return void 0!==t?t:void 0}function a(t){var e=2*Math.PI/t;return function(t,r){return r?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function s(t){var e=t||(0,n.Yr)(5);return function(t,r){return r?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},18581:(t,e,r)=>{"use strict";function n(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]+2*e,r[1]=t[1]+2*e,r}function i(t){return t[0]>0&&t[1]>0}function o(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]*e+.5|0,r[1]=t[1]*e+.5|0,r}function a(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}r.d(e,{Pq:()=>a,bA:()=>o,f3:()=>n,py:()=>i})},36876:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BingMaps:()=>d,CartoDB:()=>v,Cluster:()=>_.Z,IIIF:()=>N,Image:()=>Z.ZP,ImageArcGISRest:()=>U,ImageCanvas:()=>B.Z,ImageMapGuide:()=>V,ImageStatic:()=>Y.Z,ImageWMS:()=>W.Z,OSM:()=>K,Raster:()=>mt,Source:()=>ot.Z,Stamen:()=>xt,Tile:()=>it.Z,TileArcGISRest:()=>St,TileDebug:()=>Mt,TileImage:()=>u.Z,TileJSON:()=>Rt.default,TileWMS:()=>It.Z,UTFGrid:()=>Zt,UrlTile:()=>Lt.Z,Vector:()=>jt.Z,VectorTile:()=>Dt.default,WMTS:()=>Ut,XYZ:()=>m,Zoomify:()=>L});var n,i=r(89901),o=r(2309),a=r(35241),s=r(93558),l=r(42587),u=r(36595),c=r(76026),h=r(57084),p=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const d=function(t){function e(e){var r=this,n=void 0!==e.hidpi&&e.hidpi;(r=t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:(0,s.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:l.Z.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this).hidpi_=n,r.culture_=void 0!==e.culture?e.culture:"en-us",r.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,r.apiKey_=e.key,r.imagerySet_=e.imagerySet;var i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+r.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+r.apiKey_+"&c="+r.culture_;return(0,a.R)(i,r.handleImageryMetadataResponse.bind(r),void 0,"jsonp"),r}return p(e,t),e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],r=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,n=this.getProjection(),a=(0,h.extentFromProjection)(n),u=this.hidpi_?2:1,p=e.imageWidth==e.imageHeight?e.imageWidth/u:[e.imageWidth/u,e.imageHeight/u],d=(0,h.createXYZ)({extent:a,minZoom:e.zoomMin,maxZoom:r,tileSize:p});this.tileGrid=d;var f=this.culture_,g=this.hidpi_;if(this.tileUrlFunction=(0,i.Un)(e.imageUrlSubdomains.map((function(t){var r=[0,0,0],n=e.imageUrl.replace("{subdomain}",t).replace("{culture}",f);return function(t,e,i){if(t){(0,c.T9)(t[0],t[1],t[2],r);var o=n;return g&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",function(t){var e,r,n=t[0],i=new Array(n),o=1<<n-1;for(e=0;e<n;++e)r=48,t[1]&o&&(r+=1),t[2]&o&&(r+=2),i[e]=String.fromCharCode(r),o>>=1;return i.join("")}(r))}}}))),e.imageryProviders){var m=(0,s.getTransformFromProjections)((0,s.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var r=[],n=t.viewState,i=this.getTileGrid(),a=i.getZForResolution(n.resolution,this.zDirection),s=i.getTileCoordForCoordAndZ(n.center,a)[0];return e.imageryProviders.map((function(e){for(var n=!1,i=e.coverageAreas,a=0,l=i.length;a<l;++a){var u=i[a];if(s>=u.zoomMin&&s<=u.zoomMax){var c=u.bbox,h=[c[1],c[0],c[3],c[2]],p=(0,o.applyTransform)(h,m);if((0,o.intersects)(p,t.extent)){n=!0;break}}}n&&r.push(e.attribution)})),r.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),r}.bind(this))}this.setState(l.Z.READY)}else this.setState(l.Z.ERROR)},e}(u.Z);var f=r(19664),g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const m=function(t){function e(e){var r=e||{},n=void 0!==r.projection?r.projection:"EPSG:3857",i=void 0!==r.tileGrid?r.tileGrid:(0,h.createXYZ)({extent:(0,h.extentFromProjection)(n),maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:n,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return g(e,t),e}(u.Z);var y=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const v=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,wrapX:e.wrapX})||this;return r.account_=e.account,r.mapId_=e.map||"",r.config_=e.config||{},r.templateCache_={},r.initializeMap_(),r}return y(e,t),e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){(0,f.f0)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,t)),r.addEventListener("error",this.handleInitError_.bind(this)),r.open("POST",e),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var r=e.target;if(!r.status||r.status>=200&&r.status<300){var n=void 0;try{n=JSON.parse(r.responseText)}catch(t){return void this.setState(l.Z.ERROR)}this.applyTemplate_(n),this.templateCache_[t]=n,this.setState(l.Z.READY)}else this.setState(l.Z.ERROR)},e.prototype.handleInitError_=function(t){this.setState(l.Z.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(m);var _=r(75492),b=r(16147),x=r(52279),w=r(66702),E=r(15989),C=r(77713),S=r(18581),T=r(66824),P=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),O="default",M="truncated",R=function(t){function e(e,r,n,i,o,a,s){var l=t.call(this,r,n,i,o,a,s)||this;return l.zoomifyImage_=null,l.tileSize_=e,l}return P(e,t),e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==w.Z.LOADED){var r=this.tileSize_;if(e.width==r[0]&&e.height==r[1])return this.zoomifyImage_=e,e;var n=(0,C.E4)(r[0],r[1]);return n.drawImage(e,0,0),this.zoomifyImage_=n.canvas,n.canvas}return e},e}(x.Z),I=function(t){function e(e){var r=this,n=e||{},o=n.size,a=void 0!==n.tierSizeCalculation?n.tierSizeCalculation:O,s=n.tilePixelRatio||1,l=o[0],u=o[1],c=[],h=n.tileSize||b.S,p=h*s;switch(a){case O:for(;l>p||u>p;)c.push([Math.ceil(l/p),Math.ceil(u/p)]),p+=p;break;case M:for(var d=l,f=u;d>p||f>p;)c.push([Math.ceil(d/p),Math.ceil(f/p)]),d>>=1,f>>=1;break;default:(0,E.h)(!1,53)}c.push([1,1]),c.reverse();for(var g=[s],m=[0],y=1,v=c.length;y<v;y++)g.push(s<<y),m.push(c[y-1][0]*c[y-1][1]+m[y-1]);g.reverse();var _=new T.Z({tileSize:h,extent:n.extent||[0,-u,l,0],resolutions:g}),x=n.url;x&&-1==x.indexOf("{TileGroup}")&&-1==x.indexOf("{tileIndex}")&&(x+="{TileGroup}/{z}-{x}-{y}.jpg");var w=(0,i.Gk)(x),C=h*s;var P=(0,i.Un)(w.map((function(t){return function(e,r,n){if(e){var i=e[0],o=e[1],a=e[2],s=o+a*c[i][0],l={z:i,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+m[i])/C|0)};return t.replace(/\{(\w+?)\}/g,(function(t,e){return l[e]}))}}}))),I=R.bind(null,(0,S.Pq)(h*s));return(r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,tilePixelRatio:s,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:I,tileGrid:_,tileUrlFunction:P,transition:n.transition})||this).zDirection=n.zDirection,r}return P(e,t),e}(u.Z);const L=I;var k=r(8572),A=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function F(t){return t.toLocaleString("en",{maximumFractionDigits:10})}const N=function(t){function e(e){var r=this,n=e||{},i=n.url||"";i+=i.lastIndexOf("/")===i.length-1||""===i?"":"/";var a=n.version||k.L.VERSION2,s=n.sizes||[],l=n.size;(0,E.h)(null!=l&&Array.isArray(l)&&2==l.length&&!isNaN(l[0])&&l[0]>0&&!isNaN(l[1])&&l[1]>0,60);var u,c,h,p=l[0],d=l[1],f=n.tileSize,g=n.tilePixelRatio||1,m=n.format||"jpg",y=n.quality||(n.version==k.L.VERSION1?"native":"default"),v=n.resolutions||[],_=n.supports||[],x=n.extent||[0,-d,p,0],w=null!=s&&Array.isArray(s)&&s.length>0,C=void 0!==f&&("number"==typeof f&&Number.isInteger(f)&&f>0||Array.isArray(f)&&f.length>0),P=null!=_&&Array.isArray(_)&&(_.includes("regionByPx")||_.includes("regionByPct"))&&(_.includes("sizeByWh")||_.includes("sizeByH")||_.includes("sizeByW")||_.includes("sizeByPct"));if(v.sort((function(t,e){return e-t})),C||P)if(null!=f&&("number"==typeof f&&Number.isInteger(f)&&f>0?(u=f,c=f):Array.isArray(f)&&f.length>0&&((1==f.length||null==f[1]&&Number.isInteger(f[0]))&&(u=f[0],c=f[0]),2==f.length&&(Number.isInteger(f[0])&&Number.isInteger(f[1])?(u=f[0],c=f[1]):null==f[0]&&Number.isInteger(f[1])&&(u=f[1],c=f[1])))),void 0!==u&&void 0!==c||(u=b.S,c=b.S),0==v.length)for(var O=h=Math.max(Math.ceil(Math.log(p/u)/Math.LN2),Math.ceil(Math.log(d/c)/Math.LN2));O>=0;O--)v.push(Math.pow(2,O));else{var M=Math.max.apply(Math,v);h=Math.round(Math.log(M)/Math.LN2)}else if(u=p,c=d,v=[],w){s.sort((function(t,e){return t[0]-e[0]})),h=-1;var I=[];for(O=0;O<s.length;O++){var L=p/s[O][0];v.length>0&&v[v.length-1]==L?I.push(O):(v.push(L),h++)}if(I.length>0)for(O=0;O<I.length;O++)s.splice(I[O]-O,1)}else v.push(1),s.push([p,d]),h=0;var A=new T.Z({tileSize:[u,c],extent:x,origin:(0,o.getTopLeft)(x),resolutions:v}),N=R.bind(null,(0,S.Pq)(f||256).map((function(t){return t*g})));return(r=t.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,state:n.state,tileClass:N,tileGrid:A,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:function(t,e,r){var n,o,l=t[0];if(!(l>h)){var f=t[1],g=t[2],b=v[l];if(!(void 0===f||void 0===g||void 0===b||f<0||Math.ceil(p/b/u)<=f||g<0||Math.ceil(d/b/c)<=g)){if(P||C){var x=f*u*b,E=g*c*b,S=u*b,T=c*b,O=u,M=c;if(x+S>p&&(S=p-x),E+T>d&&(T=d-E),x+u*b>p&&(O=Math.floor((p-x+b-1)/b)),E+c*b>d&&(M=Math.floor((d-E+b-1)/b)),0==x&&S==p&&0==E&&T==d)n="full";else if(!P||_.includes("regionByPx"))n=x+","+E+","+S+","+T;else if(_.includes("regionByPct")){n="pct:"+F(x/p*100)+","+F(E/d*100)+","+F(S/p*100)+","+F(T/d*100)}a!=k.L.VERSION3||P&&!_.includes("sizeByWh")?!P||_.includes("sizeByW")?o=O+",":_.includes("sizeByH")?o=","+M:_.includes("sizeByWh")?o=O+","+M:_.includes("sizeByPct")&&(o="pct:"+F(100/b)):o=O+","+M}else if(n="full",w){var R=s[l][0],I=s[l][1];o=a==k.L.VERSION3?R==p&&I==d?"max":R+","+I:R==p?"full":R+","}else o=a==k.L.VERSION3?"max":"full";return i+n+"/"+o+"/0/"+y+"."+m}}},transition:n.transition})||this).zDirection=n.zDirection,r}return A(e,t),e}(u.Z);var Z=r(18385),j=r(59917),D=r(21092),G=r(43877),z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const U=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.hidpi_=void 0===n.hidpi||n.hidpi,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:Z.r6,r.params_=n.params||{},r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return z(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==e&&i.getPixelRatio()==r&&(0,o.containsExtent)(i.getExtent(),t))return i;var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,f.f0)(a,this.params_);var s=((t=t.slice())[0]+t[2])/2,l=(t[1]+t[3])/2;if(1!=this.ratio_){var u=this.ratio_*(0,o.getWidth)(t)/2,c=this.ratio_*(0,o.getHeight)(t)/2;t[0]=s-u,t[1]=l-c,t[2]=s+u,t[3]=l+c}var h=e/r,p=Math.ceil((0,o.getWidth)(t)/h),d=Math.ceil((0,o.getHeight)(t)/h);t[0]=s-h*p/2,t[2]=s+h*p/2,t[1]=l-h*d/2,t[3]=l+h*d/2,this.imageSize_[0]=p,this.imageSize_[1]=d;var g=this.getRequestUrl_(t,this.imageSize_,r,n,a);return this.image_=new j.Z(t,e,r,g,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(D.Z.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,n,i){var o=n.getCode().split(":").pop();i.SIZE=e[0]+","+e[1],i.BBOX=t.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*r);var a=this.url_,s=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return s==a&&(0,E.h)(!1,50),(0,G.B)(s,i)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,f.f0)(this.params_,t),this.image_=null,this.changed()},e}(Z.ZP);var B=r(23113),q=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const V=function(t){function e(e){var r=t.call(this,{projection:e.projection,resolutions:e.resolutions})||this;return r.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,r.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,r.params_=e.params||{},r.url_=e.url,r.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:Z.r6,r.hidpi_=void 0===e.hidpi||e.hidpi,r.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,r.ratio_=void 0!==e.ratio?e.ratio:1,r.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,r.image_=null,r.renderedRevision_=0,r}return q(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){e=this.findNearestResolution(e),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==e&&i.getPixelRatio()==r&&(0,o.containsExtent)(i.getExtent(),t))return i;1!=this.ratio_&&(t=t.slice(),(0,o.scaleFromCenter)(t,this.ratio_));var a=[(0,o.getWidth)(t)/e*r,(0,o.getHeight)(t)/e*r];if(void 0!==this.url_){var s=this.getUrl(this.url_,this.params_,t,a,n);(i=new j.Z(t,e,r,s,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(D.Z.CHANGE,this.handleImageChange.bind(this))}else i=null;return this.image_=i,this.renderedRevision_=this.getRevision(),i},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){(0,f.f0)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,r,n,i){var a=function(t,e,r,n){var i=(0,o.getWidth)(t),a=(0,o.getHeight)(t),s=e[0],l=e[1],u=.0254/n;return l*i>s*a?i*r/(s*u):a*r/(l*u)}(r,n,this.metersPerUnit_,this.displayDpi_),s=(0,o.getCenter)(r),l={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:a,SETVIEWCENTERX:s[0],SETVIEWCENTERY:s[1]};return(0,f.f0)(l,e),(0,G.B)(t,l)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(Z.ZP);var Y=r(67500),W=r(91281),X=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';const K=function(t){function e(e){var r,n=e||{};r=void 0!==n.attributions?n.attributions:[H];var i=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",o=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:r,cacheSize:n.cacheSize,crossOrigin:i,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:o,wrapX:n.wrapX,attributionsCollapsible:!1})||this}return X(e,t),e}(m);var J=r(22352),$=r(7081),Q=r(22567),tt=r(72673),et=r(68750),rt=r(94286),nt=r(3657),it=r(34620),ot=r(4065),at=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),st="beforeoperations",lt="afteroperations",ut="pixel",ct="image",ht=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.extent=r.extent,i.resolution=r.viewState.resolution/r.pixelRatio,i.data=n,i}return at(e,t),e}(Q.ZP),pt=function(t){function e(e){var r=t.call(this,{projection:null})||this;r.worker_=null,r.operationType_=void 0!==e.operationType?e.operationType:ut,r.threads_=void 0!==e.threads?e.threads:1,r.layers_=function(t){for(var e=t.length,r=new Array(e),n=0;n<e;++n)r[n]=gt(t[n]);return r}(e.sources);for(var n,i=r.changed.bind(r),o=0,a=r.layers_.length;o<a;++o)r.layers_[o].addEventListener(D.Z.CHANGE,i);return r.tileQueue_=new $.Z((function(){return 1}),r.changed.bind(r)),r.requestedFrameState_,r.renderedImageCanvas_=null,r.renderedRevision_,r.frameState_={animate:!1,coordinateToPixelTransform:(0,nt.Ue)(),extent:null,index:0,layerIndex:0,layerStatesArray:(n=r.layers_,n.map((function(t){return t.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:(0,nt.Ue)(),postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},r.setAttributions((function(t){for(var r=[],n=0,i=e.sources.length;n<i;++n){var o=e.sources[n],a=(o instanceof ot.Z?o:o.getSource()).getAttributions();if("function"==typeof a){var s=a(t);r.push.apply(r,s)}}return 0!==r.length?r:null})),void 0!==e.operation&&r.setOperation(e.operation,e.lib),r}return at(e,t),e.prototype.setOperation=function(t,e){this.worker_=new tt.w({operation:t,imageOps:this.operationType_===ct,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,r){var n=(0,f.f0)({},this.frameState_);n.viewState=(0,f.f0)({},n.viewState);var i=(0,o.getCenter)(t);n.extent=t.slice(),n.size[0]=Math.round((0,o.getWidth)(t)/e),n.size[1]=Math.round((0,o.getHeight)(t)/e),n.time=1/0;var a=n.viewState;return a.center=i,a.projection=r,a.resolution=e,n},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,r=this.layers_.length;e<r;++e)if(this.layers_[e].getSource().getState()!==l.Z.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,r,n){if(!this.allSourcesReady_())return null;var i=this.updateFrameState_(t,e,n);if(this.requestedFrameState_=i,this.renderedImageCanvas_){var a=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();e===a&&(0,o.equals)(t,s)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.tileQueue.loadMoreTiles(16,16),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.layers_.length,r=new Array(e),n=0;n<e;++n){t.layerIndex=n;var i=ft(this.layers_[n],t);if(!i)return;r[n]=i}var o={};this.dispatchEvent(new ht(st,t,o)),this.worker_.process(r,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,r,n){if(!e&&r){var i=t.extent,a=t.viewState.resolution;if(a===this.requestedFrameState_.viewState.resolution&&(0,o.equals)(i,this.requestedFrameState_.extent)){var s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{var l=Math.round((0,o.getWidth)(i)/a),u=Math.round((0,o.getHeight)(i)/a);s=(0,C.E4)(l,u),this.renderedImageCanvas_=new J.Z(i,a,1,s.canvas)}s.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new ht(lt,t,n))}}},e.prototype.getImageInternal=function(){return null},e}(Z.ZP),dt=null;function ft(t,e){var r=t.getRenderer();if(!r)throw new Error("Unsupported layer type: "+t);if(!r.prepareFrame(e))return null;var n,i=e.size[0],o=e.size[1],a=r.renderFrame(e,null);if(a&&(n=a.firstElementChild),!(n instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+n);if(n.width===i&&n.height===o)return n.getContext("2d").getImageData(0,0,i,o);if(dt){var s=dt.canvas;s.width!==i||s.height!==o?dt=(0,C.E4)(i,o):dt.clearRect(0,0,i,o)}else dt=(0,C.E4)(i,o);return dt.drawImage(n,0,0,i,o),dt.getImageData(0,0,i,o)}function gt(t){var e;return t instanceof ot.Z?t instanceof it.Z?e=new rt.default({source:t}):t instanceof Z.ZP&&(e=new et.Z({source:t})):e=t,e}const mt=pt;var yt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',H],_t={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},bt={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};const xt=function(t){function e(e){var r=e.layer.indexOf("-"),n=-1==r?e.layer:e.layer.slice(0,r),i=bt[n],o=_t[e.layer],a=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+o.extension;return t.call(this,{attributions:vt,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:null!=e.maxZoom?e.maxZoom:i.maxZoom,minZoom:null!=e.minZoom?e.minZoom:i.minZoom,opaque:o.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:a,wrapX:e.wrapX})||this}return yt(e,t),e}(m);var wt=r(25529),Et=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Ct(t,e,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=t[0])){1==e||this.hidpi_||(e=1);var i=n.getTileCoordExtent(t,this.tmpExtent_),o=(0,S.Pq)(n.getTileSize(t[0]),this.tmpSize);1!=e&&(o=(0,S.bA)(o,e,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,f.f0)(a,this.params_),this.getRequestUrl_(t,o,i,e,r,a)}}const St=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:Ct,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).params_=n.params||{},r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=(0,o.createEmpty)(),r.setKey(r.getKeyForParams_()),r}return Et(e,t),e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,n,i,o){var a=this.urls;if(a){var s,l=i.getCode().split(":").pop();if(o.SIZE=e[0]+","+e[1],o.BBOX=r.join(","),o.BBOXSR=l,o.IMAGESR=l,o.DPI=Math.round(o.DPI?o.DPI*n:90*n),1==a.length)s=a[0];else s=a[(0,wt.$W)((0,c.vp)(t),a.length)];var u=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,G.B)(u,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_?t:1},e.prototype.updateParams=function(t){(0,f.f0)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(u.Z);var Tt=r(37860),Pt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ot=function(t){function e(e,r,n){var i=t.call(this,e,w.Z.LOADED)||this;return i.tileSize_=r,i.text_=n,i.canvas_=null,i}return Pt(e,t),e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=(0,C.E4)(t[0],t[1]);return e.strokeStyle="grey",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="grey",e.strokeStyle="white",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.lineWidth=4,e.strokeText(this.text_,t[0]/2,t[1]/2,t[0]),e.fillText(this.text_,t[0]/2,t[1]/2,t[0]),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(Tt.Z);const Mt=function(t){function e(e){var r=e||{};return t.call(this,{opaque:!1,projection:r.projection,tileGrid:r.tileGrid,wrapX:void 0===r.wrapX||r.wrapX,zDirection:r.zDirection})||this}return Pt(e,t),e.prototype.getTile=function(t,e,r){var n=(0,c.lg)(t,e,r);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var i=(0,S.Pq)(this.tileGrid.getTileSize(t)),o=[t,e,r],a=this.getTileCoordForTileUrlFunction(o),s=void 0;s=a?"z:"+a[0]+" x:"+a[1]+" y:"+a[2]:"none";var l=new Ot(o,i,s);return this.tileCache.set(n,l),l},e}(m);var Rt=r(76291),It=r(33155),Lt=r(27256),kt=r(53732),At=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ft=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r)||this;return s.src_=n,s.extent_=i,s.preemptive_=o,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return At(e,t),e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof n)return null;var i=n.charCodeAt(Math.floor(e*n.length));i>=93&&i--,i>=35&&i--;var o=null;if((i-=32)in this.keys_){var a=this.keys_[i];o=this.data_&&a in this.data_?this.data_[a]:a}return o},e.prototype.forDataAtCoordinate=function(t,e,r){this.state==w.Z.EMPTY&&!0===r?(this.state=w.Z.IDLE,(0,kt.Vx)(this,D.Z.CHANGE,(function(r){e(this.getData(t))}),this),this.loadInternal_()):!0===r?setTimeout(function(){e(this.getData(t))}.bind(this),0):e(this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=w.Z.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=w.Z.LOADED,this.changed()},e.prototype.loadInternal_=function(){if(this.state==w.Z.IDLE)if(this.state=w.Z.LOADING,this.jsonp_)(0,a.R)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(w.Z.EMPTY)},e}(Tt.Z),Nt=function(t){function e(e){var r=t.call(this,{projection:(0,s.get)("EPSG:3857"),state:l.Z.LOADING})||this;if(r.preemptive_=void 0===e.preemptive||e.preemptive,r.tileUrlFunction_=i.vU,r.template_=void 0,r.jsonp_=e.jsonp||!1,e.url)if(r.jsonp_)(0,a.R)(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var n=new XMLHttpRequest;n.addEventListener("load",r.onXHRLoad_.bind(r)),n.addEventListener("error",r.onXHRError_.bind(r)),n.open("GET",e.url),n.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):(0,E.h)(!1,51);return r}return At(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,r,n){if(this.tileGrid){var i=this.tileGrid.getZForResolution(e,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(t,i);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(t,r,n)}else!0===n?setTimeout((function(){r(null)}),0):r(null)},e.prototype.handleTileJSONError=function(){this.setState(l.Z.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,r=(0,s.get)("EPSG:4326"),n=this.getProjection();if(void 0!==t.bounds){var a=(0,s.getTransformFromProjections)(r,n);e=(0,o.applyTransform)(t.bounds,a)}var u=t.minzoom||0,c=t.maxzoom||22,p=(0,h.createXYZ)({extent:(0,h.extentFromProjection)(n),maxZoom:c,minZoom:u});this.tileGrid=p,this.template_=t.template;var d=t.grids;if(d){if(this.tileUrlFunction_=(0,i.uR)(d,p),void 0!==t.attribution){var f=void 0!==e?e:r.getExtent();this.setAttributions((function(e){return(0,o.intersects)(f,e.extent)?[t.attribution]:null}))}this.setState(l.Z.READY)}else this.setState(l.Z.ERROR)},e.prototype.getTile=function(t,e,r,n,i){var o=(0,c.lg)(t,e,r);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var a=[t,e,r],s=this.getTileCoordForTileUrlFunction(a,i),l=this.tileUrlFunction_(s,n,i),u=new Ft(a,void 0!==l?w.Z.IDLE:w.Z.EMPTY,void 0!==l?l:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);return this.tileCache.set(o,u),u},e.prototype.useTile=function(t,e,r){var n=(0,c.lg)(t,e,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(it.Z);const Zt=Nt;var jt=r(40622),Dt=r(35274);const Gt="KVP";var zt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Ut=function(t){function e(e){var r=this,n=void 0!==e.requestEncoding?e.requestEncoding:Gt,o=e.tileGrid,a=e.urls;return void 0===a&&void 0!==e.url&&(a=(0,i.Gk)(e.url)),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:i.vU,urls:a,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition})||this).version_=void 0!==e.version?e.version:"1.0.0",r.format_=void 0!==e.format?e.format:"image/jpeg",r.dimensions_=void 0!==e.dimensions?e.dimensions:{},r.layer_=e.layer,r.matrixSet_=e.matrixSet,r.style_=e.style,r.requestEncoding_=n,r.setKey(r.getKeyForDimensions_()),a&&a.length>0&&(r.tileUrlFunction=(0,i.Un)(a.map(Bt.bind(r)))),r}return zt(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction((0,i.Un)(t.map(Bt.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var r in this.dimensions_)e[t++]=r+"-"+this.dimensions_[r];return e.join("/")},e.prototype.updateDimensions=function(t){(0,f.f0)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(u.Z);function Bt(t){var e=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Gt&&(0,f.f0)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Gt?(0,G.B)(t,r):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}));var n=this.tileGrid,i=this.dimensions_;return function(r,o,a){if(r){var s={TileMatrix:n.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};(0,f.f0)(s,i);var l=t;return l=e==Gt?(0,G.B)(l,s):l.replace(/\{(\w+?)\}/g,(function(t,e){return s[e]}))}}}},75492:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(19579),o=r(15989),a=r(41013),s=r(42050),l=r(24160),u=r(21092),c=r(2309),h=r(4655),p=r(40622),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==e.distance?e.distance:20,r.features=[],r.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return(0,o.h)(e.getType()==s.Z.POINT,10),e},r.source=e.source,r.source.addEventListener(u.Z.CHANGE,r.refresh.bind(r)),r}return d(e,t),e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,r){this.source.loadFeatures(t,e,r),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=(0,c.createEmpty)(),e=this.distance*this.resolution,r=this.source.getFeatures(),n={},o=0,a=r.length;o<a;o++){var s=r[o];if(!((0,i.sq)(s)in n)){var l=this.geometryFunction(s);if(l){var u=l.getCoordinates();(0,c.createOrUpdateFromCoordinate)(u,t),(0,c.buffer)(t,e,t);var h=this.source.getFeaturesInExtent(t);h=h.filter((function(t){var e=(0,i.sq)(t);return!(e in n)&&(n[e]=!0,!0)})),this.features.push(this.createCluster(h))}}}}},e.prototype.createCluster=function(t){for(var e=[0,0],r=t.length-1;r>=0;--r){var n=this.geometryFunction(t[r]);n?(0,l.add)(e,n.getCoordinates()):t.splice(r,1)}(0,l.scale)(e,1/t.length);var i=new a.default(new h.Z(e));return i.set("features",t),i},e}(p.Z)},18385:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>S,r6:()=>C});var n,i=r(19579),o=r(52517),a=r(92472),s=r(26060),l=r(22567),u=r(2309),c=r(93558),h=r(160),p=r(53732),d=r(21092),f=r(70068),g=r(31999),m=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const y=function(t){function e(e,r,n,i,s,l){var c=this,h=e.getExtent(),p=r.getExtent(),d=p?(0,u.getIntersection)(n,p):n,m=(0,u.getCenter)(d),y=(0,f.a)(e,r,m,i),v=o.m,_=new g.Z(e,r,d,h,y*v),b=l(_.calculateSourceExtent(),y,s),x=b?a.Z.IDLE:a.Z.EMPTY,w=b?b.getPixelRatio():1;return(c=t.call(this,n,i,w,x)||this).targetProj_=r,c.maxSourceExtent_=h,c.triangulation_=_,c.targetResolution_=i,c.targetExtent_=n,c.sourceImage_=b,c.sourcePixelRatio_=w,c.canvas_=null,c.sourceListenerKey_=null,c}return m(e,t),e.prototype.disposeInternal=function(){this.state==a.Z.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==a.Z.LOADED){var e=(0,u.getWidth)(this.targetExtent_)/this.targetResolution_,r=(0,u.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,f.s)(e,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==a.Z.IDLE){this.state=a.Z.LOADING,this.changed();var t=this.sourceImage_.getState();t==a.Z.LOADED||t==a.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,p.oL)(this.sourceImage_,d.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=a.Z.LOADED&&e!=a.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,p.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(h.Z);var v=r(4065),_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b="imageloadstart",x="imageloadend",w="imageloaderror",E=function(t){function e(e,r){var n=t.call(this,e)||this;return n.image=r,n}return _(e,t),e}(l.ZP);function C(t,e){t.getImage().src=e}const S=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return r.resolutions_=void 0!==e.resolutions?e.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r}return _(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,s.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,r,n){var i=this.getProjection();if(o.j&&i&&n&&!(0,c.equivalent)(i,n)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,c.equivalent)(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==e&&(0,u.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new y(i,n,t,e,r,function(t,e,r){return this.getImageInternal(t,e,r,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(n=i),this.getImageInternal(t,e,r,n)},e.prototype.getImageInternal=function(t,e,r,n){return(0,i.O3)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case a.Z.LOADING:this.loading=!0,this.dispatchEvent(new E(b,e));break;case a.Z.LOADED:this.loading=!1,this.dispatchEvent(new E(x,e));break;case a.Z.ERROR:this.loading=!1,this.dispatchEvent(new E(w,e))}},e}(v.Z)},23113:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n,i=r(22352),o=r(2309),a=r(18385),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const l=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions,state:n.state})||this).canvasFunction_=n.canvasFunction,r.canvas_=null,r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return s(e,t),e.prototype.getImageInternal=function(t,e,r,n){e=this.findNearestResolution(e);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==e&&a.getPixelRatio()==r&&(0,o.containsExtent)(a.getExtent(),t))return a;t=t.slice(),(0,o.scaleFromCenter)(t,this.ratio_);var s=[(0,o.getWidth)(t)/e*r,(0,o.getHeight)(t)/e*r],l=this.canvasFunction_.call(this,t,e,r,s,n);return l&&(a=new i.Z(t,e,r,l)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a},e}(a.ZP)},67500:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n,i=r(59917),o=r(92472),a=r(77713),s=r(21092),l=r(2309),u=r(93558),c=r(18385),h=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const p=function(t){function e(e){var r=this,n=void 0!==e.crossOrigin?e.crossOrigin:null,o=void 0!==e.imageLoadFunction?e.imageLoadFunction:c.r6;return(r=t.call(this,{attributions:e.attributions,projection:(0,u.get)(e.projection)})||this).url_=e.url,r.imageExtent_=e.imageExtent,r.image_=new i.Z(r.imageExtent_,void 0,1,r.url_,n,o),r.imageSize_=e.imageSize?e.imageSize:null,r.image_.addEventListener(s.Z.CHANGE,r.handleImageChange.bind(r)),r}return h(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,r,n){return(0,l.intersects)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==o.Z.LOADED){var r=this.image_.getExtent(),n=this.image_.getImage(),i=void 0,s=void 0;this.imageSize_?(i=this.imageSize_[0],s=this.imageSize_[1]):(i=n.width,s=n.height);var u=(0,l.getHeight)(r)/s,c=Math.ceil((0,l.getWidth)(r)/u);if(c!=i){var h=(0,a.E4)(c,s),p=h.canvas;h.drawImage(n,0,0,i,s,0,0,p.width,p.height),this.image_.setImage(p)}}t.prototype.handleImageChange.call(this,e)},e}(c.ZP)},91281:(t,e,r)=>{"use strict";r.d(e,{Z:()=>v});var n,i=r(46129),o=r(59917),a=r(15989),s=r(21092),l=r(2309),u=r(19664),c=r(93558),h=r(70068),p=r(18385),d=r(52534),f=r(76880),g=r(43877),m=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y=[101,101];const v=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:p.r6,r.params_=n.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return m(e,t),e.prototype.getFeatureInfoUrl=function(t,e,r,n){if(void 0!==this.url_){var o=(0,c.get)(r),a=this.getProjection();a&&a!==o&&(e=(0,h.a)(a,o,t,e),t=(0,c.transform)(t,o,a));var s=(0,l.getForViewAndSize)(t,e,0,y),p={SERVICE:"WMS",VERSION:i.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,u.f0)(p,this.params_,n);var d=Math.floor((t[0]-s[0])/e),f=Math.floor((s[3]-t[1])/e);return p[this.v13_?"I":"X"]=d,p[this.v13_?"J":"Y"]=f,this.getRequestUrl_(s,y,1,a||o,p)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:i.E,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*o*39.37*(25.4/.28)}return(0,u.f0)(r,e),(0,g.B)(this.url_,r)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var a=e/r,c=(0,l.getCenter)(t),h=Math.ceil((0,l.getWidth)(t)/a),p=Math.ceil((0,l.getHeight)(t)/a),d=(0,l.getForViewAndSize)(c,a,0,[h,p]),f=Math.ceil(this.ratio_*(0,l.getWidth)(t)/a),g=Math.ceil(this.ratio_*(0,l.getHeight)(t)/a),m=(0,l.getForViewAndSize)(c,a,0,[f,g]),y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==e&&y.getPixelRatio()==r&&(0,l.containsExtent)(y.getExtent(),d))return y;var v={SERVICE:"WMS",VERSION:i.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,u.f0)(v,this.params_),this.imageSize_[0]=Math.round((0,l.getWidth)(m)/a),this.imageSize_[1]=Math.round((0,l.getHeight)(m)/a);var _=this.getRequestUrl_(m,this.imageSize_,r,n,v);return this.image_=new o.Z(m,e,r,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(s.Z.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,n,i){if((0,a.h)(void 0!==this.url_,9),i[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=r)switch(this.serverType_){case d.Z.GEOSERVER:var o=90*r+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+o:i.FORMAT_OPTIONS="dpi:"+o;break;case d.Z.MAPSERVER:i.MAP_RESOLUTION=90*r;break;case d.Z.CARMENTA_SERVER:case d.Z.QGIS:i.DPI=90*r;break;default:(0,a.h)(!1,8)}i.WIDTH=e[0],i.HEIGHT=e[1];var s,l=n.getAxisOrientation();return s=this.v13_&&"ne"==l.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,i.BBOX=s.join(","),(0,g.B)(this.url_,i)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,u.f0)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||i.E;this.v13_=(0,f.n)(t,"1.3")>=0},e}(p.ZP)},4065:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n,i=r(19579),o=r(10906),a=r(93558),s=r(42587),l=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function u(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const c=function(t){function e(e){var r=t.call(this)||this;return r.projection_=(0,a.get)(e.projection),r.attributions_=u(e.attributions),r.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,r.loading=!1,r.state_=void 0!==e.state?e.state:s.Z.READY,r.wrapX_=void 0!==e.wrapX&&e.wrapX,r}return l(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,i.O3)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=u(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(o.ZP)},42587:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},34620:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m,s:()=>g});var n,i=r(19579),o=r(28761),a=r(66702),s=r(22567),l=r(93558),u=r(18581),c=r(4065),h=r(76026),p=r(57084),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;r.opaque_=void 0!==e.opaque&&e.opaque,r.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,r.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var n=e.cacheSize;if(void 0===n){var i=[256,256],a=e.tileGrid;a&&(0,u.Pq)(a.getTileSize(a.getMinZoom()),i);var s="undefined"!=typeof screen,l=s?screen.availWidth||screen.width:1920,c=s?screen.availHeight||screen.height:1080;n=4*Math.ceil(l/i[0])*Math.ceil(c/i[1])}return r.tileCache=new o.Z(n),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition},r.zDirection=e.zDirection?e.zDirection:0,r}return d(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var r=this.getTileCacheForProjection(t);r&&r.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,r,n){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,s,l,u=!0,c=r.minX;c<=r.maxX;++c)for(var p=r.minY;p<=r.maxY;++p)s=(0,h.lg)(e,c,p),l=!1,i.containsKey(s)&&(l=(o=i.get(s)).getState()===a.Z.LOADED)&&(l=!1!==n(o)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,r,n,o){return(0,i.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,p.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,l.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,r){var n=this.getTileGridForProjection(r),i=this.getTilePixelRatio(e),o=(0,u.Pq)(n.getTileSize(t),this.tmpSize);return 1==i?o:(0,u.bA)(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var r=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=(0,p.wrapX)(n,t,r)),(0,h.tE)(t,n)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,r,n){},e}(c.Z),g=function(t){function e(e,r){var n=t.call(this,e)||this;return n.tile=r,n}return d(e,t),e}(s.ZP);const m=f},36595:(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n,i=r(52517),o=r(19579),a=r(52279),s=r(28761),l=r(66702),u=r(21092),c=r(93558),h=r(37860),p=r(53732),d=r(2309),f=r(25529),g=r(70068),m=r(31999),y=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const v=function(t){function e(e,r,n,o,a,s,u,c,h,p,y){var v=t.call(this,a,l.Z.IDLE)||this;v.renderEdges_=void 0!==y&&y,v.pixelRatio_=u,v.gutter_=c,v.canvas_=null,v.sourceTileGrid_=r,v.targetTileGrid_=o,v.wrappedTileCoord_=s||a,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var _=o.getTileCoordExtent(v.wrappedTileCoord_),b=v.targetTileGrid_.getExtent(),x=v.sourceTileGrid_.getExtent(),w=b?(0,d.getIntersection)(_,b):_;if(0===(0,d.getArea)(w))return v.state=l.Z.EMPTY,v;var E=e.getExtent();E&&(x=x?(0,d.getIntersection)(x,E):E);var C=o.getResolution(v.wrappedTileCoord_[0]),S=(0,d.getCenter)(w),T=(0,g.a)(e,n,S,C);if(!isFinite(T)||T<=0)return v.state=l.Z.EMPTY,v;var P=void 0!==p?p:i.m;if(v.triangulation_=new m.Z(e,n,w,x,T*P),0===v.triangulation_.getTriangles().length)return v.state=l.Z.EMPTY,v;v.sourceZ_=r.getZForResolution(T);var O=v.triangulation_.calculateSourceExtent();if(x&&(e.canWrapX()?(O[1]=(0,f.uZ)(O[1],x[1],x[3]),O[3]=(0,f.uZ)(O[3],x[1],x[3])):O=(0,d.getIntersection)(O,x)),(0,d.getArea)(O)){for(var M=r.getTileRangeForExtentAndZ(O,v.sourceZ_),R=M.minX;R<=M.maxX;R++)for(var I=M.minY;I<=M.maxY;I++){var L=h(v.sourceZ_,R,I,u);L&&v.sourceTiles_.push(L)}0===v.sourceTiles_.length&&(v.state=l.Z.EMPTY)}else v.state=l.Z.EMPTY;return v}return y(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,n){e&&e.getState()==l.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=l.Z.ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),n="number"==typeof r?r:r[0],i="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,g.s)(n,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=l.Z.LOADED}this.changed()},e.prototype.load=function(){if(this.state==l.Z.IDLE){this.state=l.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,n){var i=e.getState();if(i==l.Z.IDLE||i==l.Z.LOADING){t++;var o=(0,p.oL)(e,u.Z.CHANGE,(function(r){var n=e.getState();n!=l.Z.LOADED&&n!=l.Z.ERROR&&n!=l.Z.EMPTY||((0,p.bN)(o),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,r){t.getState()==l.Z.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(p.bN),this.sourcesListenerKeys_=null},e}(h.Z);var _=r(27256),b=r(76026),x=r(57084),w=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),E=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:C,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,r.tileClass=void 0!==e.tileClass?e.tileClass:a.Z,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return w(e,t),e.prototype.canExpireCache=function(){if(!i.j)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,r){if(i.j){var n=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==n?r:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==n?r:{})}}else t.prototype.expireCache.call(this,e,r)},e.prototype.getGutterForProjection=function(t){return i.j&&this.getProjection()&&t&&!(0,c.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.j&&this.getProjection()&&e&&!(0,c.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.j)return t.prototype.getTileGridForProjection.call(this,e);var r=this.getProjection();if(!this.tileGrid||r&&!(0,c.equivalent)(r,e)){var n=(0,o.sq)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,x.getForProjection)(e)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.j)return t.prototype.getTileCacheForProjection.call(this,e);var r=this.getProjection();if(!r||(0,c.equivalent)(r,e))return this.tileCache;var n=(0,o.sq)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new s.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,r,n,i,o){var a=[t,e,r],s=this.getTileCoordForTileUrlFunction(a,i),c=s?this.tileUrlFunction(s,n,i):void 0,h=new this.tileClass(a,void 0!==c?l.Z.IDLE:l.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(u.Z.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,r,n,o){var a=this.getProjection();if(i.j&&a&&o&&!(0,c.equivalent)(a,o)){var s=this.getTileCacheForProjection(o),l=[t,e,r],u=void 0,h=(0,b.km)(l);s.containsKey(h)&&(u=s.get(h));var p=this.getKey();if(u&&u.key==p)return u;var d=this.getTileGridForProjection(a),f=this.getTileGridForProjection(o),g=this.getTileCoordForTileUrlFunction(l,o),m=new v(a,d,o,f,l,g,this.getTilePixelRatio(n),this.getGutter(),function(t,e,r,n){return this.getTileInternal(t,e,r,n,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return m.key=p,u?(m.interimTile=u,m.refreshInterimChain(),s.replace(h,m)):s.set(h,m),m}return this.getTileInternal(t,e,r,n,a||o)},e.prototype.getTileInternal=function(t,e,r,n,i){var o=null,a=(0,b.lg)(t,e,r),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var u=o;o=this.createTile_(t,e,r,n,i,s),u.getState()==l.Z.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,r,n,i,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(i.j&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.j){var r=(0,c.get)(t);if(r){var n=(0,o.sq)(r);n in this.tileGridForProjection||(this.tileGridForProjection[n]=e)}}},e}(_.Z);function C(t,e){t.getImage().src=e}const S=E},76291:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>d});var n,i=r(89901),o=r(15989),a=r(2309),s=r(35241),l=r(93558),u=r(42587),c=r(36595),h=r(57084),p=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const d=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:(0,l.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:u.Z.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this;if(r.tileJSON_=null,r.tileSize_=e.tileSize,e.url)if(e.jsonp)(0,s.R)(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var n=new XMLHttpRequest;n.addEventListener("load",r.onXHRLoad_.bind(r)),n.addEventListener("error",r.onXHRError_.bind(r)),n.open("GET",e.url),n.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):(0,o.h)(!1,51);return r}return p(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,r=(0,l.get)("EPSG:4326"),n=this.getProjection();if(void 0!==t.bounds){var o=(0,l.getTransformFromProjections)(r,n);e=(0,a.applyTransform)(t.bounds,o)}var s=t.minzoom||0,c=t.maxzoom||22,p=(0,h.createXYZ)({extent:(0,h.extentFromProjection)(n),maxZoom:c,minZoom:s,tileSize:this.tileSize_});if(this.tileGrid=p,this.tileUrlFunction=(0,i.uR)(t.tiles,p),void 0!==t.attribution&&!this.getAttributions()){var d=void 0!==e?e:r.getExtent();this.setAttributions((function(e){return(0,a.intersects)(d,e.extent)?[t.attribution]:null}))}this.tileJSON_=t,this.setState(u.Z.READY)},e.prototype.handleTileJSONError=function(){this.setState(u.Z.ERROR)},e}(c.Z)},33155:(t,e,r)=>{"use strict";r.d(e,{Z:()=>_});var n,i=r(46129),o=r(15989),a=r(2309),s=r(19664),l=r(25529),u=r(93558),c=r(70068),h=r(18581),p=r(36595),d=r(52534),f=r(76026),g=r(76880),m=r(43877),y=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function v(t,e,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var o=n.getResolution(t[0]),l=n.getTileCoordExtent(t,this.tmpExtent_),u=(0,h.Pq)(n.getTileSize(t[0]),this.tmpSize),c=this.gutter_;0!==c&&(u=(0,h.f3)(u,c,this.tmpSize),l=(0,a.buffer)(l,o*c,l)),1!=e&&(u=(0,h.bA)(u,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:i.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,s.f0)(p,this.params_),this.getRequestUrl_(t,u,l,e,r,p)}}const _=function(t){function e(e){var r=this,n=e||{},i=n.params||{},o=!("TRANSPARENT"in i)||i.TRANSPARENT;return(r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:!o,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:v,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).gutter_=void 0!==n.gutter?n.gutter:0,r.params_=i,r.v13_=!0,r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=(0,a.createEmpty)(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return y(e,t),e.prototype.getFeatureInfoUrl=function(t,e,r,n){var o=(0,u.get)(r),l=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(o));var d=p.getZForResolution(e,this.zDirection),f=p.getTileCoordForCoordAndZ(t,d);if(!(p.getResolutions().length<=f[0])){var g=p.getResolution(f[0]),m=p.getTileCoordExtent(f,this.tmpExtent_),y=(0,h.Pq)(p.getTileSize(f[0]),this.tmpSize),v=this.gutter_;0!==v&&(y=(0,h.f3)(y,v,this.tmpSize),m=(0,a.buffer)(m,g*v,m)),l&&l!==o&&(g=(0,c.a)(l,o,t,g),m=(0,u.transformExtent)(m,o,l),t=(0,u.transform)(t,o,l));var _={SERVICE:"WMS",VERSION:i.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,s.f0)(_,this.params_,n);var b=Math.floor((t[0]-m[0])/g),x=Math.floor((m[3]-t[1])/g);return _[this.v13_?"I":"X"]=b,_[this.v13_?"J":"Y"]=x,this.getRequestUrl_(f,y,m,1,l||o,_)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var r={SERVICE:"WMS",VERSION:i.E,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*o*39.37*(25.4/.28)}return(0,s.f0)(r,e),(0,m.B)(this.urls[0],r)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,n,i,a){var s=this.urls;if(s){if(a.WIDTH=e[0],a.HEIGHT=e[1],a[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=n)switch(this.serverType_){case d.Z.GEOSERVER:var u=90*n+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+u:a.FORMAT_OPTIONS="dpi:"+u;break;case d.Z.MAPSERVER:a.MAP_RESOLUTION=90*n;break;case d.Z.CARMENTA_SERVER:case d.Z.QGIS:a.DPI=90*n;break;default:(0,o.h)(!1,52)}var c,h=i.getAxisOrientation(),p=r;if(this.v13_&&"ne"==h.substr(0,2)){var g=void 0;g=r[0],p[0]=r[1],p[1]=g,g=r[2],p[2]=r[3],p[3]=g}if(a.BBOX=p.join(","),1==s.length)c=s[0];else c=s[(0,l.$W)((0,f.vp)(t),s.length)];return(0,m.B)(c,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.updateParams=function(t){(0,s.f0)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||i.E;this.v13_=(0,g.n)(t,"1.3")>=0},e}(p.Z)},27256:(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var n=r(19579),i=r(66702),o=r(89901),a=r(34620);const s="tileloadstart",l="tileloadend",u="tileloaderror";var c,h=r(76026),p=(c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},c(t,e)},function(t,e){function r(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const d=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.generateTileUrlFunction_=!e.tileUrlFunction,r.tileLoadFunction=e.tileLoadFunction,r.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(r):o.vU,r.urls=null,e.urls?r.setUrls(e.urls):e.url&&r.setUrl(e.url),r.tileLoadingKeys_={},r}return p(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,r=t.target,o=(0,n.sq)(r),c=r.getState();c==i.Z.LOADING?(this.tileLoadingKeys_[o]=!0,e=s):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=c==i.Z.ERROR?u:c==i.Z.LOADED?l:void 0),null!=e&&this.dispatchEvent(new a.s(e,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=(0,o.Gk)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,o.uR)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,r){var n=(0,h.lg)(t,e,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(a.Z)},40622:(t,e,r)=>{"use strict";r.d(e,{Z:()=>C});var n,i=r(19579),o=r(17850),a=r(48625),s=r(27332),l=r(26060),u=r(15989),c=r(53732),h=r(22567),p=r(21092),d=r(2309),f=r(13097),g=r(62166),m=r(44235),y=r(19664),v=r(4065),_=r(42587),b=r(4712),x=r(68135),w=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),E=function(t){function e(e,r){var n=t.call(this,e)||this;return n.feature=r,n}return w(e,t),e}(h.ZP);const C=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{attributions:n.attributions,projection:void 0,state:_.Z.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).loader_=g.Zn,r.format_=n.format,r.overlaps_=null==n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&((0,u.h)(r.format_,7),r.loader_=(0,f.Be)(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:m.all;var i,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new x.Z:null,r.loadedExtentsRtree_=new x.Z,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(a=(i=n.features).getArray()),s||void 0!==i||(i=new o.default(a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==i&&r.bindFeaturesCollection_(i),r}return w(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,i.sq)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var r=t.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new E(b.Z.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,c.oL)(e,p.Z.CHANGE,this.handleFeatureChange_,this),(0,c.oL)(e,s.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var r=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=e),r&&((0,u.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],r=[],n=[],o=0,a=t.length;o<a;o++){var s=t[o],l=(0,i.sq)(s);this.addToIndex_(l,s)&&r.push(s)}o=0;for(var u=r.length;o<u;o++){s=r[o],l=(0,i.sq)(s);this.setupChangeEvents_(l,s);var c=s.getGeometry();if(c){var h=c.getExtent();e.push(h),n.push(s)}else this.nullGeometryFeatures_[l]=s}this.featuresRtree_&&this.featuresRtree_.load(e,n);o=0;for(var p=r.length;o<p;o++)this.dispatchEvent(new E(b.Z.ADDFEATURE,r[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(b.Z.ADDFEATURE,(function(r){e||(e=!0,t.push(r.feature),e=!1)})),this.addEventListener(b.Z.REMOVEFEATURE,(function(r){e||(e=!0,t.remove(r.feature),e=!1)})),t.addEventListener(a.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(a.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(c.bN)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new E(b.Z.CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(t)?e(r):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(r){if(r.getGeometry().intersectsExtent(t)){var n=e(r);if(n)return n}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,y.xb)(this.nullGeometryFeatures_)||(0,l.l7)(t,(0,y.KX)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var r=t[0],n=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||g.uX;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(r,n,o,a))<u){i=t;var c=Math.sqrt(a);s[0]=r-c,s[1]=n-c,s[2]=r+c,s[3]=n+c}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,r=(0,i.sq)(e),n=e.getGeometry();if(n){var o=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[r]=e);var a=e.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[r]=e;this.changed(),this.dispatchEvent(new E(b.Z.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,i.sq)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,y.xb)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,r){var n=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];n.forEachInExtent(s,(function(t){return(0,d.containsExtent)(t.extent,s)}))||(a.loader_.call(a,s,e,r),n.insert(s,{extent:s.slice()}),a.loading=a.loader_!==g.Zn)},a=this,s=0,l=i.length;s<l;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,r=this.loadedExtentsRtree_;r.forEachInExtent(t,(function(r){if((0,d.equals)(r.extent,t))return e=r,!0})),e&&r.remove(e)},e.prototype.removeFeature=function(t){var e=(0,i.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=(0,i.sq)(t);this.featureChangeKeys_[e].forEach(c.bN),delete this.featureChangeKeys_[e];var r=t.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new E(b.Z.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){(0,u.h)(this.format_,7),this.setLoader((0,f.Be)(t,this.format_))},e}(v.Z)},4712:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},35274:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>y,defaultLoadFunction:()=>v});var n,i=r(66702),o=r(13156),a=r(35654),s=r(18581),l=r(27256),u=r(76026),c=r(57084),h=r(2309),p=r(21092),d=r(13097),f=r(26060),g=r(28761),m=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const y=function(t){function e(e){var r=this,n=e.projection||"EPSG:3857",i=e.extent||(0,c.extentFromProjection)(n),o=e.tileGrid||(0,c.createXYZ)({extent:i,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:n,state:e.state,tileGrid:o,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:v,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,r.loadingTiles_={},r.sourceTileCache=new g.Z(r.tileCache.highWaterMark),r.overlaps_=null==e.overlaps||e.overlaps,r.tileClass=e.tileClass?e.tileClass:a.Z,r.tileGrids_={},r}return m(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],r=this.tileCache;if(0===r.getCount())return e;var n=(0,u.Ul)(r.peekFirstKey())[0],o=this.tileGrid;return r.forEach((function(r){if(r.tileCoord[0]===n&&r.getState()===i.Z.LOADED)for(var a=r.getSourceTiles(),s=0,l=a.length;s<l;++s){var u=a[s],c=u.tileCoord;if((0,h.intersects)(t,o.getTileCoordExtent(c))){var p=u.getFeatures();if(p)for(var d=0,f=p.length;d<f;++d){var g=p[d],m=g.getGeometry();(0,h.intersects)(t,m.getExtent())&&e.push(g)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.getSourceTiles=function(t,e,r){var n=r.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(n),s=n[0],l=o.getResolution(s);(0,h.buffer)(a,-l,a);var u=this.tileGrid,c=u.getExtent();c&&(0,h.getIntersection)(a,c,a);var d,g,m,y=u.getZForResolution(l,1),v=u.getMinZoom(),_=r.sourceTiles;if(_&&_.length>0&&_[0].tileCoord[0]===y)d=_,g=!0,m=y;else{d=[],m=y+1;do{--m,g=!0,u.forEachTileCoord(a,m,function(n){var o,a=this.tileUrlFunction(n,t,e);if(void 0!==a)if(this.sourceTileCache.containsKey(a)){var s=(o=this.sourceTileCache.get(a)).getState();if(s===i.Z.LOADED||s===i.Z.ERROR||s===i.Z.EMPTY)return void d.push(o)}else m===y&&((o=new this.tileClass(n,i.Z.IDLE,a,this.format_,this.tileLoadFunction)).extent=u.getTileCoordExtent(n),o.projection=e,o.resolution=u.getResolution(n[0]),this.sourceTileCache.set(a,o),o.addEventListener(p.Z.CHANGE,this.handleTileChange.bind(this)),o.load());g=g&&o&&o.getState()===i.Z.LOADED,o&&o.getState()!==i.Z.EMPTY&&r.getState()===i.Z.IDLE&&(r.loadingSourceTiles++,o.addEventListener(p.Z.CHANGE,(function t(){var e=o.getState(),n=o.getKey();if(e===i.Z.LOADED||e===i.Z.ERROR){e===i.Z.LOADED?(o.removeEventListener(p.Z.CHANGE,t),r.loadingSourceTiles--,delete r.errorSourceTileKeys[n]):e===i.Z.ERROR&&(r.errorSourceTileKeys[n]=!0);var a=Object.keys(r.errorSourceTileKeys).length;r.loadingSourceTiles-a==0&&(r.hifi=0===a,r.sourceZ=y,r.setState(i.Z.LOADED))}})))}.bind(this)),g||(d.length=0)}while(!g&&m>v)}return r.getState()===i.Z.IDLE&&r.setState(i.Z.LOADING),g&&(r.hifi=y===m,r.sourceZ=m,r.getState()<i.Z.LOADED?r.setState(i.Z.LOADED):_&&(0,f.fS)(d,_)||(r.sourceTiles=d)),this.sourceTileCache.expireCache({}),d},e.prototype.getTile=function(t,e,r,n,a){var s,l=(0,u.lg)(t,e,r),c=this.getKey();if(this.tileCache.containsKey(l)&&(s=this.tileCache.get(l)).key===c)return s;var p=[t,e,r],d=this.getTileCoordForTileUrlFunction(p,a),f=this.getTileGrid().getExtent(),g=this.getTileGridForProjection(a);if(d&&f){var m=g.getTileCoordExtent(d);(0,h.buffer)(m,-g.getResolution(t),m),(0,h.intersects)(f,m)||(d=null)}var y=!0;if(null!==d){var v=this.tileGrid,_=g.getResolution(t),b=v.getZForResolution(_,1),x=g.getTileCoordExtent(d);(0,h.buffer)(x,-_,x),v.forEachTileCoord(x,b,function(t){y=y&&!this.tileUrlFunction(t,n,a)}.bind(this))}var w=new o.Z(p,y?i.Z.EMPTY:i.Z.IDLE,d,this.getSourceTiles.bind(this,n,a));return w.key=c,s?(w.interimTile=s,w.refreshInterimChain(),this.tileCache.replace(l,w)):this.tileCache.set(l,w),w},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),r=this.tileGrids_[e];if(!r){var n=this.tileGrid;r=(0,c.createForProjection)(t,void 0,n?n.getTileSize(n.getMinZoom()):void 0),this.tileGrids_[e]=r}return r},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,r){var n=this.getTileGridForProjection(r),i=(0,s.Pq)(n.getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e}(l.Z);function v(t,e){var r=(0,d.ov)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(r)}},52534:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},46129:(t,e,r)=>{"use strict";r.d(e,{E:()=>n});var n="1.3.0"},37023:(t,e,r)=>{"use strict";r.r(e),r.d(e,{DEFAULT_RADIUS:()=>o,getArea:()=>c,getDistance:()=>a,getLength:()=>l,offset:()=>h});var n=r(25529),i=r(42050),o=6371008.8;function a(t,e,r){var i=r||o,a=(0,n.Yr)(t[1]),s=(0,n.Yr)(e[1]),l=(s-a)/2,u=(0,n.Yr)(e[0]-t[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(a)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){for(var r=0,n=0,i=t.length;n<i-1;++n)r+=a(t[n],t[n+1],e);return r}function l(t,e){var r=e||{},n=r.radius||o,a=r.projection||"EPSG:3857",u=t.getType();u!==i.Z.GEOMETRY_COLLECTION&&(t=t.clone().transform(a,"EPSG:4326"));var c,h,p,d,f,g,m=0;switch(u){case i.Z.POINT:case i.Z.MULTI_POINT:break;case i.Z.LINE_STRING:case i.Z.LINEAR_RING:m=s(c=t.getCoordinates(),n);break;case i.Z.MULTI_LINE_STRING:case i.Z.POLYGON:for(p=0,d=(c=t.getCoordinates()).length;p<d;++p)m+=s(c[p],n);break;case i.Z.MULTI_POLYGON:for(p=0,d=(c=t.getCoordinates()).length;p<d;++p)for(f=0,g=(h=c[p]).length;f<g;++f)m+=s(h[f],n);break;case i.Z.GEOMETRY_COLLECTION:var y=t.getGeometries();for(p=0,d=y.length;p<d;++p)m+=l(y[p],e);break;default:throw new Error("Unsupported geometry type: "+u)}return m}function u(t,e){for(var r=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var l=t[s][0],u=t[s][1];r+=(0,n.Yr)(l-o)*(2+Math.sin((0,n.Yr)(a))+Math.sin((0,n.Yr)(u))),o=l,a=u}return r*e*e/2}function c(t,e){var r=e||{},n=r.radius||o,a=r.projection||"EPSG:3857",s=t.getType();s!==i.Z.GEOMETRY_COLLECTION&&(t=t.clone().transform(a,"EPSG:4326"));var l,h,p,d,f,g,m=0;switch(s){case i.Z.POINT:case i.Z.MULTI_POINT:case i.Z.LINE_STRING:case i.Z.MULTI_LINE_STRING:case i.Z.LINEAR_RING:break;case i.Z.POLYGON:for(l=t.getCoordinates(),m=Math.abs(u(l[0],n)),p=1,d=l.length;p<d;++p)m-=Math.abs(u(l[p],n));break;case i.Z.MULTI_POLYGON:for(p=0,d=(l=t.getCoordinates()).length;p<d;++p)for(h=l[p],m+=Math.abs(u(h[0],n)),f=1,g=h.length;f<g;++f)m-=Math.abs(u(h[f],n));break;case i.Z.GEOMETRY_COLLECTION:var y=t.getGeometries();for(p=0,d=y.length;p<d;++p)m+=c(y[p],e);break;default:throw new Error("Unsupported geometry type: "+s)}return m}function h(t,e,r,i){var a=i||o,s=(0,n.Yr)(t[1]),l=(0,n.Yr)(t[0]),u=e/a,c=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(r)),h=l+Math.atan2(Math.sin(r)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(c));return[(0,n.Ux)(h),(0,n.Ux)(c)]}},76880:(t,e,r)=>{"use strict";function n(t,e,r){var n=void 0!==r?t.toFixed(r):""+t,i=n.indexOf(".");return(i=-1===i?n.length:i)>e?n:new Array(1+e-i).join("0")+n}function i(t,e){for(var r=(""+t).split("."),n=(""+e).split("."),i=0;i<Math.max(r.length,n.length);i++){var o=parseInt(r[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}r.d(e,{n:()=>i,v:()=>n})},91419:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a,r:()=>o});var n=r(15989),i=r(19664),o=1/0;const a=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,i.ZH)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,r=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(r);return delete this.queuedElements_[n],r},t.prototype.enqueue=function(t){(0,n.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,r=this.priorities_,n=e.length,i=e[t],o=r[t],a=t;t<n>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<n&&r[l]<r[s]?l:s;e[t]=e[u],r[t]=r[u],t=u}e[t]=i,r[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var r=this.elements_,n=this.priorities_,i=r[e],o=n[e];e>t;){var a=this.getParentIndex_(e);if(!(n[a]>o))break;r[e]=r[a],n[e]=n[a],e=a}r[e]=i,n[e]=o},t.prototype.reprioritize=function(){var t,e,r,n=this.priorityFunction_,i=this.elements_,a=this.priorities_,s=0,l=i.length;for(e=0;e<l;++e)(r=n(t=i[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=r,i[s++]=t);i.length=s,a.length=s,this.heapify_()},t}()},68135:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(19579),i=r(70666),o=r.n(i),a=r(2309),s=r(19664);const l=function(){function t(t){this.rbush_=new(o())(t),this.items_={}}return t.prototype.insert=function(t,e){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(r),this.items_[(0,n.sq)(e)]=r},t.prototype.load=function(t,e){for(var r=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=l,this.items_[(0,n.sq)(s)]=l}this.rbush_.load(r)},t.prototype.remove=function(t){var e=(0,n.sq)(t),r=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(r)},t.prototype.update=function(t,e){var r=this.items_[(0,n.sq)(e)],i=[r.minX,r.minY,r.maxX,r.maxY];(0,a.equals)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var r,n=0,i=t.length;n<i;n++)if(r=e(t[n]))return r;return r},t.prototype.isEmpty=function(){return(0,s.xb)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,a.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}()},17770:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Circle:()=>n.default,Fill:()=>i.Z,Icon:()=>o.Z,IconImage:()=>a.Z,Image:()=>s.Z,RegularShape:()=>l.Z,Stroke:()=>u.Z,Style:()=>c.ZP,Text:()=>h.Z});var n=r(36301),i=r(18085),o=r(3806),a=r(83285),s=r(38389),l=r(6443),u=r(86650),c=r(57911),h=r(31179)},36301:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n,i=r(6443),o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const a=function(t){function e(e){var r=e||{};return t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this}return o(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(i.Z)},18085:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}()},3806:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n,i=r(19579),o=r(92472),a=r(15989),s=r(35295),l=r(21092),u=r(4491),c=r(83285),h=r(32432),p=r(38389),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e){var r=this,n=e||{},l=void 0!==n.opacity?n.opacity:1,p=void 0!==n.rotation?n.rotation:0,d=void 0!==n.scale?n.scale:1,f=void 0!==n.rotateWithView&&n.rotateWithView;(r=t.call(this,{opacity:l,rotation:p,scale:d,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:f})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:h.Z.TOP_LEFT,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:u.Z.FRACTION,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:u.Z.FRACTION,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var g=void 0!==n.img?n.img:null,m=void 0!==n.imgSize?n.imgSize:null,y=n.src;(0,a.h)(!(void 0!==y&&g),4),(0,a.h)(!g||g&&m,5),void 0!==y&&0!==y.length||!g||(y=g.src||(0,i.sq)(g)),(0,a.h)(void 0!==y&&y.length>0,6);var v=void 0!==n.src?o.Z.IDLE:o.Z.LOADED;return r.color_=void 0!==n.color?(0,s._2)(n.color):null,r.iconImage_=(0,c.U)(g,y,m,r.crossOrigin_,v,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:h.Z.TOP_LEFT,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return d(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==u.Z.FRACTION||this.anchorYUnits_==u.Z.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==u.Z.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==u.Z.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=h.Z.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h.Z.TOP_RIGHT&&this.anchorOrigin_!=h.Z.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=h.Z.BOTTOM_LEFT&&this.anchorOrigin_!=h.Z.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=h.Z.TOP_LEFT){var r=this.getSize(),n=this.iconImage_.getSize();if(!r||!n)return null;t=t.slice(),this.offsetOrigin_!=h.Z.TOP_RIGHT&&this.offsetOrigin_!=h.Z.BOTTOM_RIGHT||(t[0]=n[0]-r[0]-t[0]),this.offsetOrigin_!=h.Z.BOTTOM_LEFT&&this.offsetOrigin_!=h.Z.BOTTOM_RIGHT||(t[1]=n[1]-r[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(l.Z.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(l.Z.CHANGE,t)},e}(p.Z)},4491:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={FRACTION:"fraction",PIXELS:"pixels"}},83285:(t,e,r)=>{"use strict";r.d(e,{U:()=>p,Z:()=>d});var n,i=r(77713),o=r(21131),a=r(21092),s=r(92472),l=r(98566),u=r(59917),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e,r,n,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=r,s.tainted_,s}return c(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.Z.LOADED){this.tainted_=!1;var t=(0,i.E4)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=s.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=s.Z.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],n=(0,i.E4)(e,r);n.fillRect(0,0,e,r),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==s.Z.IDLE){this.imageState_=s.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,u.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),r=e.data,n=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,a=0,s=r.length;a<s;a+=4)r[a]*=n,r[a+1]*=i,r[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(o.Z);function p(t,e,r,n,i,o){var a=l.c.get(e,n,o);return a||(a=new h(t,e,r,n,i,o),l.c.set(e,n,o,a)),a}const d=h},98566:(t,e,r)=>{"use strict";r.d(e,{c:()=>a});var n=r(35295),i=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,r){var n=o(t,e,r);return n in this.cache_?this.cache_[n]:null},t.prototype.set=function(t,e,r,n){var i=o(t,e,r);this.cache_[i]=n,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function o(t,e,r){return e+":"+t+":"+(r?(0,n.XC)(r):"null")}var a=new i},32432:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},38389:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(19579);const i=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.displacement_=t.displacement}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return(0,n.O3)()},t.prototype.getImage=function(t){return(0,n.O3)()},t.prototype.getHitDetectionImage=function(t){return(0,n.O3)()},t.prototype.getImageState=function(){return(0,n.O3)()},t.prototype.getImageSize=function(){return(0,n.O3)()},t.prototype.getHitDetectionImageSize=function(){return(0,n.O3)()},t.prototype.getOrigin=function(){return(0,n.O3)()},t.prototype.getSize=function(){return(0,n.O3)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){(0,n.O3)()},t.prototype.load=function(){(0,n.O3)()},t.prototype.unlistenImageChange=function(t){(0,n.O3)()},t}()},6443:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n,i=r(35295),o=r(40243),a=r(77713),s=r(92472),l=r(21765),u=r(38389),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const h=function(t){function e(e){var r=this,n=void 0!==e.rotateWithView&&e.rotateWithView;return(r=t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=null,r.hitDetectionCanvas_=null,r.fill_=void 0!==e.fill?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=void 0!==e.radius?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=void 0!==e.angle?e.angle:0,r.stroke_=void 0!==e.stroke?e.stroke:null,r.anchor_=null,r.size_=null,r.imageSize_=null,r.hitDetectionImageSize_=null,r.render(),r}return c(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return s.Z.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e=l.mb,r=l.rc,n=0,i=null,s=0,u=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=l.Tx),t=(0,o.y)(t),void 0===(u=this.stroke_.getWidth())&&(u=l.yC),i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),void 0===(r=this.stroke_.getLineJoin())&&(r=l.rc),void 0===(e=this.stroke_.getLineCap())&&(e=l.mb),void 0===(n=this.stroke_.getMiterLimit())&&(n=l.V4));var c=2*(this.radius_+u)+1,h={strokeStyle:t,strokeWidth:u,size:c,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:r,miterLimit:n},p=(0,a.E4)(c,c);this.canvas_=p.canvas;var d=c=this.canvas_.width,f=this.getDisplacement();this.draw_(h,p,0,0),this.createHitDetectionCanvas_(h),this.anchor_=[c/2-f[0],c/2+f[1]],this.size_=[c,c],this.imageSize_=[d,d]},e.prototype.draw_=function(t,e,r,n){var i,a,s;e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),i=0;i<=u;i++)a=2*i*Math.PI/u-Math.PI/2+this.angle_,s=i%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=l.bL),e.fillStyle=(0,o.y)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),r=0;if("string"==typeof e&&(e=(0,i._2)(e)),null===e?r=1:Array.isArray(e)&&(r=4===e.length?e[3]:1),0===r){var n=(0,a.E4)(t.size,t.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,r,n){e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,u=void 0;for(a=0;a<=i;a++)u=2*a*Math.PI/i-Math.PI/2+this.angle_,s=a%2==0?this.radius_:o,e.lineTo(t.size/2+s*Math.cos(u),t.size/2+s*Math.sin(u))}e.fillStyle=l.bL,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(u.Z)},86650:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}()},57911:(t,e,r)=>{"use strict";r.d(e,{J$:()=>u,Ly:()=>p,ZP:()=>f,yF:()=>h});var n=r(15989),i=r(42050),o=r(36301),a=r(18085),s=r(86650),l=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=d,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function u(t){var e;if("function"==typeof t)e=t;else{var r;if(Array.isArray(t))r=t;else(0,n.h)("function"==typeof t.getZIndex,41),r=[t];e=function(){return r}}return e}var c=null;function h(t,e){if(!c){var r=new a.Z({color:"rgba(255,255,255,0.4)"}),n=new s.Z({color:"#3399CC",width:1.25});c=[new l({image:new o.default({fill:r,stroke:n,radius:5}),fill:r,stroke:n})]}return c}function p(){var t={},e=[255,255,255,1],r=[0,153,255,1];return t[i.Z.POLYGON]=[new l({fill:new a.Z({color:[255,255,255,.5]})})],t[i.Z.MULTI_POLYGON]=t[i.Z.POLYGON],t[i.Z.LINE_STRING]=[new l({stroke:new s.Z({color:e,width:5})}),new l({stroke:new s.Z({color:r,width:3})})],t[i.Z.MULTI_LINE_STRING]=t[i.Z.LINE_STRING],t[i.Z.CIRCLE]=t[i.Z.POLYGON].concat(t[i.Z.LINE_STRING]),t[i.Z.POINT]=[new l({image:new o.default({radius:6,fill:new a.Z({color:r}),stroke:new s.Z({color:e,width:1.5})}),zIndex:1/0})],t[i.Z.MULTI_POINT]=t[i.Z.POINT],t[i.Z.GEOMETRY_COLLECTION]=t[i.Z.POLYGON].concat(t[i.Z.LINE_STRING],t[i.Z.POINT]),t}function d(t){return t.getGeometry()}const f=l},31179:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var n=r(18085),i=r(62675);const o=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n.Z({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}()},62675:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={POINT:"point",LINE:"line"}},76026:(t,e,r)=>{"use strict";function n(t,e,r,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=r,n):[t,e,r]}function i(t,e,r){return t+"/"+e+"/"+r}function o(t){return i(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function l(t,e){var r=t[0],n=t[1],i=t[2];if(e.getMinZoom()>r||r>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,r):e.getFullTileRange(r))||o.containsXY(n,i)}r.d(e,{T9:()=>n,Ul:()=>a,km:()=>o,lg:()=>i,tE:()=>l,vp:()=>s})},57084:(t,e,r)=>{"use strict";r.r(e),r.d(e,{createForExtent:()=>p,createForProjection:()=>g,createXYZ:()=>d,extentFromProjection:()=>m,getForProjection:()=>c,wrapX:()=>h});var n=r(16147),i=r(18581),o=r(2309),a=r(32742),s=r(93558),l=r(35696),u=r(66824);function c(t){var e=t.getDefaultTileGrid();return e||(e=g(t),t.setDefaultTileGrid(e)),e}function h(t,e,r){var n=e[0],i=t.getTileCoordCenter(e),a=m(r);if((0,o.containsCoordinate)(a,i))return e;var s=(0,o.getWidth)(a),l=Math.ceil((a[0]-i[0])/s);return i[0]+=s*l,t.getTileCoordForCoordAndZ(i,n)}function p(t,e,r,n){var i=void 0!==n?n:a.Z.TOP_LEFT,s=f(t,e,r);return new u.Z({extent:t,origin:(0,o.getCorner)(t,i),resolutions:s,tileSize:r})}function d(t){var e=t||{},r=e.extent||(0,s.get)("EPSG:3857").getExtent(),n={extent:r,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:f(r,e.maxZoom,e.tileSize)};return new u.Z(n)}function f(t,e,r){for(var a=void 0!==e?e:n.e,s=(0,o.getHeight)(t),l=(0,o.getWidth)(t),u=(0,i.Pq)(void 0!==r?r:n.S),c=Math.max(l/u[0],s/u[1]),h=a+1,p=new Array(h),d=0;d<h;++d)p[d]=c/Math.pow(2,d);return p}function g(t,e,r,n){return p(m(t),e,r,n)}function m(t){var e=(t=(0,s.get)(t)).getExtent();if(!e){var r=180*s.METERS_PER_UNIT[l.Z.DEGREES]/t.getMetersPerUnit();e=(0,o.createOrUpdate)(-r,-r,r,r)}return e}},66824:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(16147),i=r(15989),o=r(63017),a=r(26060),s=r(2309),l=r(25529),u=r(18581),c=r(76026),h=[0,0,0];const p=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,i.h)((0,a.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var r=0,l=this.resolutions_.length-1;r<l;++r)if(e){if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}else e=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,i.h)(this.origins_.length==this.resolutions_.length,20));var u=t.extent;void 0===u||this.origin_||this.origins_||(this.origin_=(0,s.getTopLeft)(u)),(0,i.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,i.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.S,(0,i.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==u?u:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new o.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):u&&this.calculateTileRanges_(u)}return t.prototype.forEachTileCoord=function(t,e,r){for(var n=this.getTileRangeForExtentAndZ(t,e),i=n.minX,o=n.maxX;i<=o;++i)for(var a=n.minY,s=n.maxY;a<=s;++a)r([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,r,n){var i,a,s,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):l=this.getTileCoordExtent(t,n);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),i=(0,o.T)(a,a,s,s,r)):i=this.getTileRangeForExtentAndZ(l,u,r),e(u,i))return!0;--u}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,r){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],i=2*t[2];return(0,o.T)(n,n+1,i,i+1,e)}var a=this.getTileCoordExtent(t,r);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,r){var n=this.getOrigin(t),i=this.getResolution(t),o=(0,u.Pq)(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*o[0]*i,l=n[0]+(e.maxX+1)*o[0]*i,c=n[1]+e.minY*o[1]*i,h=n[1]+(e.maxY+1)*o[1]*i;return(0,s.createOrUpdate)(a,c,l,h,r)},t.prototype.getTileRangeForExtentAndZ=function(t,e,r){var n=h;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var i=n[1],a=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),(0,o.T)(i,n[1],a,n[2],r)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),r=this.getResolution(t[0]),n=(0,u.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*r,e[1]-(t[2]+.5)*n[1]*r]},t.prototype.getTileCoordExtent=function(t,e){var r=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,u.Pq)(this.getTileSize(t[0]),this.tmpSize_),o=r[0]+t[1]*i[0]*n,a=r[1]-(t[2]+1)*i[1]*n,l=o+i[0]*n,c=a+i[1]*n;return(0,s.createOrUpdate)(o,a,l,c,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,r)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,r,n,i){var o=this.getZForResolution(r),a=r/this.getResolution(o),s=this.getOrigin(o),l=(0,u.Pq)(this.getTileSize(o),this.tmpSize_),h=n?.5:0,p=n?.5:0,d=Math.floor((t-s[0])/r+h),f=Math.floor((s[1]-e)/r+p),g=a*d/l[0],m=a*f/l[1];return n?(g=Math.ceil(g)-1,m=Math.ceil(m)-1):(g=Math.floor(g),m=Math.floor(m)),(0,c.T9)(o,g,m,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,r,n,i){var o=this.getOrigin(r),a=this.getResolution(r),s=(0,u.Pq)(this.getTileSize(r),this.tmpSize_),l=n?.5:0,h=n?.5:0,p=Math.floor((t-o[0])/a+l),d=Math.floor((o[1]-e)/a+h),f=p/s[0],g=d/s[1];return n?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),(0,c.T9)(r,f,g,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,r){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var r=(0,a.h7)(this.resolutions_,t,e||0);return(0,l.uZ)(r,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,r=new Array(e),n=this.minZoom;n<e;++n)r[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=r},t}()},16147:(t,e,r)=>{"use strict";r.d(e,{S:()=>i,e:()=>n});var n=42,i=256},89901:(t,e,r)=>{"use strict";r.d(e,{Gk:()=>c,Un:()=>l,uR:()=>s,vU:()=>u});var n=r(15989),i=r(25529),o=r(76026);function a(t,e){var r=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,l,u){return s?t.replace(r,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(a,(function(){var t=s[0],r=e.getFullTileRange(t);return(0,n.h)(r,55),(r.getHeight()-s[2]-1).toString()})):void 0}}function s(t,e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=a(t[i],e);return l(n)}function l(t){return 1===t.length?t[0]:function(e,r,n){if(e){var a=(0,o.vp)(e),s=(0,i.$W)(a,t.length);return t[s](e,r,n)}}}function u(t,e,r){}function c(t){var e=[],r=/\{([a-z])-([a-z])\}/.exec(t);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)e.push(t.replace(r[0],String.fromCharCode(o)));return e}if(r=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)e.push(t.replace(r[0],s.toString()));return e}return e.push(t),e}},3657:(t,e,r)=>{"use strict";r.d(e,{BB:()=>y,Iu:()=>f,Jp:()=>s,U1:()=>h,Ue:()=>o,bA:()=>p,lk:()=>u,mc:()=>a,n3:()=>d,nb:()=>m,nn:()=>c,qC:()=>g});var n=r(15989),i=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return l(t,1,0,0,1,0,0)}function s(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],h=e[3],p=e[4],d=e[5];return t[0]=r*l+i*u,t[1]=n*l+o*u,t[2]=r*c+i*h,t[3]=n*c+o*h,t[4]=r*p+i*d+a,t[5]=n*p+o*d+s,t}function l(t,e,r,n,i,o,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function c(t,e){var r=e[0],n=e[1];return e[0]=t[0]*r+t[2]*n+t[4],e[1]=t[1]*r+t[3]*n+t[5],e}function h(t,e){var r=Math.cos(e),n=Math.sin(e);return s(t,l(i,r,n,-n,r,0,0))}function p(t,e,r){return s(t,l(i,e,0,0,r,0,0))}function d(t,e,r){return l(t,e,0,0,r,0,0)}function f(t,e,r){return s(t,l(i,1,0,0,1,e,r))}function g(t,e,r,n,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=n*u,t[1]=i*l,t[2]=-n*l,t[3]=i*u,t[4]=a*n*u-s*n*l+e,t[5]=a*i*l+s*i*u+r,t}function m(t,e){var r,i=(r=e)[0]*r[3]-r[1]*r[2];(0,n.h)(0!==i,32);var o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5];return t[0]=l/i,t[1]=-a/i,t[2]=-s/i,t[3]=o/i,t[4]=(s*c-l*u)/i,t[5]=-(o*c-a*u)/i,t}function y(t){return"matrix("+t.join(", ")+")"}},43877:(t,e,r)=>{"use strict";function n(t,e){var r=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&r.push(t+"="+encodeURIComponent(e[t]))}));var n=r.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}r.d(e,{B:()=>n})},19579:(t,e,r)=>{"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}r.d(e,{O3:()=>n,q4:()=>a,sq:()=>o});var i=0;function o(t){return t.ol_uid||(t.ol_uid=String(++i))}var a="6.2.0"},48248:(t,e,r)=>{"use strict";r.d(e,{A4:()=>m,As:()=>u,C5:()=>x,Ei:()=>p,G3:()=>v,JO:()=>y,Me:()=>M,O:()=>E,Pr:()=>g,Qc:()=>c,RA:()=>b,T3:()=>w,Ve:()=>a,ZL:()=>S,c:()=>o,fJ:()=>i,hg:()=>_,ke:()=>f,pc:()=>h,qk:()=>l,xc:()=>P,z:()=>d});var n=r(26060),i="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return M().createElementNS(t,e)}function a(t,e){return s(t,e,[]).join("")}function s(t,e,r){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{var n=void 0;for(n=t.firstChild;n;n=n.nextSibling)s(n,e,r)}return r}function l(t){return"documentElement"in t}function u(t,e,r){return t.getAttributeNS(e,r)||""}function c(t){return(new DOMParser).parseFromString(t,"application/xml")}function h(t,e){return function(r,i){var o=t.call(void 0!==e?e:this,r,i);if(void 0!==o){var a=i[i.length-1];(0,n.l7)(a,o)}}}function p(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&n[n.length-1].push(i)}}function d(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&(n[n.length-1]=i)}}function f(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:n.localName,l=void 0;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}}}function g(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);void 0!==o&&(i[i.length-1][void 0!==e?e:n.localName]=o)}}function m(t,e){return function(r,n,i){t.call(void 0!==e?e:this,r,n,i),i[i.length-1].node.appendChild(r)}}function y(t,e){var r,n;return function(e,i,o){if(void 0===r){r={};var a={};a[e.localName]=t,r[e.namespaceURI]=a,n=v(e.localName)}C(r,n,i,o)}}function v(t,e){var r=t;return function(t,n,i){var a=n[n.length-1].node,s=r;return void 0===s&&(s=i),o(void 0!==e?e:a.namespaceURI,s)}}var _=v();function b(t,e){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=t[e[i]];return n}function x(t,e,r){var n,i,o=void 0!==r?r:{};for(n=0,i=t.length;n<i;++n)o[t[n]]=e;return o}function w(t,e,r,n){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(n,i,r)}}}function E(t,e,r,n,i){return n.push(t),w(e,r,n,i),n.pop()}function C(t,e,r,n,i,o){for(var a,s,l=(void 0!==i?i:r).length,u=0;u<l;++u)void 0!==(a=r[u])&&void 0!==(s=e.call(void 0!==o?o:this,a,n,void 0!==i?i[u]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,n)}function S(t,e,r,n,i,o,a){return i.push(t),C(e,r,n,i,o,a),i.pop()}var T=void 0;function P(){return void 0===T&&"undefined"!=typeof XMLSerializer&&(T=new XMLSerializer),T}var O=void 0;function M(){return void 0===O&&"undefined"!=typeof document&&(O=document.implementation.createDocument("","",null)),O}},15856:(t,e,r)=>{"use strict";t.exports=i;var n=r(6564);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,a=1/o,s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function l(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function u(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function c(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i]}function h(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function m(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function v(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function _(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,t(i,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+w(this.buf,this.pos+4)*o;return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return u(t,n,e);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return u(t,n,e);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return u(t,n,e);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return u(t,n,e);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return u(t,n,e);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return u(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&s?function(t,e,r){return s.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){var n="",i=e;for(;i<r;){var o,a,s,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var r=l(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,o=0;o<e.length;o++){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&c(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&c(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,i.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},72673:(t,e,r)=>{var n=r(85697);e.w=n},85697:(t,e,r)=>{var n=r(50124).i;function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function r(t,r,n){return e?new ImageData(t,r,n):{data:t,width:r,height:n}}return function(e){var n,i,o=e.buffers,a=e.meta,s=e.imageOps,l=e.width,u=e.height,c=o.length,h=o[0].byteLength;if(s){var p=new Array(c);for(i=0;i<c;++i)p[i]=r(new Uint8ClampedArray(o[i]),l,u);n=t(p,a).data}else{n=new Uint8ClampedArray(h);var d=new Array(c),f=new Array(c);for(i=0;i<c;++i)d[i]=new Uint8ClampedArray(o[i]),f[i]=[0,0,0,0];for(var g=0;g<h;g+=4){for(var m=0;m<c;++m){var y=d[m];f[m][0]=y[g],f[m][1]=y[g+1],f[m][2]=y[g+2],f[m][3]=y[g+3]}var v=t(f,a);n[g]=v[0],n[g+1]=v[1],n[g+2]=v[2],n[g+3]=v[3]}}return n.buffer}}function o(t,e){var r=Object.keys(t.lib||{}).map((function(e){return"var "+e+" = "+t.lib[e].toString()+";"})).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(n),a=new Worker(o);return a.addEventListener("message",e),a}function a(t){var e;this._imageOps=!!t.imageOps;var r=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var n=0;n<e;++n)r[n]=o(t,this._onWorkerMessage.bind(this,n));else r[0]=function(t,e){var r=i(t.operation);return{postMessage:function(t){setTimeout((function(){e({data:{buffer:r(t),meta:t.meta}})}),0)}}}(t,this._onWorkerMessage.bind(this,0));this._workers=r,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(t,e,r){this._enqueue({inputs:t,meta:e,callback:r}),this._dispatch()},a.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},a.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,r=t.inputs[0].height,n=t.inputs.map((function(t){return t.data.buffer})),i=this._workers.length;if(this._running=i,1===i)this._workers[0].postMessage({buffers:n,meta:t.meta,imageOps:this._imageOps,width:e,height:r},n);else for(var o=t.inputs[0].data.length,a=4*Math.ceil(o/4/i),s=0;s<i;++s){for(var l=s*a,u=[],c=0,h=n.length;c<h;++c)u.push(n[s].slice(l,l+a));this._workers[s].postMessage({buffers:u,meta:t.meta,imageOps:this._imageOps,width:e,height:r},u)}}},a.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var t,e,r=this._job,i=this._workers.length;if(1===i)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=r.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var a=4*Math.ceil(o/4/i),s=0;s<i;++s){var l=this._dataLookup[s].buffer,u=s*a;t.set(new Uint8ClampedArray(l),u),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,n(t,r.inputs[0].width,r.inputs[0].height),e),this._dispatch()},t.exports=a},50124:(t,e)=>{var r=!0;try{new ImageData(10,10)}catch(t){r=!1}var n=document.createElement("canvas").getContext("2d");e.i=function(t,e,i){if(r)return new ImageData(t,e,i);var o=n.createImageData(e,i);return o.data.set(t),o}},29946:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Xe});var n=484813681109536e-20,i=Math.PI/2,o=1e-10,a=.017453292519943295,s=57.29577951308232,l=Math.PI/4,u=2*Math.PI,c=3.14159265359,h={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const p={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var d=/[\s_\-\/\(\)]/g;function f(t,e){if(t[e])return t[e];for(var r,n=Object.keys(t),i=e.toLowerCase().replace(d,""),o=-1;++o<n.length;)if((r=n[o]).toLowerCase().replace(d,"")===i)return t[r]}function g(t){var e,r,n,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var r=e.split("=");return r.push(!0),t[r[0].toLowerCase()]=r[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*a},lat_1:function(t){i.lat1=t*a},lat_2:function(t){i.lat2=t*a},lat_ts:function(t){i.lat_ts=t*a},lon_0:function(t){i.long0=t*a},lon_1:function(t){i.long1=t*a},lon_2:function(t){i.long2=t*a},alpha:function(t){i.alpha=parseFloat(t)*a},lonc:function(t){i.longc=t*a},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=f(p,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*a},pm:function(t){var e=f(h,t);i.from_greenwich=(e||parseFloat(t))*a},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in o)r=o[e],e in s?"function"==typeof(n=s[e])?n(r):i[n]=r:i[e]=r;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}const m=function(t){return new w(t).output()};var y=/\s/,v=/[A-Za-z]/,_=/[A-Za-z84]/,b=/[,\]]/,x=/[\d\.E\-\+]/;function w(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function E(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce((function(t,e){return C(e,t),t}),n);e&&(t[e]=i)}function C(t,e){if(Array.isArray(t)){var r,n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void C(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n)switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&C(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&C(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void E(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return C(t,e[n]);return E(e,n,t)}else e[n]=t;else e[n]=!0}else e[t]=!0}w.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;y.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},w.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(b.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},w.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},w.prototype.number=function(t){if(!x.test(t)){if(b.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},w.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},w.prototype.keyword=function(t){if(_.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!b.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},w.prototype.neutral=function(t){if(v.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(x.test(t))return this.word=t,void(this.state=3);if(!b.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},w.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function S(t){return.017453292519943295*t}function T(t){var e=m(t),r=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",r]);var i={};return C(e,i),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function r(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",S],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",S],["x0","false_easting",r],["y0","false_northing",r],["long0","central_meridian",S],["lat0","latitude_of_origin",S],["lat0","standard_parallel_1",S],["lat1","standard_parallel_1",S],["lat2","standard_parallel_2",S],["azimuth","Azimuth"],["alpha","azimuth",S],["srsCode","name"]].forEach((function(e){return r=t,i=(n=e)[0],o=n[1],void(!(i in r)&&o in r&&(r[i]=r[o],3===n.length&&(r[i]=n[2](r[i]))));var r,n,i,o})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=S(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i}function P(t){var e=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?P[t]=g(arguments[1]):P[t]=T(arguments[1]):P[t]=r}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?P.apply(e,t):P(t)}));if("string"==typeof t){if(t in P)return P[t]}else"EPSG"in t?P["EPSG:"+t.EPSG]=t:"ESRI"in t?P["ESRI:"+t.ESRI]=t:"IAU2000"in t?P["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(P);const O=P;var M=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var R=["3857","900913","3785","102113"];const I=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in O}(t))return O[t];if(function(t){return M.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=T(t);if(function(t){var e=f(t,"authority");if(e){var r=f(e,"epsg");return r&&R.indexOf(r)>-1}}(e))return O["EPSG:3857"];var r=function(t){var e=f(t,"extension");if(e)return f(e,"proj4")}(e);return r?g(r):e}return function(t){return"+"===t[0]}(t)?g(t):void 0};function L(t,e){var r,n;if(t=t||{},!e)return t;for(n in e)void 0!==(r=e[n])&&(t[n]=r);return t}function k(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function A(t){return t<0?-1:1}function F(t){return Math.abs(t)<=c?t:t-A(t)*u}function N(t,e,r){var n=t*r,o=.5*t;return n=Math.pow((1-n)/(1+n),o),Math.tan(.5*(i-e))/n}function Z(t,e){for(var r,n,o=.5*t,a=i-2*Math.atan(e),s=0;s<=15;s++)if(r=t*Math.sin(a),a+=n=i-2*Math.atan(e*Math.pow((1-r)/(1+r),o))-a,Math.abs(n)<=1e-10)return a;return-9999}function j(t){return t}var D=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=k(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,r,n=t.x,a=t.y;if(a*s>90&&a*s<-90&&n*s>180&&n*s<-180)return null;if(Math.abs(Math.abs(a)-i)<=o)return null;if(this.sphere)e=this.x0+this.a*this.k0*F(n-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*a));else{var u=Math.sin(a),c=N(this.e,a,u);e=this.x0+this.a*this.k0*F(n-this.long0),r=this.y0-this.a*this.k0*Math.log(c)}return t.x=e,t.y=r,t},inverse:function(t){var e,r,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)r=i-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var a=Math.exp(-o/(this.a*this.k0));if(-9999===(r=Z(this.e,a)))return null}return e=F(this.long0+n/(this.a*this.k0)),t.x=e,t.y=r,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:j,inverse:j,names:["longlat","identity"]}],G={},z=[];function U(t,e){var r=z.length;return t.names?(z[r]=t,t.names.forEach((function(t){G[t.toLowerCase()]=r})),this):(console.log(e),!0)}const B={start:function(){D.forEach(U)},add:U,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==G[e]&&z[G[e]]?z[G[e]]:void 0}};var q={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},V=q.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};q.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Y={};Y.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Y.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Y.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Y.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Y.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Y.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Y.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Y.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Y.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Y.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Y.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Y.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Y.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Y.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Y.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Y.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Y.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};const W=function(t,e,r,i,o,a){var s={};return s.datum_type=void 0===t||"none"===t?5:4,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=1),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=2,s.datum_params[3]*=n,s.datum_params[4]*=n,s.datum_params[5]*=n,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=r,s.b=i,s.es=o,s.ep2=a,s};function X(t,e){if(!(this instanceof X))return new X(t);e=e||function(t){if(t)throw t};var r=I(t);if("object"==typeof r){var n=X.projections.get(r.projName);if(n){if(r.datumCode&&"none"!==r.datumCode){var i=f(Y,r.datumCode);i&&(r.datum_params=i.towgs84?i.towgs84.split(","):null,r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84";var a,s,l,u,c,h,p,d=function(t,e,r,n,i){if(!t){var a=f(q,n);a||(a=V),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(0===r||Math.abs(t-e)<o)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}(r.a,r.b,r.rf,r.ellps,r.sphere),g=(a=d.a,s=d.b,d.rf,l=r.R_A,h=((u=a*a)-(c=s*s))/u,p=0,l?(u=(a*=1-h*(.16666666666666666+h*(.04722222222222222+.022156084656084655*h)))*a,h=0):p=Math.sqrt(h),{es:h,e:p,ep2:(u-c)/c}),m=r.datum||W(r.datumCode,r.datum_params,d.a,d.b,g.es,g.ep2);L(this,r),L(this,n),this.a=d.a,this.b=d.b,this.rf=d.rf,this.sphere=d.sphere,this.es=g.es,this.e=g.e,this.ep2=g.ep2,this.datum=m,this.init(),e(null,this)}else e(t)}else e(t)}X.projections=B,X.projections.start();const H=X;function K(t,e,r){var n,o,a,s,l=t.x,u=t.y,c=t.z?t.z:0;if(u<-i&&u>-1.001*i)u=-i;else if(u>i&&u<1.001*i)u=i;else{if(u<-i)return{x:-1/0,y:-1/0,z:t.z};if(u>i)return{x:1/0,y:1/0,z:t.z}}return l>Math.PI&&(l-=2*Math.PI),o=Math.sin(u),s=Math.cos(u),a=o*o,{x:((n=r/Math.sqrt(1-e*a))+c)*s*Math.cos(l),y:(n+c)*s*Math.sin(l),z:(n*(1-e)+c)*o}}function J(t,e,r,n){var o,a,s,l,u,c,h,p,d,f,g,m,y,v,_,b=1e-12,x=t.x,w=t.y,E=t.z?t.z:0;if(o=Math.sqrt(x*x+w*w),a=Math.sqrt(x*x+w*w+E*E),o/r<b){if(v=0,a/r<b)return i,_=-n,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(w,x);s=E/a,p=(l=o/a)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*l*l)),d=s*u,y=0;do{y++,c=e*(h=r/Math.sqrt(1-e*d*d))/(h+(_=o*p+E*d-h*(1-e*d*d))),m=(g=s*(u=1/Math.sqrt(1-c*(2-c)*l*l)))*p-(f=l*(1-c)*u)*d,p=f,d=g}while(m*m>1e-24&&y<30);return{x:v,y:Math.atan(g/Math.abs(f)),z:_}}function $(t){return 1===t||2===t}function Q(t,e,r){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)||5===t.datum_type||5===e.datum_type?r:t.es!==e.es||t.a!==e.a||$(t.datum_type)||$(e.datum_type)?(r=K(r,t.es,t.a),$(t.datum_type)&&(r=function(t,e,r){if(1===e)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(2===e){var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],u=r[6];return{x:u*(t.x-l*t.y+s*t.z)+n,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-s*t.x+a*t.y+t.z)+o}}}(r,t.datum_type,t.datum_params)),$(e.datum_type)&&(r=function(t,e,r){if(1===e)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(2===e){var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],u=r[6],c=(t.x-n)/u,h=(t.y-i)/u,p=(t.z-o)/u;return{x:c+l*h-s*p,y:-l*c+h+a*p,z:s*c-a*h+p}}}(r,e.datum_type,e.datum_params)),J(r,e.es,e.a,e.b)):r}function tt(t,e,r){var n,i,o,a=r.x,s=r.y,l=r.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==r.z)switch(0===o?(n=a,i="x"):1===o?(n=s,i="y"):(n=l,i="z"),t.axis[o]){case"e":case"n":u[i]=n;break;case"w":case"s":u[i]=-n;break;case"u":void 0!==r[i]&&(u.z=n);break;case"d":void 0!==r[i]&&(u.z=-n);break;default:return null}return u}function et(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function rt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function nt(t,e,r){var n;return Array.isArray(r)&&(r=et(r)),function(t){rt(t.x),rt(t.y)}(r),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(r=nt(t,n=new H("WGS84"),r),t=n),"enu"!==t.axis&&(r=tt(t,!1,r)),"longlat"===t.projName?r={x:r.x*a,y:r.y*a,z:r.z||0}:(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r)),t.from_greenwich&&(r.x+=t.from_greenwich),r=Q(t.datum,e.datum,r),e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),"longlat"===e.projName?r={x:r.x*s,y:r.y*s,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),"enu"!==e.axis?tt(e,!0,r):r}var it=H("WGS84");function ot(t,e,r){var n,i,o;return Array.isArray(r)?(n=nt(t,e,r)||{x:NaN,y:NaN},r.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof n.z?[n.x,n.y,n.z].concat(r.splice(3)):[n.x,n.y,r[2]].concat(r.splice(3)):[n.x,n.y].concat(r.splice(2)):[n.x,n.y]):(i=nt(t,e,r),2===(o=Object.keys(r)).length||o.forEach((function(n){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;i[n]=r[n]})),i)}function at(t){return t instanceof H?t:t.oProj?t.oProj:H(t)}const st=function(t,e,r){t=at(t);var n,i=!1;return void 0===e?(e=t,t=it,i=!0):(void 0!==e.x||Array.isArray(e))&&(r=e,e=t,t=it,i=!0),e=at(e),r?ot(t,e,r):(n={forward:function(r){return ot(t,e,r)},inverse:function(r){return ot(e,t,r)}},i&&(n.oProj=e),n)};var lt="AJSAJS",ut="AFAFAF",ct=65,ht=73,pt=79,dt=86,ft=90;const gt={forward:mt,inverse:function(t){var e=bt(Et(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:yt};function mt(t,e){return e=e||5,function(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,f=t.northing,g=t.zoneNumber,m=wt(g),y=Math.floor(d/1e5),v=Math.floor(f/1e5)%20,i=y,o=v,a=m,s=a-1,l=lt.charCodeAt(s),u=ut.charCodeAt(s),c=l+i-1,h=u+o,p=!1,c>ft&&(c=c-ft+ct-1,p=!0),(c===ht||l<ht&&c>ht||(c>ht||l<ht)&&p)&&c++,(c===pt||l<pt&&c>pt||(c>pt||l<pt)&&p)&&++c===ht&&c++,c>ft&&(c=c-ft+ct-1),h>dt?(h=h-dt+ct-1,p=!0):p=!1,(h===ht||u<ht&&h>ht||(h>ht||u<ht)&&p)&&h++,(h===pt||u<pt&&h>pt||(h>pt||u<pt)&&p)&&++h===ht&&h++,h>dt&&(h=h-dt+ct-1),String.fromCharCode(c)+String.fromCharCode(h))+r.substr(r.length-5,e)+n.substr(n.length-5,e);var i,o,a,s,l,u,c,h,p;var d,f,g,m,y,v}(function(t){var e,r,n,i,o,a,s,l,u=t.lat,c=t.lon,h=6378137,p=.00669438,d=.9996,f=vt(u),g=vt(c);l=Math.floor((c+180)/6)+1,180===c&&(l=60);u>=56&&u<64&&c>=3&&c<12&&(l=32);u>=72&&u<84&&(c>=0&&c<9?l=31:c>=9&&c<21?l=33:c>=21&&c<33?l=35:c>=33&&c<42&&(l=37));s=vt(6*(l-1)-180+3),e=p/(1-p),r=h/Math.sqrt(1-p*Math.sin(f)*Math.sin(f)),n=Math.tan(f)*Math.tan(f),i=e*Math.cos(f)*Math.cos(f),o=Math.cos(f)*(g-s),a=h*((1-p/4-3*p*p/64-5*p*p*p/256)*f-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*f)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*f)-35*p*p*p/3072*Math.sin(6*f));var m=d*r*(o+(1-n+i)*o*o*o/6+(5-18*n+n*n+72*i-58*e)*o*o*o*o*o/120)+5e5,y=d*(a+r*Math.tan(f)*(o*o/2+(5-n+9*i+4*i*i)*o*o*o*o/24+(61-58*n+n*n+600*i-330*e)*o*o*o*o*o*o/720));u<0&&(y+=1e7);return{northing:Math.round(y),easting:Math.round(m),zoneNumber:l,zoneLetter:xt(u)}}({lat:t[1],lon:t[0]}),e)}function yt(t){var e=bt(Et(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function vt(t){return t*(Math.PI/180)}function _t(t){return t/Math.PI*180}function bt(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,a,s,l,u,c,h,p,d,f=.9996,g=6378137,m=.00669438,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=r-5e5,_=e;n<"N"&&(_-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,d=(p=_/f/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*p)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*p)+151*y*y*y/96*Math.sin(6*p),a=g/Math.sqrt(1-m*Math.sin(d)*Math.sin(d)),s=Math.tan(d)*Math.tan(d),l=o*Math.cos(d)*Math.cos(d),u=.99330562*g/Math.pow(1-m*Math.sin(d)*Math.sin(d),1.5),c=v/(a*f);var b=d-a*Math.tan(d)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*o)*c*c*c*c/24+(61+90*s+298*l+45*s*s-1.6983531815716497-3*l*l)*c*c*c*c*c*c/720);b=_t(b);var x,w=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*c*c*c*c*c/120)/Math.cos(d);if(w=h+_t(w),t.accuracy){var E=bt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:E.lat,right:E.lon,bottom:b,left:w}}else x={lat:b,lon:w};return x}function xt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function wt(t){var e=t%6;return 0===e&&(e=6),e}function Et(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,n=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;n=t.substring(o,o+=2);for(var l=wt(a),u=function(t,e){var r=lt.charCodeAt(e-1),n=1e5,i=!1;for(;r!==t.charCodeAt(0);){if(++r===ht&&r++,r===pt&&r++,r>ft){if(i)throw"Bad character: "+t;r=ct,i=!0}n+=1e5}return n}(n.charAt(0),l),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var r=ut.charCodeAt(e-1),n=0,i=!1;for(;r!==t.charCodeAt(0);){if(++r===ht&&r++,r===pt&&r++,r>dt){if(i)throw"Bad character: "+t;r=ct,i=!0}n+=1e5}return n}(n.charAt(1),l);c<Ct(s);)c+=2e6;var h=r-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,d,f,g=h/2,m=0,y=0;return g>0&&(p=1e5/Math.pow(10,g),d=t.substring(o,o+g),m=parseFloat(d)*p,f=t.substring(o+g),y=parseFloat(f)*p),{easting:m+u,northing:y+c,zoneLetter:s,zoneNumber:a,accuracy:p}}function Ct(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function St(t,e,r){if(!(this instanceof St))return new St(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}St.fromMGRS=function(t){return new St(yt(t))},St.prototype.toMGRS=function(t){return mt([this.x,this.y],t)};const Tt=St;var Pt=.046875,Ot=.01953125,Mt=.01068115234375;function Rt(t){var e=[];e[0]=1-t*(.25+t*(Pt+t*(Ot+t*Mt))),e[1]=t*(.75-t*(Pt+t*(Ot+t*Mt)));var r=t*t;return e[2]=r*(.46875-t*(.013020833333333334+.007120768229166667*t)),r*=t,e[3]=r*(.3645833333333333-.005696614583333333*t),e[4]=r*t*.3076171875,e}function It(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}function Lt(t,e,r){for(var n=1/(1-e),i=t,a=20;a;--a){var s=Math.sin(i),l=1-e*s*s;if(i-=l=(It(i,s,Math.cos(i),r)-t)*(l*Math.sqrt(l))*n,Math.abs(l)<o)return i}return i}const kt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Rt(this.es),this.ml0=It(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,r,n,i=t.x,a=t.y,s=F(i-this.long0),l=Math.sin(a),u=Math.cos(a);if(this.es){var c=u*s,h=Math.pow(c,2),p=this.ep2*Math.pow(u,2),d=Math.pow(p,2),f=Math.abs(u)>o?Math.tan(a):0,g=Math.pow(f,2),m=Math.pow(g,2);e=1-this.es*Math.pow(l,2),c/=Math.sqrt(e);var y=It(a,l,u,this.en);r=this.a*(this.k0*c*(1+h/6*(1-g+p+h/20*(5-18*g+m+14*p-58*g*p+h/42*(61+179*m-m*g-479*g)))))+this.x0,n=this.a*(this.k0*(y-this.ml0+l*s*c/2*(1+h/12*(5-g+9*p+4*d+h/30*(61+m-58*g+270*p-330*g*p+h/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var v=u*Math.sin(s);if(Math.abs(Math.abs(v)-1)<o)return 93;if(r=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,n=u*Math.cos(s)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(n))>=1){if(v-1>o)return 93;n=0}else n=Math.acos(n);a<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=r,t.y=n,t},inverse:function(t){var e,r,n,a,s=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(r=Lt(e=this.ml0+l/this.k0,this.es,this.en),Math.abs(r)<i){var u=Math.sin(r),c=Math.cos(r),h=Math.abs(c)>o?Math.tan(r):0,p=this.ep2*Math.pow(c,2),d=Math.pow(p,2),f=Math.pow(h,2),g=Math.pow(f,2);e=1-this.es*Math.pow(u,2);var m=s*Math.sqrt(e)/this.k0,y=Math.pow(m,2);n=r-(e*=h)*y/(1-this.es)*.5*(1-y/12*(5+3*f-9*p*f+p-4*d-y/30*(61+90*f-252*p*f+45*g+46*p-y/56*(1385+3633*f+4095*g+1574*g*f)))),a=F(this.long0+m*(1-y/6*(1+2*f+p-y/20*(5+28*f+24*g+8*p*f+6*p-y/42*(61+662*f+1320*g+720*g*f))))/c)}else n=i*A(l),a=0;else{var v=Math.exp(s/this.k0),_=.5*(v-1/v),b=this.lat0+l/this.k0,x=Math.cos(b);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(_,2))),n=Math.asin(e),l<0&&(n=-n),a=0===_&&0===x?0:F(Math.atan2(_,x)+this.long0)}return t.x=a,t.y=n,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]};function At(t){var e=Math.exp(t);return e=(e-1/e)/2}function Ft(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function Nt(t){var e=Math.abs(t);return e=function(t){var e=1+t,r=e-1;return 0===r?t:t*Math.log(e)/r}(e*(1+e/(Ft(1,e)+1))),t<0?-e:e}function Zt(t,e){for(var r,n=2*Math.cos(2*e),i=t.length-1,o=t[i],a=0;--i>=0;)r=n*o-a+t[i],a=o,o=r;return e+r*Math.sin(2*e)}function jt(t,e,r){for(var n,i,o=Math.sin(e),a=Math.cos(e),s=At(r),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(r),u=2*a*l,c=-2*o*s,h=t.length-1,p=t[h],d=0,f=0,g=0;--h>=0;)n=f,i=d,p=u*(f=p)-n-c*(d=g)+t[h],g=c*f-i+u*d;return[(u=o*l)*p-(c=a*s)*g,u*g+c*p]}const Dt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),r*=e,this.cgb[1]=r*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r*=e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),r*=e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(e*(-24832/14175)-2.4)),r*=e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r*=e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),r*=e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r*=e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r*=e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r*=e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=.6650675310896665*r;var n=Zt(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var r,n=2*Math.cos(e),i=t.length-1,o=t[i],a=0;--i>=0;)r=n*o-a+t[i],a=o,o=r;return Math.sin(e)*r}(this.gtu,2*n))},forward:function(t){var e=F(t.x-this.long0),r=t.y;r=Zt(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),o=Math.sin(e),a=Math.cos(e);r=Math.atan2(n,a*i),e=Math.atan2(o*i,Ft(n,i*a)),e=Nt(Math.tan(e));var s,l,u=jt(this.gtu,2*r,2*e);return r+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*r+this.Zb)+this.y0):(s=1/0,l=1/0),t.x=s,t.y=l,t},inverse:function(t){var e,r,n=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var o=jt(this.utg,2*i,2*n);i+=o[0],n+=o[1],n=Math.atan(At(n));var a=Math.sin(i),s=Math.cos(i),l=Math.sin(n),u=Math.cos(n);i=Math.atan2(a*u,Ft(l,u*s)),e=F((n=Math.atan2(l,u*s))+this.long0),r=Zt(this.cgb,i)}else e=1/0,r=1/0;return t.x=e,t.y=r,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]};const Gt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(F(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*a,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Dt.init.apply(this),this.forward=Dt.forward,this.inverse=Dt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function zt(t,e){return Math.pow((1-t)/(1+t),e)}const Ut={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+l)/(Math.pow(Math.tan(.5*this.lat0+l),this.C)*zt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+l),this.C)*zt(this.e*Math.sin(r),this.ratexp))-i,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,r=t.y,n=Math.pow(Math.tan(.5*r+l)/this.K,1/this.C),o=20;o>0&&(r=2*Math.atan(n*zt(this.e*Math.sin(t.y),-.5*this.e))-i,!(Math.abs(r-t.y)<1e-14));--o)t.y=r;return o?(t.x=e,t.y=r,t):null},names:["gauss"]};const Bt={init:function(){Ut.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,r,n,i;return t.x=F(t.x-this.long0),Ut.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,r,n,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),r=Math.cos(a),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/o),n=Math.atan2(t.x*e,o*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,Ut.inverse.apply(this,[t]),t.x=F(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const qt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*(1+A(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=o&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*this.cons*k(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/N(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=k(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,r,n,a,s,l,u=t.x,c=t.y,h=Math.sin(c),p=Math.cos(c),d=F(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=o&&Math.abs(c+this.lat0)<=o?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*h+this.coslat0*p*Math.cos(d)),t.x=this.a*e*p*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*h-this.sinlat0*p*Math.cos(d))+this.y0,t):(r=2*Math.atan(this.ssfn_(c,h,this.e))-i,a=Math.cos(r),n=Math.sin(r),Math.abs(this.coslat0)<=o?(s=N(this.e,c*this.con,this.con*h),l=2*this.a*this.k0*s/this.cons,t.x=this.x0+l*Math.sin(u-this.long0),t.y=this.y0-this.con*l*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<o?(e=2*this.a*this.k0/(1+a*Math.cos(d)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*a*Math.cos(d))),t.y=e*(this.cosX0*n-this.sinX0*a*Math.cos(d))+this.y0),t.x=e*a*Math.sin(d)+this.x0,t))},inverse:function(t){var e,r,n,a,s;t.x-=this.x0,t.y-=this.y0;var l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(l/(2*this.a*this.k0));return e=this.long0,r=this.lat0,l<=o?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/l),e=Math.abs(this.coslat0)<o?this.lat0>0?F(this.long0+Math.atan2(t.x,-1*t.y)):F(this.long0+Math.atan2(t.x,t.y)):F(this.long0+Math.atan2(t.x*Math.sin(u),l*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=r,t)}if(Math.abs(this.coslat0)<=o){if(l<=o)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=l*this.cons/(2*this.a*this.k0),r=this.con*Z(this.e,n),e=this.con*F(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=o?s=this.X0:(s=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/l),e=F(this.long0+Math.atan2(t.x*Math.sin(a),l*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),r=-1*Z(this.e,Math.tan(.5*(i+s)));return t.x=e,t.y=r,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,r){return e*=r,Math.tan(.5*(i+t))*Math.pow((1-e)/(1+e),.5*r)}};const Vt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=1/this.rf,i=2*n-Math.pow(n,2),o=this.e=Math.sqrt(i);this.R=this.k0*r*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t},names:["somerc"]};const Yt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),r=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-r*r);var n,i,o=N(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-r*r));if(a*a<1&&(a=1),isNaN(this.longc)){var s=N(this.e,this.lat1,Math.sin(this.lat1)),l=N(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var u=Math.pow(s,this.bl),c=Math.pow(l,this.bl);i=.5*((n=this.el/u)-1/n);var h=(this.el*this.el-c*u)/(this.el*this.el+c*u),p=(c-u)/(c+u),d=F(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/p)/this.bl,this.long0=F(this.long0);var f=F(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/i),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else n=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=n*Math.pow(o,this.bl),i=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,r,n,a=t.x,s=t.y,u=F(a-this.long0);if(Math.abs(Math.abs(s)-i)<=o)n=s>0?-1:1,r=this.al/this.bl*Math.log(Math.tan(l+n*this.gamma0*.5)),e=-1*n*i*this.al/this.bl;else{var c=N(this.e,s,Math.sin(s)),h=this.el/Math.pow(c,this.bl),p=.5*(h-1/h),d=.5*(h+1/h),f=Math.sin(this.bl*u),g=(p*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/d;r=Math.abs(Math.abs(g)-1)<=o?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=o?this.al*this.bl*u:this.al*Math.atan2(p*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+r):(e-=this.uc,t.x=this.x0+r*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-r*Math.sin(this.alpha)),t},inverse:function(t){var e,r;this.no_rot?(r=t.y-this.y0,e=t.x-this.x0):(r=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*r/this.al),a=.5*(n-1/n),s=.5*(n+1/n),l=Math.sin(this.bl*e/this.al),u=(l*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/s,c=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<o?(t.x=this.long0,t.y=i):Math.abs(u+1)<o?(t.x=this.long0,t.y=-1*i):(t.y=Z(this.e,c),t.x=F(this.long0-Math.atan2(a*Math.cos(this.gamma0)-l*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};const Wt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<o)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=k(this.e,e,r),i=N(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),l=k(this.e,a,s),u=N(this.e,this.lat2,a),c=N(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>o?this.ns=Math.log(n/l)/Math.log(i/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=o&&(r=A(r)*(i-2e-10));var n,a,s=Math.abs(Math.abs(r)-i);if(s>o)n=N(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(n,this.ns);else{if((s=r*this.ns)<=0)return null;a=0}var l=this.ns*F(e-this.long0);return t.x=this.k0*(a*Math.sin(l))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(l))+this.y0,t},inverse:function(t){var e,r,n,o,a,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),r=1):(e=-Math.sqrt(s*s+l*l),r=-1);var u=0;if(0!==e&&(u=Math.atan2(r*s,r*l)),0!==e||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),-9999===(o=Z(this.e,n)))return null}else o=-i;return a=F(u/this.ns+this.long0),t.x=a,t.y=o,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};const Xt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,r,n,i,o,a,s,l=t.x,u=t.y,c=F(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),o=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,r,n,i,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,a=e,s=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,u+=1}while(0===s&&u<15);return u>=15?null:t},names:["Krovak","krovak"]};function Ht(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function Kt(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Jt(t){return.375*t*(1+.25*t*(1+.46875*t))}function $t(t){return.05859375*t*t*(1+.75*t)}function Qt(t){return t*t*t*(35/3072)}function te(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function ee(t){return Math.abs(t)<i?t:t-A(t)*Math.PI}function re(t,e,r,n,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-r*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*r*Math.cos(2*o)+4*n*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN}const ne={init:function(){this.sphere||(this.e0=Kt(this.es),this.e1=Jt(this.es),this.e2=$t(this.es),this.e3=Qt(this.es),this.ml0=this.a*Ht(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,r,n=t.x,i=t.y;if(n=F(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=te(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),u=n*Math.cos(i),c=u*u,h=this.es*a*a/(1-this.es);e=s*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),r=this.a*Ht(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*o/a*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n=t.x/this.a,a=t.y/this.a;if(this.sphere){var s=a+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(n)),r=Math.atan2(Math.tan(n),Math.cos(s))}else{var l=re(this.ml0/this.a+a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-i)<=o)return t.x=this.long0,t.y=i,a<0&&(t.y*=-1),t;var u=te(this.a,this.e,Math.sin(l)),c=u*u*u/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(l),2),p=n*this.a/u,d=p*p;e=l-u*Math.tan(l)/c*p*p*(.5-(1+3*h)*p*p/24),r=p*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(l)}return t.x=F(r+this.long0),t.y=ee(e),t},names:["Cassini","Cassini_Soldner","cass"]};function ie(t,e){var r;return t>1e-7?(1-t*t)*(e/(1-(r=t*e)*r)-.5/t*Math.log((1-r)/(1+r))):2*e}var oe=.3333333333333333,ae=.17222222222222222,se=.10257936507936508,le=.06388888888888888,ue=.0664021164021164,ce=.016415012942191543;const he={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-i)<o?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<o?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ie(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,r=[];return r[0]=t*oe,e=t*t,r[0]+=e*ae,r[1]=e*le,e*=t,r[0]+=e*se,r[1]+=e*ue,r[2]=e*ce,r}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ie(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,r,n,a,s,u,c,h,p,d,f=t.x,g=t.y;if(f=F(f-this.long0),this.sphere){if(s=Math.sin(g),d=Math.cos(g),n=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+d*n:1+this.sinph0*s+this.cosph0*d*n)<=o)return null;e=(r=Math.sqrt(2/r))*d*Math.sin(f),r*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*d*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(g+this.phi0)<o)return null;r=l-.5*g,e=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(f),r*=n}}else{switch(c=0,h=0,p=0,n=Math.cos(f),a=Math.sin(f),s=Math.sin(g),u=ie(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=u/this.qp,h=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:p=1+this.sinb1*c+this.cosb1*h*n;break;case this.EQUIT:p=1+h*n;break;case this.N_POLE:p=i+g,u=this.qp-u;break;case this.S_POLE:p=g-i,u=this.qp+u}if(Math.abs(p)<o)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),r=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*c-this.sinb1*h*n):(p=Math.sqrt(2/(1+h*n)))*c*this.ymf,e=this.xmf*p*h*a;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(p=Math.sqrt(u))*a,r=n*(this.mode===this.S_POLE?p:-p)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,a,s,l,u,c,h,p,d=t.x/this.a,f=t.y/this.a;if(this.sphere){var g,m=0,y=0;if((r=.5*(g=Math.sqrt(d*d+f*f)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(y=Math.sin(r),m=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(g)<=o?0:Math.asin(f*y/g),d*=y,f=m*g;break;case this.OBLIQ:r=Math.abs(g)<=o?this.phi0:Math.asin(m*this.sinph0+f*y*this.cosph0/g),d*=y*this.cosph0,f=(m-Math.sin(r)*this.sinph0)*g;break;case this.N_POLE:f=-f,r=i-r;break;case this.S_POLE:r-=i}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,f*=this.dd,(l=Math.sqrt(d*d+f*f))<o)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*l/this.rq),n=Math.cos(a),d*=a=Math.sin(a),this.mode===this.OBLIQ?(u=n*this.sinb1+f*a*this.cosb1/l,s=this.qp*u,f=l*this.cosb1*n-f*this.sinb1*a):(u=f*a/l,s=this.qp*u,f=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(s=d*d+f*f))return t.x=0,t.y=this.phi0,t;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(d,f),c=Math.asin(u),h=this.apa,p=c+c,r=c+h[0]*Math.sin(p)+h[1]*Math.sin(p+p)+h[2]*Math.sin(p+p+p)}return t.x=F(this.long0+e),t.y=r,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function pe(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const de={init:function(){Math.abs(this.lat1+this.lat2)<o||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=k(this.e3,this.sin_po,this.cos_po),this.qs1=ie(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=k(this.e3,this.sin_po,this.cos_po),this.qs2=ie(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ie(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>o?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=ie(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*F(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,r,n,i,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,r)),o=F(i/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var r,n,i,a,s=pe(.5*e);if(t<o)return s;for(var l=t*t,u=1;u<=25;u++)if(s+=a=.5*(i=1-(n=t*(r=Math.sin(s)))*n)*i/Math.cos(s)*(e/(1-l)-r/i+.5/t*Math.log((1-n)/(1+n))),Math.abs(a)<=1e-7)return s;return null}};const fe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,r,n,i,a,s,l,u=t.x,c=t.y;return n=F(u-this.long0),e=Math.sin(c),r=Math.cos(c),i=Math.cos(n),1,(a=this.sin_p14*e+this.cos_p14*r*i)>0||Math.abs(a)<=o?(s=this.x0+1*this.a*r*Math.sin(n)/a,l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*i)/a):(s=this.x0+this.infinity_dist*r*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=s,t.y=l,t},inverse:function(t){var e,r,n,i,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),a=pe((n=Math.cos(i))*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),o=F(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]};const ge={init:function(){this.sphere||(this.k0=k(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,r,n=t.x,i=t.y,o=F(n-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=ie(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,r=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=r,t},inverse:function(t){var e,r;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=F(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=function(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*i:i;for(var n,o,a,s,l=Math.asin(.5*e),u=0;u<30;u++)if(o=Math.sin(l),a=Math.cos(l),s=t*o,l+=n=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(n)<=1e-10)return l;return NaN}(this.e,2*t.y*this.k0/this.a),e=F(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t},names:["cea"]};const me={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,r=t.y,n=F(e-this.long0),i=ee(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,r=t.y;return t.x=F(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ee(this.lat0+(r-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const ye={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kt(this.es),this.e1=Jt(this.es),this.e2=$t(this.es),this.e3=Qt(this.es),this.ml0=this.a*Ht(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,r,n,i=t.x,a=t.y,s=F(i-this.long0);if(n=s*Math.sin(a),this.sphere)Math.abs(a)<=o?(e=this.a*s,r=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(a),r=this.a*(ee(a-this.lat0)+(1-Math.cos(n))/Math.tan(a)));else if(Math.abs(a)<=o)e=this.a*s,r=-1*this.ml0;else{var l=te(this.a,this.e,Math.sin(a))/Math.tan(a);e=l*Math.sin(n),r=this.a*Ht(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+l*(1-Math.cos(n))}return t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){var e,r,n,i,a,s,l,u,c;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=o)e=F(n/this.a+this.long0),r=0;else{var h;for(s=this.lat0+i/this.a,l=n*n/this.a/this.a+s*s,u=s,a=20;a;--a)if(u+=c=-1*(s*(u*(h=Math.tan(u))+1)-u-.5*(u*u+l)*h)/((u-s)/h-1),Math.abs(c)<=o){r=u;break}e=F(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=o)r=0,e=F(this.long0+n/this.a);else{var p,d,f,g,m;for(s=(this.ml0+i)/this.a,l=n*n/this.a/this.a+s*s,u=s,a=20;a;--a)if(m=this.e*Math.sin(u),p=Math.sqrt(1-m*m)*Math.tan(u),d=this.a*Ht(this.e0,this.e1,this.e2,this.e3,u),f=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=c=(s*(p*(g=d/this.a)+1)-g-.5*p*(g*g+l))/(this.es*Math.sin(2*u)*(g*g+l-2*s*g)/(4*p)+(s-g)*(p*f-2/Math.sin(2*u))-f),Math.abs(c)<=o){r=u;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=F(this.long0+Math.asin(n*p/this.a)/Math.sin(r))}return t.x=e,t.y=r,t},names:["Polyconic","poly"]};const ve={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,r=t.x,i=t.y-this.lat0,o=r-this.long0,a=i/n*1e-5,s=o,l=1,u=0;for(e=1;e<=10;e++)l*=a,u+=this.A[e]*l;var c,h=u,p=s,d=1,f=0,g=0,m=0;for(e=1;e<=6;e++)c=f*h+d*p,d=d*h-f*p,f=c,g=g+this.B_re[e]*d-this.B_im[e]*f,m=m+this.B_im[e]*d+this.B_re[e]*f;return t.x=m*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,r,i=t.x,o=t.y,a=i-this.x0,s=(o-this.y0)/this.a,l=a/this.a,u=1,c=0,h=0,p=0;for(e=1;e<=6;e++)r=c*s+u*l,u=u*s-c*l,c=r,h=h+this.C_re[e]*u-this.C_im[e]*c,p=p+this.C_im[e]*u+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var f,g=h,m=p,y=s,v=l;for(e=2;e<=6;e++)f=m*h+g*p,g=g*h-m*p,m=f,y+=(e-1)*(this.B_re[e]*g-this.B_im[e]*m),v+=(e-1)*(this.B_im[e]*g+this.B_re[e]*m);g=1,m=0;var _=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)f=m*h+g*p,g=g*h-m*p,m=f,_+=e*(this.B_re[e]*g-this.B_im[e]*m),b+=e*(this.B_im[e]*g+this.B_re[e]*m);var x=_*_+b*b;h=(y*_+v*b)/x,p=(v*_-y*b)/x}var w=h,E=p,C=1,S=0;for(e=1;e<=9;e++)C*=w,S+=this.D[e]*C;var T=this.lat0+S*n*1e5,P=this.long0+E;return t.x=P,t.y=T,t},names:["New_Zealand_Map_Grid","nzmg"]};const _e={init:function(){},forward:function(t){var e=t.x,r=t.y,n=F(e-this.long0),i=this.x0+this.a*n,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=F(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t},names:["Miller_Cylindrical","mill"]};const be={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Rt(this.es)},forward:function(t){var e,r,n=t.x,i=t.y;if(n=F(n-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(i),s=20;s;--s){var l=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=l,Math.abs(l)<o)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var u=Math.sin(i),c=Math.cos(i);r=this.a*It(i,u,c,this.en),e=this.a*n*c/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=r,t},inverse:function(t){var e,r,n;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=pe((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=pe(Math.sin(e)/this.n)),r=F(r+this.long0),e=ee(e)):(e=Lt(t.y/this.a,this.es,this.en),(n=Math.abs(e))<i?(n=Math.sin(e),r=F(this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)))):n-o<i&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]};const xe={init:function(){},forward:function(t){for(var e=t.x,r=t.y,n=F(e-this.long0),i=r,a=Math.PI*Math.sin(r);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<o)break}i/=2,Math.PI/2-Math.abs(r)<o&&(n=0);var l=.900316316158*this.a*n*Math.cos(i)+this.x0,u=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=l,t.y=u,t},inverse:function(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=F(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t},names:["Mollweide","moll"]};const we={init:function(){Math.abs(this.lat1+this.lat2)<o||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kt(this.es),this.e1=Jt(this.es),this.e2=$t(this.es),this.e3=Qt(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=k(this.e,this.sinphi,this.cosphi),this.ml1=Ht(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<o?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=k(this.e,this.sinphi,this.cosphi),this.ml2=Ht(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ht(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,r=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var i=Ht(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-i)}var o=this.ns*F(r-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,r,n,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==r&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=F(this.long0+o/this.ns),n=ee(this.g-r/this.a),t.x=i,t.y=n,t):(n=re(this.g-r/this.a,this.e0,this.e1,this.e2,this.e3),i=F(this.long0+o/this.ns),t.x=i,t.y=n,t)},names:["Equidistant_Conic","eqdc"]};const Ee={init:function(){this.R=this.a},forward:function(t){var e,r,n=t.x,a=t.y,s=F(n-this.long0);Math.abs(a)<=o&&(e=this.x0+this.R*s,r=this.y0);var l=pe(2*Math.abs(a/Math.PI));(Math.abs(s)<=o||Math.abs(Math.abs(a)-i)<=o)&&(e=this.x0,r=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*l):this.y0+Math.PI*this.R*-Math.tan(.5*l));var u=.5*Math.abs(Math.PI/s-s/Math.PI),c=u*u,h=Math.sin(l),p=Math.cos(l),d=p/(h+p-1),f=d*d,g=d*(2/h-1),m=g*g,y=Math.PI*this.R*(u*(d-m)+Math.sqrt(c*(d-m)*(d-m)-(m+c)*(f-m)))/(m+c);s<0&&(y=-y),e=this.x0+y;var v=c+d;return y=Math.PI*this.R*(g*v-u*Math.sqrt((m+c)*(c+1)-v*v))/(m+c),r=a>=0?this.y0+y:this.y0-y,t.x=e,t.y=r,t},inverse:function(t){var e,r,n,i,a,s,l,u,c,h,p,d;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,a=(n=t.x/p)*n+(i=t.y/p)*i,p=3*(i*i/(u=-2*(s=-Math.abs(i)*(1+a))+1+2*i*i+a*a)+(2*(l=s-2*i*i+n*n)*l*l/u/u/u-9*s*l/u/u)/27)/(c=(s-l*l/3/u)/u)/(h=2*Math.sqrt(-c/3)),Math.abs(p)>1&&(p=p>=0?1:-1),d=Math.acos(p)/3,r=t.y>=0?(-h*Math.cos(d+Math.PI/3)-l/3/u)*Math.PI:-(-h*Math.cos(d+Math.PI/3)-l/3/u)*Math.PI,e=Math.abs(n)<o?this.long0:F(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n),t.x=e,t.y=r,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const Ce={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,r,n,a,s,l,u,c,h,p,d,f,g,m,y,v,_,b,x,w,E,C,S=t.x,T=t.y,P=Math.sin(t.y),O=Math.cos(t.y),M=F(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=o?(t.x=this.x0+this.a*(i-T)*Math.sin(M),t.y=this.y0-this.a*(i-T)*Math.cos(M),t):Math.abs(this.sin_p12+1)<=o?(t.x=this.x0+this.a*(i+T)*Math.sin(M),t.y=this.y0+this.a*(i+T)*Math.cos(M),t):(b=this.sin_p12*P+this.cos_p12*O*Math.cos(M),_=(v=Math.acos(b))/Math.sin(v),t.x=this.x0+this.a*_*O*Math.sin(M),t.y=this.y0+this.a*_*(this.cos_p12*P-this.sin_p12*O*Math.cos(M)),t):(e=Kt(this.es),r=Jt(this.es),n=$t(this.es),a=Qt(this.es),Math.abs(this.sin_p12-1)<=o?(s=this.a*Ht(e,r,n,a,i),l=this.a*Ht(e,r,n,a,T),t.x=this.x0+(s-l)*Math.sin(M),t.y=this.y0-(s-l)*Math.cos(M),t):Math.abs(this.sin_p12+1)<=o?(s=this.a*Ht(e,r,n,a,i),l=this.a*Ht(e,r,n,a,T),t.x=this.x0+(s+l)*Math.sin(M),t.y=this.y0+(s+l)*Math.cos(M),t):(u=P/O,c=te(this.a,this.e,this.sin_p12),h=te(this.a,this.e,P),p=Math.atan((1-this.es)*u+this.es*c*this.sin_p12/(h*O)),x=0===(d=Math.atan2(Math.sin(M),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(M)))?Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(d)-Math.PI)<=o?-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.asin(Math.sin(M)*Math.cos(p)/Math.sin(d)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),v=c*x*(1-(w=x*x)*(y=(g=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es))*g)*(1-y)/6+(E=w*x)/8*(m=f*g)*(1-2*y)+(C=E*x)/120*(y*(4-7*y)-3*f*f*(1-7*y))-C*x/48*m),t.x=this.x0+v*Math.sin(d),t.y=this.y0+v*Math.cos(d),t))},inverse:function(t){var e,r,n,a,s,l,u,c,h,p,d,f,g,m,y,v,_,b,x,w,E,C;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*i*this.a)return;return r=e/this.a,n=Math.sin(r),a=Math.cos(r),s=this.long0,Math.abs(e)<=o?l=this.lat0:(l=pe(a*this.sin_p12+t.y*n*this.cos_p12/e),u=Math.abs(this.lat0)-i,s=Math.abs(u)<=o?this.lat0>=0?F(this.long0+Math.atan2(t.x,-t.y)):F(this.long0-Math.atan2(-t.x,t.y)):F(this.long0+Math.atan2(t.x*n,e*this.cos_p12*a-t.y*this.sin_p12*n))),t.x=s,t.y=l,t}return c=Kt(this.es),h=Jt(this.es),p=$t(this.es),d=Qt(this.es),Math.abs(this.sin_p12-1)<=o?(l=re(((f=this.a*Ht(c,h,p,d,i))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,c,h,p,d),s=F(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=l,t):Math.abs(this.sin_p12+1)<=o?(f=this.a*Ht(c,h,p,d,i),l=re(((e=Math.sqrt(t.x*t.x+t.y*t.y))-f)/this.a,c,h,p,d),s=F(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=l,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),g=te(this.a,this.e,this.sin_p12),v=Math.cos(y),b=-(_=this.e*this.cos_p12*v)*_/(1-this.es),x=3*this.es*(1-b)*this.sin_p12*this.cos_p12*v/(1-this.es),C=1-b*(E=(w=e/g)-b*(1+b)*Math.pow(w,3)/6-x*(1+3*b)*Math.pow(w,4)/24)*E/2-w*E*E*E/6,m=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*v),s=F(this.long0+Math.asin(Math.sin(y)*Math.sin(E)/Math.cos(m))),l=Math.atan((1-this.es*C*this.sin_p12/Math.sin(m))*Math.tan(m)/(1-this.es)),t.x=s,t.y=l,t)},names:["Azimuthal_Equidistant","aeqd"]};const Se={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,r,n,i,a,s,l,u=t.x,c=t.y;return n=F(u-this.long0),e=Math.sin(c),r=Math.cos(c),i=Math.cos(n),1,((a=this.sin_p14*e+this.cos_p14*r*i)>0||Math.abs(a)<=o)&&(s=1*this.a*r*Math.sin(n),l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=s,t.y=l,t},inverse:function(t){var e,r,n,a,s,l,u;return t.x-=this.x0,t.y-=this.y0,r=pe((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),n=Math.sin(r),a=Math.cos(r),l=this.long0,Math.abs(e)<=o?(u=this.lat0,t.x=l,t.y=u,t):(u=pe(a*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.abs(this.lat0)-i,Math.abs(s)<=o?(l=this.lat0>=0?F(this.long0+Math.atan2(t.x,-t.y)):F(this.long0-Math.atan2(-t.x,t.y)),t.x=l,t.y=u,t):(l=F(this.long0+Math.atan2(t.x*n,e*this.cos_p14*a-t.y*this.sin_p14*n)),t.x=l,t.y=u,t))},names:["ortho"]};var Te=1,Pe=2,Oe=3,Me=4,Re=5,Ie=6,Le=1,ke=2,Ae=3,Fe=4;function Ne(t,e,r,n){var a;return t<o?(n.value=Le,a=0):(a=Math.atan2(e,r),Math.abs(a)<=l?n.value=Le:a>l&&a<=i+l?(n.value=ke,a-=i):a>i+l||a<=-(i+l)?(n.value=Ae,a=a>=0?a-c:a+c):(n.value=Fe,a+=i)),a}function Ze(t,e){var r=t+e;return r<-c?r+=u:r>+c&&(r-=u),r}const je={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=i-l/2?this.face=Re:this.lat0<=-(i-l/2)?this.face=Ie:Math.abs(this.long0)<=l?this.face=Te:Math.abs(this.long0)<=i+l?this.face=this.long0>0?Pe:Me:this.face=Oe,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,r,n,o,a,s,u={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,r=t.x,this.face===Re)o=i-e,r>=l&&r<=i+l?(h.value=Le,n=r-i):r>i+l||r<=-(i+l)?(h.value=ke,n=r>0?r-c:r+c):r>-(i+l)&&r<=-l?(h.value=Ae,n=r+i):(h.value=Fe,n=r);else if(this.face===Ie)o=i+e,r>=l&&r<=i+l?(h.value=Le,n=-r+i):r<l&&r>=-l?(h.value=ke,n=-r):r<-l&&r>=-(i+l)?(h.value=Ae,n=-r-i):(h.value=Fe,n=r>0?-r+c:-r-c);else{var p,d,f,g,m,y;this.face===Pe?r=Ze(r,+i):this.face===Oe?r=Ze(r,+c):this.face===Me&&(r=Ze(r,-i)),g=Math.sin(e),m=Math.cos(e),y=Math.sin(r),p=m*Math.cos(r),d=m*y,f=g,this.face===Te?n=Ne(o=Math.acos(p),f,d,h):this.face===Pe?n=Ne(o=Math.acos(d),f,-p,h):this.face===Oe?n=Ne(o=Math.acos(-p),f,-d,h):this.face===Me?n=Ne(o=Math.acos(-d),f,p,h):(o=n=0,h.value=Le)}return s=Math.atan(12/c*(n+Math.acos(Math.sin(n)*Math.cos(l))-i)),a=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(n))))),h.value===ke?s+=i:h.value===Ae?s+=c:h.value===Fe&&(s+=1.5*c),u.x=a*Math.cos(s),u.y=a*Math.sin(s),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,t.x=u.x,t.y=u.y,t},inverse:function(t){var e,r,n,o,a,s,l,u,h,p,d,f,g={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Le:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=ke,e-=i):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=Ae,e=e<0?e+c:e-c):(m.value=Fe,e+=i),h=c/12*Math.tan(e),a=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),s=Math.atan(a),(l=1-(n=Math.cos(e))*n*(o=Math.tan(r))*o*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?l=-1:l>1&&(l=1),this.face===Re)u=Math.acos(l),g.phi=i-u,m.value===Le?g.lam=s+i:m.value===ke?g.lam=s<0?s+c:s-c:m.value===Ae?g.lam=s-i:g.lam=s;else if(this.face===Ie)u=Math.acos(l),g.phi=u-i,m.value===Le?g.lam=-s+i:m.value===ke?g.lam=-s:m.value===Ae?g.lam=-s-i:g.lam=s<0?-s-c:-s+c;else{var y,v,_;h=(y=l)*y,v=(h+=(_=h>=1?0:Math.sqrt(1-h)*Math.sin(s))*_)>=1?0:Math.sqrt(1-h),m.value===ke?(h=v,v=-_,_=h):m.value===Ae?(v=-v,_=-_):m.value===Fe&&(h=v,v=_,_=-h),this.face===Pe?(h=y,y=-v,v=h):this.face===Oe?(y=-y,v=-v):this.face===Me&&(h=y,y=v,v=-h),g.phi=Math.acos(-_)-i,g.lam=Math.atan2(v,y),this.face===Pe?g.lam=Ze(g.lam,-i):this.face===Oe?g.lam=Ze(g.lam,-c):this.face===Me&&(g.lam=Ze(g.lam,+i))}return 0!==this.es&&(p=g.phi<0?1:0,d=Math.tan(g.phi),f=this.b/Math.sqrt(d*d+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),p&&(g.phi=-g.phi)),g.lam+=this.long0,t.x=g.lam,t.y=g.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var De=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ge=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ze=.8487,Ue=1.3523,Be=s/5,qe=18,Ve=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const Ye={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=F(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*Be);n<0?n=0:n>=qe&&(n=17);var i={x:Ve(De[n],r=s*(r-.08726646259971647*n))*e,y:Ve(Ge[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*ze+this.x0,i.y=i.y*this.a*Ue+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*ze),y:Math.abs(t.y-this.y0)/(this.a*Ue)};if(e.y>=1)e.x/=De[18][0],e.y=t.y<0?-i:i;else{var r=Math.floor(e.y*qe);for(r<0?r=0:r>=qe&&(r=17);;)if(Ge[r][0]>e.y)--r;else{if(!(Ge[r+1][0]<=e.y))break;++r}var n=Ge[r],s=5*(e.y-n[0])/(Ge[r+1][0]-n[0]);s=function(t,e,r,n){for(var i=e;n;--n){var o=t(i);if(i-=o,Math.abs(o)<r)break}return i}((function(t){return(Ve(n,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(n,t)}),s,o,100),e.x/=Ve(De[r],s),e.y=(5*r+s)*a,t.y<0&&(e.y=-e.y)}return e.x=F(e.x+this.long0),e},names:["Robinson","robin"]};const We={init:function(){this.name="geocent"},forward:function(t){return K(t,this.es,this.a)},inverse:function(t){return J(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};st.defaultDatum="WGS84",st.Proj=H,st.WGS84=new st.Proj("WGS84"),st.Point=Tt,st.toPoint=et,st.defs=O,st.transform=nt,st.mgrs=gt,st.version="__VERSION__",function(t){t.Proj.projections.add(kt),t.Proj.projections.add(Dt),t.Proj.projections.add(Gt),t.Proj.projections.add(Bt),t.Proj.projections.add(qt),t.Proj.projections.add(Vt),t.Proj.projections.add(Yt),t.Proj.projections.add(Wt),t.Proj.projections.add(Xt),t.Proj.projections.add(ne),t.Proj.projections.add(he),t.Proj.projections.add(de),t.Proj.projections.add(fe),t.Proj.projections.add(ge),t.Proj.projections.add(me),t.Proj.projections.add(ye),t.Proj.projections.add(ve),t.Proj.projections.add(_e),t.Proj.projections.add(be),t.Proj.projections.add(xe),t.Proj.projections.add(we),t.Proj.projections.add(Ee),t.Proj.projections.add(Ce),t.Proj.projections.add(Se),t.Proj.projections.add(je),t.Proj.projections.add(Ye),t.Proj.projections.add(We)}(st);const Xe=st},70666:function(t){t.exports=function(){"use strict";function t(t,r,i,o,a){e(t,r,i||0,o||t.length-1,a||n)}function e(t,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-l*c/s+h)),Math.min(o,Math.floor(n+(s-l)*c/s+h)),a)}var p=t[n],d=i,f=o;for(r(t,i,n),a(t[o],p)>0&&r(t,i,o);d<f;){for(r(t,d,f),d++,f--;a(t[d],p)<0;)d++;for(;a(t[f],p)>0;)f--}0===a(t[i],p)?r(t,i,f):r(t,++f,o),f<=n&&(i=f+1),n<=f&&(o=f-1)}}function r(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,r,n,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<r;o++){var a=t.children[o];l(i,t.leaf?n(a):a)}return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,r,n,i,o){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;t(e,s,r,n,o),a.push(r,s,s,n)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,r=[];if(!m(t,e))return r;for(var n=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?n(a):a;m(t,s)&&(e.leaf?r.push(a):g(t,s)?this._all(a,r):i.push(a))}e=i.pop()}return r},i.prototype.collides=function(t){var e=this.data;if(!m(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var i=e.children[n],o=e.leaf?this.toBBox(i):i;if(m(t,o)){if(e.leaf||g(t,o))return!0;r.push(i)}}e=r.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=y([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var r,n,i,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=u.pop(),i=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}i||a.leaf||!g(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(l.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},i.prototype._build=function(t,e,r,n){var i,o=r-e+1,s=this._maxEntries;if(o<=s)return a(i=y(t.slice(e,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=y([])).leaf=!1,i.height=n;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));v(t,e,r,u,this.compareMinX);for(var c=e;c<=r;c+=u){var h=Math.min(c+u-1,r);v(t,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var d=Math.min(p+l-1,h);i.children.push(this._build(t,p,d,n-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],u=h(l),c=d(t,l)-u;c<o?(o=c,i=u<i?u:i,a=l):c===o&&u<i&&(i=u,a=l)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),i=[],o=this._chooseSubtree(n,this.data,e,i);for(o.children.push(t),l(o,n);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(n,i,e)},i.prototype._split=function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=y(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,a(r,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},i.prototype._splitRoot=function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,r){for(var n,i=1/0,o=1/0,a=e;a<=r-e;a++){var l=s(t,0,a,this.toBBox),u=s(t,a,r,this.toBBox),c=f(l,u),p=h(l)+h(u);c<i?(i=c,n=a,o=p<o?p:o):c===i&&p<o&&(o=p,n=a)}return n||r-e},i.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},i.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var i=this.toBBox,o=s(t,0,e,i),a=s(t,r-e,r,i),u=p(o)+p(a),c=e;c<r-e;c++){var h=t.children[c];l(o,t.leaf?i(h):h),u+=p(o)}for(var d=r-e-1;d>=e;d--){var f=t.children[d];l(a,t.leaf?i(f):f),u+=p(a)}return u},i.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)l(e[n],t)},i.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():a(t[e],this.toBBox)},i}()},98314:(t,e,r)=>{"use strict";var n=r(3044),i=r(45109),o=r(16386);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=null,l={};function u(){if(s)for(var t in l){var e=l[t],r=s.indexOf(t);if(!(-1<r))throw Error(a(96,t));if(!h[r]){if(!e.extractEvents)throw Error(a(97,t));for(var n in h[r]=e,r=e.eventTypes){var i=void 0,o=r[n],u=e,d=n;if(p.hasOwnProperty(d))throw Error(a(99,d));p[d]=o;var f=o.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&c(f[i],u,d);i=!0}else o.registrationName?(c(o.registrationName,u,d),i=!0):i=!1;if(!i)throw Error(a(98,n,t))}}}}function c(t,e,r){if(d[t])throw Error(a(100,t));d[t]=e,f[t]=e.eventTypes[r].dependencies}var h=[],p={},d={},f={};function g(t,e,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(t){this.onError(t)}}var m=!1,y=null,v=!1,_=null,b={onError:function(t){m=!0,y=t}};function x(t,e,r,n,i,o,a,s,l){m=!1,y=null,g.apply(b,arguments)}var w=null,E=null,C=null;function S(t,e,r){var n=t.type||"unknown-event";t.currentTarget=C(r),function(t,e,r,n,i,o,s,l,u){if(x.apply(this,arguments),m){if(!m)throw Error(a(198));var c=y;m=!1,y=null,v||(v=!0,_=c)}}(n,e,void 0,t),t.currentTarget=null}function T(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function P(t,e,r){Array.isArray(t)?t.forEach(e,r):t&&e.call(r,t)}var O=null;function M(t){if(t){var e=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)S(t,e[n],r[n]);else e&&S(t,e,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function R(t){if(null!==t&&(O=T(O,t)),t=O,O=null,t){if(P(t,M),O)throw Error(a(95));if(v)throw t=_,v=!1,_=null,t}}var I={injectEventPluginOrder:function(t){if(s)throw Error(a(101));s=Array.prototype.slice.call(t),u()},injectEventPluginsByName:function(t){var e,r=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!l.hasOwnProperty(e)||l[e]!==n){if(l[e])throw Error(a(102,e));l[e]=n,r=!0}}r&&u()}};function L(t,e){var r=t.stateNode;if(!r)return null;var n=w(r);if(!n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!=typeof r)throw Error(a(231,e,typeof r));return r}var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;k.hasOwnProperty("ReactCurrentDispatcher")||(k.ReactCurrentDispatcher={current:null}),k.hasOwnProperty("ReactCurrentBatchConfig")||(k.ReactCurrentBatchConfig={suspense:null});var A=/^(.*)[\\\/]/,F="function"==typeof Symbol&&Symbol.for,N=F?Symbol.for("react.element"):60103,Z=F?Symbol.for("react.portal"):60106,j=F?Symbol.for("react.fragment"):60107,D=F?Symbol.for("react.strict_mode"):60108,G=F?Symbol.for("react.profiler"):60114,z=F?Symbol.for("react.provider"):60109,U=F?Symbol.for("react.context"):60110,B=F?Symbol.for("react.concurrent_mode"):60111,q=F?Symbol.for("react.forward_ref"):60112,V=F?Symbol.for("react.suspense"):60113,Y=F?Symbol.for("react.suspense_list"):60120,W=F?Symbol.for("react.memo"):60115,X=F?Symbol.for("react.lazy"):60116;F&&Symbol.for("react.fundamental"),F&&Symbol.for("react.responder"),F&&Symbol.for("react.scope");var H="function"==typeof Symbol&&Symbol.iterator;function K(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=H&&t[H]||t["@@iterator"])?t:null}function J(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case j:return"Fragment";case Z:return"Portal";case G:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case U:return"Context.Consumer";case z:return"Context.Provider";case q:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case W:return J(t.type);case X:if(t=1===t._status?t._result:null)return J(t)}return null}function $(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break t;default:var n=t._debugOwner,i=t._debugSource,o=J(t.type);r=null,n&&(r=J(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(A,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}e+=r,t=t.return}while(t);return e}var Q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),tt=null,et=null,rt=null;function nt(t){if(t=E(t)){if("function"!=typeof tt)throw Error(a(280));var e=w(t.stateNode);tt(t.stateNode,t.type,e)}}function it(t){et?rt?rt.push(t):rt=[t]:et=t}function ot(){if(et){var t=et,e=rt;if(rt=et=null,nt(t),e)for(t=0;t<e.length;t++)nt(e[t])}}function at(t,e){return t(e)}function st(t,e,r,n){return t(e,r,n)}function lt(){}var ut=at,ct=!1,ht=!1;function pt(){null===et&&null===rt||(lt(),ot())}new Map;var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,gt={},mt={};function yt(t,e,r,n,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){vt[t]=new yt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];vt[e]=new yt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){vt[t]=new yt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){vt[t]=new yt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){vt[t]=new yt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){vt[t]=new yt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){vt[t]=new yt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){vt[t]=new yt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){vt[t]=new yt(t,5,!1,t.toLowerCase(),null,!1)}));var _t=/[\-:]([a-z])/g;function bt(t){return t[1].toUpperCase()}function xt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function wt(t,e,r,n){var i=vt.hasOwnProperty(e)?vt[e]:null;(null!==i?0===i.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,n){if(null==e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!ft.call(mt,t)||!ft.call(gt,t)&&(dt.test(t)?mt[t]=!0:(gt[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}function Et(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ct(t){t._valueTracker||(t._valueTracker=function(t){var e=Et(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function St(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Et(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function Tt(t,e){var r=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Pt(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=xt(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ot(t,e){null!=(e=e.checked)&&wt(t,"checked",e,!1)}function Mt(t,e){Ot(t,e);var r=xt(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,r):e.hasOwnProperty("defaultValue")&&It(t,e.type,xt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Rt(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function It(t,e,r){"number"===e&&t.ownerDocument.activeElement===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function Lt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function kt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xt(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function At(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ft(t,e){var r=e.value;if(null==r){if(r=e.defaultValue,null!=(e=e.children)){if(null!=r)throw Error(a(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(a(93));e=e[0]}r=e}null==r&&(r="")}t._wrapperState={initialValue:xt(r)}}function Nt(t,e){var r=xt(e.value),n=xt(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function Zt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(_t,bt);vt[e]=new yt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(_t,bt);vt[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(_t,bt);vt[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){vt[t]=new yt(t,1,!1,t.toLowerCase(),null,!1)})),vt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){vt[t]=new yt(t,1,!1,t.toLowerCase(),null,!0)}));var jt="http://www.w3.org/1999/xhtml",Dt="http://www.w3.org/2000/svg";function Gt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Gt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ut,Bt,qt=(Bt=function(t,e){if(t.namespaceURI!==Dt||"innerHTML"in t)t.innerHTML=e;else{for((Ut=Ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return Bt(t,e)}))}:Bt);function Vt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}function Yt(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wt={animationend:Yt("Animation","AnimationEnd"),animationiteration:Yt("Animation","AnimationIteration"),animationstart:Yt("Animation","AnimationStart"),transitionend:Yt("Transition","TransitionEnd")},Xt={},Ht={};function Kt(t){if(Xt[t])return Xt[t];if(!Wt[t])return t;var e,r=Wt[t];for(e in r)if(r.hasOwnProperty(e)&&e in Ht)return Xt[t]=r[e];return t}Q&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Wt.animationend.animation,delete Wt.animationiteration.animation,delete Wt.animationstart.animation),"TransitionEvent"in window||delete Wt.transitionend.transition);var Jt=Kt("animationend"),$t=Kt("animationiteration"),Qt=Kt("animationstart"),te=Kt("transitionend"),ee="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function re(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function ne(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ie(t){if(re(t)!==t)throw Error(a(188))}function oe(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=re(t)))throw Error(a(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return ie(i),t;if(o===n)return ie(i),e;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var ae,se,le,ue=!1,ce=[],he=null,pe=null,de=null,fe=new Map,ge=new Map,me=[],ye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ve="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function _e(t,e,r,n){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|r,nativeEvent:n}}function be(t,e){switch(t){case"focus":case"blur":he=null;break;case"dragenter":case"dragleave":pe=null;break;case"mouseover":case"mouseout":de=null;break;case"pointerover":case"pointerout":fe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ge.delete(e.pointerId)}}function xe(t,e,r,n,i){return null===t||t.nativeEvent!==i?(t=_e(e,r,n,i),null!==e&&(null!==(e=dn(e))&&se(e)),t):(t.eventSystemFlags|=n,t)}function we(t){var e=pn(t.target);if(null!==e){var r=re(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=ne(r)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){le(r)}))}else if(3===e&&r.stateNode.hydrate)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Ee(t){if(null!==t.blockedOn)return!1;var e=Ir(t.topLevelType,t.eventSystemFlags,t.nativeEvent);if(null!==e){var r=dn(e);return null!==r&&se(r),t.blockedOn=e,!1}return!0}function Ce(t,e,r){Ee(t)&&r.delete(e)}function Se(){for(ue=!1;0<ce.length;){var t=ce[0];if(null!==t.blockedOn){null!==(t=dn(t.blockedOn))&&ae(t);break}var e=Ir(t.topLevelType,t.eventSystemFlags,t.nativeEvent);null!==e?t.blockedOn=e:ce.shift()}null!==he&&Ee(he)&&(he=null),null!==pe&&Ee(pe)&&(pe=null),null!==de&&Ee(de)&&(de=null),fe.forEach(Ce),ge.forEach(Ce)}function Te(t,e){t.blockedOn===e&&(t.blockedOn=null,ue||(ue=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Se)))}function Pe(t){function e(e){return Te(e,t)}if(0<ce.length){Te(ce[0],t);for(var r=1;r<ce.length;r++){var n=ce[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==he&&Te(he,t),null!==pe&&Te(pe,t),null!==de&&Te(de,t),fe.forEach(e),ge.forEach(e),r=0;r<me.length;r++)(n=me[r]).blockedOn===t&&(n.blockedOn=null);for(;0<me.length&&null===(r=me[0]).blockedOn;)we(r),null===r.blockedOn&&me.shift()}function Oe(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Me(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Re(t,e,r){(e=L(t,r.dispatchConfig.phasedRegistrationNames[e]))&&(r._dispatchListeners=T(r._dispatchListeners,e),r._dispatchInstances=T(r._dispatchInstances,t))}function Ie(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,r=[];e;)r.push(e),e=Me(e);for(e=r.length;0<e--;)Re(r[e],"captured",t);for(e=0;e<r.length;e++)Re(r[e],"bubbled",t)}}function Le(t,e,r){t&&r&&r.dispatchConfig.registrationName&&(e=L(t,r.dispatchConfig.registrationName))&&(r._dispatchListeners=T(r._dispatchListeners,e),r._dispatchInstances=T(r._dispatchInstances,t))}function ke(t){t&&t.dispatchConfig.registrationName&&Le(t._targetInst,null,t)}function Ae(t){P(t,Ie)}function Fe(){return!0}function Ne(){return!1}function Ze(t,e,r,n){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=r,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Fe:Ne,this.isPropagationStopped=Ne,this}function je(t,e,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,r,n),i}return new this(t,e,r,n)}function De(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Ge(t){t.eventPool=[],t.getPooled=je,t.release=De}i(Ze.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Fe)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Fe)},persist:function(){this.isPersistent=Fe},isPersistent:Ne,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ne,this._dispatchInstances=this._dispatchListeners=null}}),Ze.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ze.extend=function(t){function e(){}function r(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var o=new e;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,t),r.extend=n.extend,Ge(r),r},Ge(Ze);var ze=Ze.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ue=Ze.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Be=Ze.extend({view:null,detail:null}),qe=Be.extend({relatedTarget:null});function Ve(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},We={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function He(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Xe[t])&&!!e[t]}function Ke(){return He}for(var Je=Be.extend({key:function(t){if(t.key){var e=Ye[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ve(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?We[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ke,charCode:function(t){return"keypress"===t.type?Ve(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ve(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),$e=0,Qe=0,tr=!1,er=!1,rr=Be.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ke,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=$e;return $e=t.screenX,tr?"mousemove"===t.type?t.screenX-e:0:(tr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Qe;return Qe=t.screenY,er?"mousemove"===t.type?t.screenY-e:0:(er=!0,0)}}),nr=rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ir=rr.extend({dataTransfer:null}),or=Be.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ke}),ar=Ze.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sr=rr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),lr=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Jt,"animationEnd",2],[$t,"animationIteration",2],[Qt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[te,"transitionEnd",2],["waiting","waiting",2]],ur={},cr={},hr=0;hr<lr.length;hr++){var pr=lr[hr],dr=pr[0],fr=pr[1],gr=pr[2],mr="on"+(fr[0].toUpperCase()+fr.slice(1)),yr={phasedRegistrationNames:{bubbled:mr,captured:mr+"Capture"},dependencies:[dr],eventPriority:gr};ur[fr]=yr,cr[dr]=yr}var vr={eventTypes:ur,getEventPriority:function(t){return void 0!==(t=cr[t])?t.eventPriority:2},extractEvents:function(t,e,r,n){var i=cr[t];if(!i)return null;switch(t){case"keypress":if(0===Ve(r))return null;case"keydown":case"keyup":t=Je;break;case"blur":case"focus":t=qe;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=or;break;case Jt:case $t:case Qt:t=ze;break;case te:t=ar;break;case"scroll":t=Be;break;case"wheel":t=sr;break;case"copy":case"cut":case"paste":t=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=nr;break;default:t=Ze}return Ae(e=t.getPooled(i,e,r,n)),e}},_r=o.unstable_UserBlockingPriority,br=o.unstable_runWithPriority,xr=vr.getEventPriority,wr=[];function Er(t){var e=t.targetInst,r=e;do{if(!r){t.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=r.tag)&&6!==e||t.ancestors.push(r),r=pn(n)}while(r);for(r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var i=Oe(t.nativeEvent);n=t.topLevelType;for(var o=t.nativeEvent,a=t.eventSystemFlags,s=null,l=0;l<h.length;l++){var u=h[l];u&&(u=u.extractEvents(n,e,o,i,a))&&(s=T(s,u))}R(s)}}var Cr=!0;function Sr(t,e){Tr(e,t,!1)}function Tr(t,e,r){switch(xr(e)){case 0:var n=Pr.bind(null,e,1);break;case 1:n=Or.bind(null,e,1);break;default:n=Rr.bind(null,e,1)}r?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Pr(t,e,r){ct||lt();var n=Rr,i=ct;ct=!0;try{st(n,t,e,r)}finally{(ct=i)||pt()}}function Or(t,e,r){br(_r,Rr.bind(null,t,e,r))}function Mr(t,e,r,n){if(wr.length){var i=wr.pop();i.topLevelType=t,i.eventSystemFlags=e,i.nativeEvent=r,i.targetInst=n,t=i}else t={topLevelType:t,eventSystemFlags:e,nativeEvent:r,targetInst:n,ancestors:[]};try{if(e=Er,r=t,ht)e(r,void 0);else{ht=!0;try{ut(e,r,void 0)}finally{ht=!1,pt()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,wr.length<10&&wr.push(t)}}function Rr(t,e,r){if(Cr)if(0<ce.length&&-1<ye.indexOf(t))t=_e(null,t,e,r),ce.push(t);else{var n=Ir(t,e,r);null===n?be(t,r):-1<ye.indexOf(t)?(t=_e(n,t,e,r),ce.push(t)):function(t,e,r,n){switch(e){case"focus":return he=xe(he,t,e,r,n),!0;case"dragenter":return pe=xe(pe,t,e,r,n),!0;case"mouseover":return de=xe(de,t,e,r,n),!0;case"pointerover":var i=n.pointerId;return fe.set(i,xe(fe.get(i)||null,t,e,r,n)),!0;case"gotpointercapture":return i=n.pointerId,ge.set(i,xe(ge.get(i)||null,t,e,r,n)),!0}return!1}(n,t,e,r)||(be(t,r),Mr(t,e,r,null))}}function Ir(t,e,r){var n=Oe(r);if(null!==(n=pn(n))){var i=re(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=ne(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Mr(t,e,r,n),null}function Lr(t){if(!Q)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var kr=new("function"==typeof WeakMap?WeakMap:Map);function Ar(t){var e=kr.get(t);return void 0===e&&(e=new Set,kr.set(t,e)),e}function Fr(t,e,r){if(!r.has(t)){switch(t){case"scroll":Tr(e,"scroll",!0);break;case"focus":case"blur":Tr(e,"focus",!0),Tr(e,"blur",!0),r.add("blur"),r.add("focus");break;case"cancel":case"close":Lr(t)&&Tr(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ee.indexOf(t)&&Sr(t,e)}r.add(t)}}var Nr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];function jr(t,e,r){return null==e||"boolean"==typeof e||""===e?"":r||"number"!=typeof e||0===e||Nr.hasOwnProperty(t)&&Nr[t]?(""+e).trim():e+"px"}function Dr(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=jr(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(Nr).forEach((function(t){Zr.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nr[e]=Nr[t]}))}));var Gr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(t,e){if(e){if(Gr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function Ur(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Br(t,e){var r=Ar(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=f[e];for(var n=0;n<e.length;n++)Fr(e[n],t,r)}function qr(){}function Vr(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Yr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wr(t,e){var r,n=Yr(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Yr(n)}}function Xr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Xr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Hr(){for(var t=window,e=Vr();e instanceof t.HTMLIFrameElement;){try{var r="string"==typeof e.contentWindow.location.href}catch(t){r=!1}if(!r)break;e=Vr((t=e.contentWindow).document)}return e}function Kr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Jr="$?",$r="$!",Qr=null,tn=null;function en(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function rn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var nn="function"==typeof setTimeout?setTimeout:void 0,on="function"==typeof clearTimeout?clearTimeout:void 0;function an(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function sn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||r===$r||r===Jr){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var ln=Math.random().toString(36).slice(2),un="__reactInternalInstance$"+ln,cn="__reactEventHandlers$"+ln,hn="__reactContainere$"+ln;function pn(t){var e=t[un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hn]||r[un]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=sn(t);null!==t;){if(r=t[un])return r;t=sn(t)}return e}r=(t=r).parentNode}return null}function dn(t){return!(t=t[un]||t[hn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function fn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function gn(t){return t[cn]||null}var mn=null,yn=null,vn=null;function _n(){if(vn)return vn;var t,e,r=yn,n=r.length,i="value"in mn?mn.value:mn.textContent,o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===i[o-e];e++);return vn=i.slice(t,1<e?1-e:void 0)}var bn=Ze.extend({data:null}),xn=Ze.extend({data:null}),wn=[9,13,27,32],En=Q&&"CompositionEvent"in window,Cn=null;Q&&"documentMode"in document&&(Cn=document.documentMode);var Sn=Q&&"TextEvent"in window&&!Cn,Tn=Q&&(!En||Cn&&8<Cn&&11>=Cn),Pn=String.fromCharCode(32),On={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Mn=!1;function Rn(t,e){switch(t){case"keyup":return-1!==wn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function In(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Ln=!1;var kn={eventTypes:On,extractEvents:function(t,e,r,n){var i;if(En)t:{switch(t){case"compositionstart":var o=On.compositionStart;break t;case"compositionend":o=On.compositionEnd;break t;case"compositionupdate":o=On.compositionUpdate;break t}o=void 0}else Ln?Rn(t,r)&&(o=On.compositionEnd):"keydown"===t&&229===r.keyCode&&(o=On.compositionStart);return o?(Tn&&"ko"!==r.locale&&(Ln||o!==On.compositionStart?o===On.compositionEnd&&Ln&&(i=_n()):(yn="value"in(mn=n)?mn.value:mn.textContent,Ln=!0)),o=bn.getPooled(o,e,r,n),i?o.data=i:null!==(i=In(r))&&(o.data=i),Ae(o),i=o):i=null,(t=Sn?function(t,e){switch(t){case"compositionend":return In(e);case"keypress":return 32!==e.which?null:(Mn=!0,Pn);case"textInput":return(t=e.data)===Pn&&Mn?null:t;default:return null}}(t,r):function(t,e){if(Ln)return"compositionend"===t||!En&&Rn(t,e)?(t=_n(),vn=yn=mn=null,Ln=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tn&&"ko"!==e.locale?null:e.data}}(t,r))?((e=xn.getPooled(On.beforeInput,e,r,n)).data=t,Ae(e)):e=null,null===i?e:null===e?i:[i,e]}},An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!An[t.type]:"textarea"===e}var Nn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Zn(t,e,r){return(t=Ze.getPooled(Nn.change,t,e,r)).type="change",it(r),Ae(t),t}var jn=null,Dn=null;function Gn(t){R(t)}function zn(t){if(St(fn(t)))return t}function Un(t,e){if("change"===t)return e}var Bn=!1;function qn(){jn&&(jn.detachEvent("onpropertychange",Vn),Dn=jn=null)}function Vn(t){if("value"===t.propertyName&&zn(Dn))if(t=Zn(Dn,t,Oe(t)),ct)R(t);else{ct=!0;try{at(Gn,t)}finally{ct=!1,pt()}}}function Yn(t,e,r){"focus"===t?(qn(),Dn=r,(jn=e).attachEvent("onpropertychange",Vn)):"blur"===t&&qn()}function Wn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return zn(Dn)}function Xn(t,e){if("click"===t)return zn(e)}function Hn(t,e){if("input"===t||"change"===t)return zn(e)}Q&&(Bn=Lr("input")&&(!document.documentMode||9<document.documentMode));var Kn,Jn={eventTypes:Nn,_isInputEventSupported:Bn,extractEvents:function(t,e,r,n){var i=e?fn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Un;else if(Fn(i))if(Bn)a=Hn;else{a=Wn;var s=Yn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Xn);if(a&&(a=a(t,e)))return Zn(a,r,n);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&It(i,"number",i.value)}},$n={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qn={eventTypes:$n,extractEvents:function(t,e,r,n,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=e,null!==(e=(e=r.relatedTarget||r.toElement)?pn(e):null)&&(e!==(o=re(e))||5!==e.tag&&6!==e.tag)&&(e=null)):a=null,a===e)return null;if("mouseout"===t||"mouseover"===t)var s=rr,l=$n.mouseLeave,u=$n.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=nr,l=$n.pointerLeave,u=$n.pointerEnter,c="pointer");if(t=null==a?i:fn(a),i=null==e?i:fn(e),(l=s.getPooled(l,a,r,n)).type=c+"leave",l.target=t,l.relatedTarget=i,(n=s.getPooled(u,e,r,n)).type=c+"enter",n.target=i,n.relatedTarget=t,c=e,(s=a)&&c)t:{for(t=c,a=0,e=u=s;e;e=Me(e))a++;for(e=0,i=t;i;i=Me(i))e++;for(;0<a-e;)u=Me(u),a--;for(;0<e-a;)t=Me(t),e--;for(;a--;){if(u===t||u===t.alternate)break t;u=Me(u),t=Me(t)}u=null}else u=null;for(t=u,u=[];s&&s!==t&&(null===(a=s.alternate)||a!==t);)u.push(s),s=Me(s);for(s=[];c&&c!==t&&(null===(a=c.alternate)||a!==t);)s.push(c),c=Me(c);for(c=0;c<u.length;c++)Le(u[c],"bubbled",l);for(c=s.length;0<c--;)Le(s[c],"captured",n);return r===Kn?(Kn=null,[l]):(Kn=r,[l,n])}};var ti="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},ei=Object.prototype.hasOwnProperty;function ri(t,e){if(ti(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ei.call(e,r[n])||!ti(t[r[n]],e[r[n]]))return!1;return!0}var ni=Q&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},oi=null,ai=null,si=null,li=!1;function ui(t,e){var r=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return li||null==oi||oi!==Vr(r)?null:("selectionStart"in(r=oi)&&Kr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},si&&ri(si,r)?null:(si=r,(t=Ze.getPooled(ii.select,ai,t,e)).type="select",t.target=oi,Ae(t),t))}var ci={eventTypes:ii,extractEvents:function(t,e,r,n){var i,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!o)){t:{o=Ar(o),i=f.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?fn(e):window,t){case"focus":(Fn(o)||"true"===o.contentEditable)&&(oi=o,ai=e,si=null);break;case"blur":si=ai=oi=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":return li=!1,ui(r,n);case"selectionchange":if(ni)break;case"keydown":case"keyup":return ui(r,n)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=gn,E=dn,C=fn,I.injectEventPluginsByName({SimpleEventPlugin:vr,EnterLeaveEventPlugin:Qn,ChangeEventPlugin:Jn,SelectEventPlugin:ci,BeforeInputEventPlugin:kn}),new Set;var hi=[],pi=-1;function di(t){0>pi||(t.current=hi[pi],hi[pi]=null,pi--)}function fi(t,e){pi++,hi[pi]=t.current,t.current=e}var gi={},mi={current:gi},yi={current:!1},vi=gi;function _i(t,e){var r=t.type.contextTypes;if(!r)return gi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function bi(t){return null!=(t=t.childContextTypes)}function xi(t){di(yi),di(mi)}function wi(t){di(yi),di(mi)}function Ei(t,e,r){if(mi.current!==gi)throw Error(a(168));fi(mi,e),fi(yi,r)}function Ci(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,J(e)||"Unknown",o));return i({},r,{},n)}function Si(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||gi,vi=mi.current,fi(mi,e),fi(yi,yi.current),!0}function Ti(t,e,r){var n=t.stateNode;if(!n)throw Error(a(169));r?(e=Ci(t,e,vi),n.__reactInternalMemoizedMergedChildContext=e,di(yi),di(mi),fi(mi,e)):di(yi),fi(yi,r)}var Pi=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Mi=o.unstable_cancelCallback,Ri=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Li=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Fi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Zi=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Di={},Gi=void 0!==Ii?Ii:function(){},zi=null,Ui=null,Bi=!1,qi=Li(),Vi=1e4>qi?Li:function(){return Li()-qi};function Yi(){switch(ki()){case Ai:return 99;case Fi:return 98;case Ni:return 97;case Zi:return 96;case ji:return 95;default:throw Error(a(332))}}function Wi(t){switch(t){case 99:return Ai;case 98:return Fi;case 97:return Ni;case 96:return Zi;case 95:return ji;default:throw Error(a(332))}}function Xi(t,e){return t=Wi(t),Pi(t,e)}function Hi(t,e,r){return t=Wi(t),Oi(t,e,r)}function Ki(t){return null===zi?(zi=[t],Ui=Oi(Ai,$i)):zi.push(t),Di}function Ji(){if(null!==Ui){var t=Ui;Ui=null,Mi(t)}$i()}function $i(){if(!Bi&&null!==zi){Bi=!0;var t=0;try{var e=zi;Xi(99,(function(){for(;t<e.length;t++){var r=e[t];do{r=r(!0)}while(null!==r)}})),zi=null}catch(e){throw null!==zi&&(zi=zi.slice(t+1)),Oi(Ai,Ji),e}finally{Bi=!1}}}var Qi=3;function to(t,e,r){return 1073741821-(1+((1073741821-t+e/10)/(r/=10)|0))*r}function eo(t,e){if(t&&t.defaultProps)for(var r in e=i({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}var ro={current:null},no=null,io=null,oo=null;function ao(){oo=io=no=null}function so(t,e){var r=t.type._context;fi(ro,r._currentValue),r._currentValue=e}function lo(t){var e=ro.current;di(ro),t.type._context._currentValue=e}function uo(t,e){for(;null!==t;){var r=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e);else{if(!(null!==r&&r.childExpirationTime<e))break;r.childExpirationTime=e}t=t.return}}function co(t,e){no=t,oo=io=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Va=!0),t.firstContext=null)}function ho(t,e){if(oo!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(oo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===io){if(null===no)throw Error(a(308));io=e,no.dependencies={expirationTime:0,firstContext:e,responders:null}}else io=io.next=e;return t._currentValue}var po=!1;function fo(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function go(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function mo(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function yo(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function vo(t,e){var r=t.alternate;if(null===r){var n=t.updateQueue,i=null;null===n&&(n=t.updateQueue=fo(t.memoizedState))}else n=t.updateQueue,i=r.updateQueue,null===n?null===i?(n=t.updateQueue=fo(t.memoizedState),i=r.updateQueue=fo(r.memoizedState)):n=t.updateQueue=go(i):null===i&&(i=r.updateQueue=go(n));null===i||n===i?yo(n,e):null===n.lastUpdate||null===i.lastUpdate?(yo(n,e),yo(i,e)):(yo(n,e),i.lastUpdate=e)}function _o(t,e){var r=t.updateQueue;null===(r=null===r?t.updateQueue=fo(t.memoizedState):bo(t,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=e:(r.lastCapturedUpdate.next=e,r.lastCapturedUpdate=e)}function bo(t,e){var r=t.alternate;return null!==r&&e===r.updateQueue&&(e=t.updateQueue=go(e)),e}function xo(t,e,r,n,o,a){switch(r.tag){case 1:return"function"==typeof(t=r.payload)?t.call(a,n,o):t;case 3:t.effectTag=-4097&t.effectTag|64;case 0:if(null==(o="function"==typeof(t=r.payload)?t.call(a,n,o):t))break;return i({},n,o);case 2:po=!0}return n}function wo(t,e,r,n,i){po=!1;for(var o=(e=bo(t,e)).baseState,a=null,s=0,l=e.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(yl(c,l.suspenseConfig),u=xo(t,0,l,u,r,n),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=l:(e.lastEffect.nextEffect=l,e.lastEffect=l))),l=l.next}for(c=null,l=e.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===c&&(c=l,null===a&&(o=u)),s<h&&(s=h)):(u=xo(t,0,l,u,r,n),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=l:(e.lastCapturedEffect.nextEffect=l,e.lastCapturedEffect=l))),l=l.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=u),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,vl(s),t.expirationTime=s,t.memoizedState=u}function Eo(t,e,r){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Co(e.firstEffect,r),e.firstEffect=e.lastEffect=null,Co(e.firstCapturedEffect,r),e.firstCapturedEffect=e.lastCapturedEffect=null}function Co(t,e){for(;null!==t;){var r=t.callback;if(null!==r){t.callback=null;var n=e;if("function"!=typeof r)throw Error(a(191,r));r.call(n)}t=t.nextEffect}}var So=k.ReactCurrentBatchConfig,To=(new n.Component).refs;function Po(t,e,r,n){r=null==(r=r(n,e=t.memoizedState))?e:i({},e,r),t.memoizedState=r,null!==(n=t.updateQueue)&&0===t.expirationTime&&(n.baseState=r)}var Oo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&re(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternalFiber;var n=il(),i=So.suspense;(i=mo(n=ol(n,t,i),i)).payload=e,null!=r&&(i.callback=r),vo(t,i),al(t,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternalFiber;var n=il(),i=So.suspense;(i=mo(n=ol(n,t,i),i)).tag=1,i.payload=e,null!=r&&(i.callback=r),vo(t,i),al(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var r=il(),n=So.suspense;(n=mo(r=ol(r,t,n),n)).tag=2,null!=e&&(n.callback=e),vo(t,n),al(t,r)}};function Mo(t,e,r,n,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ri(r,n)||!ri(i,o))}function Ro(t,e,r){var n=!1,i=gi,o=e.contextType;return"object"==typeof o&&null!==o?o=ho(o):(i=bi(e)?vi:mi.current,o=(n=null!=(n=e.contextTypes))?_i(t,i):gi),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Oo,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Io(t,e,r,n){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Oo.enqueueReplaceState(e,e.state,null)}function Lo(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=To;var o=e.contextType;"object"==typeof o&&null!==o?i.context=ho(o):(o=bi(e)?vi:mi.current,i.context=_i(t,o)),null!==(o=t.updateQueue)&&(wo(t,o,r,i,n),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Po(t,e,o,r),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Oo.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(wo(t,o,r,i,n),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var ko=Array.isArray;function Ao(t,e,r){if(null!==(t=r.ref)&&"function"!=typeof t&&"object"!=typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=n.refs;e===To&&(e=n.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!r._owner)throw Error(a(290,t))}return t}function Fo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function No(t){function e(e,r){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,r){return(t=jl(t,e)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.effectTag=2,r):n:(e.effectTag=2,r):r}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,r,n){return null===e||6!==e.tag?((e=zl(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function u(t,e,r,n){return null!==e&&e.elementType===r.type?((n=i(e,r.props)).ref=Ao(t,e,r),n.return=t,n):((n=Dl(r.type,r.key,r.props,null,t.mode,n)).ref=Ao(t,e,r),n.return=t,n)}function c(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Ul(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function h(t,e,r,n,o){return null===e||7!==e.tag?((e=Gl(r,t.mode,n,o)).return=t,e):((e=i(e,r)).return=t,e)}function p(t,e,r){if("string"==typeof e||"number"==typeof e)return(e=zl(""+e,t.mode,r)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case N:return(r=Dl(e.type,e.key,e.props,null,t.mode,r)).ref=Ao(t,null,e),r.return=t,r;case Z:return(e=Ul(e,t.mode,r)).return=t,e}if(ko(e)||K(e))return(e=Gl(e,t.mode,r,null)).return=t,e;Fo(t,e)}return null}function d(t,e,r,n){var i=null!==e?e.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(t,e,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case N:return r.key===i?r.type===j?h(t,e,r.props.children,n,i):u(t,e,r,n):null;case Z:return r.key===i?c(t,e,r,n):null}if(ko(r)||K(r))return null!==i?null:h(t,e,r,n,null);Fo(t,r)}return null}function f(t,e,r,n,i){if("string"==typeof n||"number"==typeof n)return l(e,t=t.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case N:return t=t.get(null===n.key?r:n.key)||null,n.type===j?h(e,t,n.props.children,i,n.key):u(e,t,n,i);case Z:return c(e,t=t.get(null===n.key?r:n.key)||null,n,i)}if(ko(n)||K(n))return h(e,t=t.get(r)||null,n,i,null);Fo(e,n)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,s[g],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return r(i,h),u;if(null===h){for(;g<s.length;g++)null!==(h=p(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(i,h);g<s.length;g++)null!==(m=f(h,i,g,s[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),u}function m(i,s,l,u){var c=K(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var _=d(i,g,v.value,u);if(null===_){null===g&&(g=y);break}t&&g&&null===_.alternate&&e(i,g),s=o(_,s,m),null===h?c=_:h.sibling=_,h=_,g=y}if(v.done)return r(i,g),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=p(i,v.value,u))&&(s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return c}for(g=n(i,g);!v.done;m++,v=l.next())null!==(v=f(g,i,m,v.value,u))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,n,o,l){var u="object"==typeof o&&null!==o&&o.type===j&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case N:t:{for(c=o.key,u=n;null!==u;){if(u.key===c){if(7===u.tag?o.type===j:u.elementType===o.type){r(t,u.sibling),(n=i(u,o.type===j?o.props.children:o.props)).ref=Ao(t,u,o),n.return=t,t=n;break t}r(t,u);break}e(t,u),u=u.sibling}o.type===j?((n=Gl(o.props.children,t.mode,l,o.key)).return=t,t=n):((l=Dl(o.type,o.key,o.props,null,t.mode,l)).ref=Ao(t,n,o),l.return=t,t=l)}return s(t);case Z:t:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(t,n.sibling),(n=i(n,o.children||[])).return=t,t=n;break t}r(t,n);break}e(t,n),n=n.sibling}(n=Ul(o,t.mode,l)).return=t,t=n}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(t,n.sibling),(n=i(n,o)).return=t,t=n):(r(t,n),(n=zl(o,t.mode,l)).return=t,t=n),s(t);if(ko(o))return g(t,n,o,l);if(K(o))return m(t,n,o,l);if(c&&Fo(t,o),void 0===o&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return r(t,n)}}var Zo=No(!0),jo=No(!1),Do={},Go={current:Do},zo={current:Do},Uo={current:Do};function Bo(t){if(t===Do)throw Error(a(174));return t}function qo(t,e){fi(Uo,e),fi(zo,t),fi(Go,Do);var r=e.nodeType;switch(r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zt(null,"");break;default:e=zt(e=(r=8===r?e.parentNode:e).namespaceURI||null,r=r.tagName)}di(Go),fi(Go,e)}function Vo(t){di(Go),di(zo),di(Uo)}function Yo(t){Bo(Uo.current);var e=Bo(Go.current),r=zt(e,t.type);e!==r&&(fi(zo,t),fi(Go,r))}function Wo(t){zo.current===t&&(di(Go),di(zo))}var Xo={current:0};function Ho(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||r.data===Jr||r.data===$r))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ko(t,e){return{responder:t,props:e}}var Jo=k.ReactCurrentDispatcher,$o=k.ReactCurrentBatchConfig,Qo=0,ta=null,ea=null,ra=null,na=null,ia=null,oa=null,aa=0,sa=null,la=0,ua=!1,ca=null,ha=0;function pa(){throw Error(a(321))}function da(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ti(t[r],e[r]))return!1;return!0}function fa(t,e,r,n,i,o){if(Qo=o,ta=e,ra=null!==t?t.memoizedState:null,Jo.current=null===ra?ka:Aa,e=r(n,i),ua){do{ua=!1,ha+=1,ra=null!==t?t.memoizedState:null,oa=na,sa=ia=ea=null,Jo.current=Aa,e=r(n,i)}while(ua);ca=null,ha=0}if(Jo.current=La,(t=ta).memoizedState=na,t.expirationTime=aa,t.updateQueue=sa,t.effectTag|=la,t=null!==ea&&null!==ea.next,Qo=0,oa=ia=na=ra=ea=ta=null,aa=0,sa=null,la=0,t)throw Error(a(300));return e}function ga(){Jo.current=La,Qo=0,oa=ia=na=ra=ea=ta=null,aa=0,sa=null,la=0,ua=!1,ca=null,ha=0}function ma(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ia?na=ia=t:ia=ia.next=t,ia}function ya(){if(null!==oa)oa=(ia=oa).next,ra=null!==(ea=ra)?ea.next:null;else{if(null===ra)throw Error(a(310));var t={memoizedState:(ea=ra).memoizedState,baseState:ea.baseState,queue:ea.queue,baseUpdate:ea.baseUpdate,next:null};ia=null===ia?na=t:ia.next=t,ra=ea.next}return ia}function va(t,e){return"function"==typeof e?e(t):e}function _a(t){var e=ya(),r=e.queue;if(null===r)throw Error(a(311));if(r.lastRenderedReducer=t,0<ha){var n=r.dispatch;if(null!==ca){var i=ca.get(r);if(void 0!==i){ca.delete(r);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return ti(o,e.memoizedState)||(Va=!0),e.memoizedState=o,e.baseUpdate===r.last&&(e.baseState=o),r.lastRenderedState=o,[o,n]}}return[e.memoizedState,n]}n=r.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var l=i=null,u=n,c=!1;do{var h=u.expirationTime;h<Qo?(c||(c=!0,l=s,i=o),h>aa&&vl(aa=h)):(yl(h,u.suspenseConfig),o=u.eagerReducer===t?u.eagerState:t(o,u.action)),s=u,u=u.next}while(null!==u&&u!==n);c||(l=s,i=o),ti(o,e.memoizedState)||(Va=!0),e.memoizedState=o,e.baseUpdate=l,e.baseState=i,r.lastRenderedState=o}return[e.memoizedState,r.dispatch]}function ba(t){var e=ma();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:va,lastRenderedState:t}).dispatch=Ia.bind(null,ta,t),[e.memoizedState,t]}function xa(t){return _a(va)}function wa(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===sa?(sa={lastEffect:null}).lastEffect=t.next=t:null===(e=sa.lastEffect)?sa.lastEffect=t.next=t:(r=e.next,e.next=t,t.next=r,sa.lastEffect=t),t}function Ea(t,e,r,n){var i=ma();la|=t,i.memoizedState=wa(e,r,void 0,void 0===n?null:n)}function Ca(t,e,r,n){var i=ya();n=void 0===n?null:n;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==n&&da(n,a.deps))return void wa(0,r,o,n)}la|=t,i.memoizedState=wa(e,r,o,n)}function Sa(t,e){return Ea(516,192,t,e)}function Ta(t,e){return Ca(516,192,t,e)}function Pa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Oa(){}function Ma(t,e){return ma().memoizedState=[t,void 0===e?null:e],t}function Ra(t,e){var r=ya();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&da(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ia(t,e,r){if(!(25>ha))throw Error(a(301));var n=t.alternate;if(t===ta||null!==n&&n===ta)if(ua=!0,t={expirationTime:Qo,suspenseConfig:null,action:r,eagerReducer:null,eagerState:null,next:null},null===ca&&(ca=new Map),void 0===(r=ca.get(e)))ca.set(e,t);else{for(e=r;null!==e.next;)e=e.next;e.next=t}else{var i=il(),o=So.suspense;o={expirationTime:i=ol(i,t,o),suspenseConfig:o,action:r,eagerReducer:null,eagerState:null,next:null};var s=e.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(e.last=o,0===t.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=e.lastRenderedReducer))try{var u=e.lastRenderedState,c=n(u,r);if(o.eagerReducer=n,o.eagerState=c,ti(c,u))return}catch(t){}al(t,i)}}var La={readContext:ho,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useResponder:pa,useDeferredValue:pa,useTransition:pa},ka={readContext:ho,useCallback:Ma,useContext:ho,useEffect:Sa,useImperativeHandle:function(t,e,r){return r=null!=r?r.concat([t]):null,Ea(4,36,Pa.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ea(4,36,t,e)},useMemo:function(t,e){var r=ma();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ma();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ia.bind(null,ta,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},ma().memoizedState=t},useState:ba,useDebugValue:Oa,useResponder:Ko,useDeferredValue:function(t,e){var r=ba(t),n=r[0],i=r[1];return Sa((function(){o.unstable_next((function(){var r=$o.suspense;$o.suspense=void 0===e?null:e;try{i(t)}finally{$o.suspense=r}}))}),[t,e]),n},useTransition:function(t){var e=ba(!1),r=e[0],n=e[1];return[Ma((function(e){n(!0),o.unstable_next((function(){var r=$o.suspense;$o.suspense=void 0===t?null:t;try{n(!1),e()}finally{$o.suspense=r}}))}),[t,r]),r]}},Aa={readContext:ho,useCallback:Ra,useContext:ho,useEffect:Ta,useImperativeHandle:function(t,e,r){return r=null!=r?r.concat([t]):null,Ca(4,36,Pa.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ca(4,36,t,e)},useMemo:function(t,e){var r=ya();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&da(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)},useReducer:_a,useRef:function(){return ya().memoizedState},useState:xa,useDebugValue:Oa,useResponder:Ko,useDeferredValue:function(t,e){var r=xa(),n=r[0],i=r[1];return Ta((function(){o.unstable_next((function(){var r=$o.suspense;$o.suspense=void 0===e?null:e;try{i(t)}finally{$o.suspense=r}}))}),[t,e]),n},useTransition:function(t){var e=xa(),r=e[0],n=e[1];return[Ra((function(e){n(!0),o.unstable_next((function(){var r=$o.suspense;$o.suspense=void 0===t?null:t;try{n(!1),e()}finally{$o.suspense=r}}))}),[t,r]),r]}},Fa=null,Na=null,Za=!1;function ja(t,e){var r=Nl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Da(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ga(t){if(Za){var e=Na;if(e){var r=e;if(!Da(t,e)){if(!(e=an(r.nextSibling))||!Da(t,e))return t.effectTag=-1025&t.effectTag|2,Za=!1,void(Fa=t);ja(Fa,r)}Fa=t,Na=an(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Za=!1,Fa=t}}function za(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Fa=t}function Ua(t){if(t!==Fa)return!1;if(!Za)return za(t),Za=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!rn(e,t.memoizedProps))for(e=Na;e;)ja(t,e),e=an(e.nextSibling);if(za(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){Na=an(t.nextSibling);break t}e--}else"$"!==r&&r!==$r&&r!==Jr||e++}t=t.nextSibling}Na=null}}else Na=Fa?an(t.stateNode.nextSibling):null;return!0}function Ba(){Na=Fa=null,Za=!1}var qa=k.ReactCurrentOwner,Va=!1;function Ya(t,e,r,n){e.child=null===t?jo(e,null,r,n):Zo(e,t.child,r,n)}function Wa(t,e,r,n,i){r=r.render;var o=e.ref;return co(e,i),n=fa(t,e,r,n,o,i),null===t||Va?(e.effectTag|=1,Ya(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),us(t,e,i))}function Xa(t,e,r,n,i,o){if(null===t){var a=r.type;return"function"!=typeof a||Zl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Dl(r.type,null,n,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ha(t,e,a,n,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:ri)(i,n)&&t.ref===e.ref)?us(t,e,o):(e.effectTag|=1,(t=jl(a,n)).ref=e.ref,t.return=e,e.child=t)}function Ha(t,e,r,n,i,o){return null!==t&&ri(t.memoizedProps,n)&&t.ref===e.ref&&(Va=!1,i<o)?us(t,e,o):Ja(t,e,r,n,o)}function Ka(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.effectTag|=128)}function Ja(t,e,r,n,i){var o=bi(r)?vi:mi.current;return o=_i(e,o),co(e,i),r=fa(t,e,r,n,o,i),null===t||Va?(e.effectTag|=1,Ya(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),us(t,e,i))}function $a(t,e,r,n,i){if(bi(r)){var o=!0;Si(e)}else o=!1;if(co(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ro(e,r,n),Lo(e,r,n,i),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"==typeof u&&null!==u?u=ho(u):u=_i(e,u=bi(r)?vi:mi.current);var c=r.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&Io(e,a,n,u),po=!1;var p=e.memoizedState;l=a.state=p;var d=e.updateQueue;null!==d&&(wo(e,d,n,a,i),l=e.memoizedState),s!==n||p!==l||yi.current||po?("function"==typeof c&&(Po(e,r,c,n),l=e.memoizedState),(s=po||Mo(e,r,s,n,p,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),n=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:eo(e.type,s),l=a.context,"object"==typeof(u=r.contextType)&&null!==u?u=ho(u):u=_i(e,u=bi(r)?vi:mi.current),(h="function"==typeof(c=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&Io(e,a,n,u),po=!1,l=e.memoizedState,p=a.state=l,null!==(d=e.updateQueue)&&(wo(e,d,n,a,i),p=e.memoizedState),s!==n||l!==p||yi.current||po?("function"==typeof c&&(Po(e,r,c,n),p=e.memoizedState),(c=po||Mo(e,r,s,n,l,p,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,u)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=u,n=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return Qa(t,e,r,n,o,i)}function Qa(t,e,r,n,i,o){Ka(t,e);var a=0!=(64&e.effectTag);if(!n&&!a)return i&&Ti(e,r,!1),us(t,e,o);n=e.stateNode,qa.current=e;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&a?(e.child=Zo(e,t.child,null,o),e.child=Zo(e,null,s,o)):Ya(t,e,s,o),e.memoizedState=n.state,i&&Ti(e,r,!0),e.child}function ts(t){var e=t.stateNode;e.pendingContext?Ei(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ei(0,e.context,!1),qo(t,e.containerInfo)}var es,rs,ns,is={dehydrated:null,retryTime:0};function os(t,e,r){var n,i=e.mode,o=e.pendingProps,a=Xo.current,s=!1;if((n=0!=(64&e.effectTag))||(n=0!=(2&a)&&(null===t||null!==t.memoizedState)),n?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fi(Xo,1&a),null===t){if(void 0!==o.fallback&&Ga(e),s){if(s=o.fallback,(o=Gl(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Gl(s,i,r,null)).return=e,o.sibling=r,e.memoizedState=is,e.child=o,r}return i=o.children,e.memoizedState=null,e.child=jo(e,null,i,r)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(r=jl(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=jl(i,o,i.expirationTime)).return=e,r.sibling=i,r.childExpirationTime=0,e.memoizedState=is,e.child=r,i}return r=Zo(e,t.child,o.children,r),e.memoizedState=null,e.child=r}if(t=t.child,s){if(s=o.fallback,(o=Gl(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Gl(s,i,r,null)).return=e,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,e.memoizedState=is,e.child=o,r}return e.memoizedState=null,e.child=Zo(e,t,o.children,r)}function as(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e),uo(t.return,e)}function ss(t,e,r,n,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function ls(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Ya(t,e,n.children,r),0!=(2&(n=Xo.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&as(t,r);else if(19===t.tag)as(t,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fi(Xo,n),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===Ho(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ss(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ho(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ss(e,!0,r,null,o,e.lastEffect);break;case"together":ss(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function us(t,e,r){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&vl(n),e.childExpirationTime<r)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(r=jl(t=e.child,t.pendingProps,t.expirationTime),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=jl(t,t.pendingProps,t.expirationTime)).return=e;r.sibling=null}return e.child}function cs(t){t.effectTag|=4}function hs(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ps(t){switch(t.tag){case 1:bi(t.type)&&xi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Vo(),wi(),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Wo(t),null;case 13:return di(Xo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return di(Xo),null;case 4:return Vo(),null;case 10:return lo(t),null;default:return null}}function ds(t,e){return{value:t,source:e,stack:$(e)}}es=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},rs=function(t,e,r,n,o){var a=t.memoizedProps;if(a!==n){var s,l,u=e.stateNode;switch(Bo(Go.current),t=null,r){case"input":a=Tt(u,a),n=Tt(u,n),t=[];break;case"option":a=Lt(u,a),n=Lt(u,n),t=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),t=[];break;case"textarea":a=At(u,a),n=At(u,n),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(u.onclick=qr)}for(s in zr(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in n){var c=n[s];if(u=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(t||(t=[]),t.push(s,r)),r=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(s,""+c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=c&&Br(o,s),t||u===c||(t=[])):(t=t||[]).push(s,c))}r&&(t=t||[]).push("style",r),o=t,(e.updateQueue=o)&&cs(e)}},ns=function(t,e,r,n){r!==n&&cs(e)};var fs="function"==typeof WeakSet?WeakSet:Set;function gs(t,e){var r=e.source,n=e.stack;null===n&&null!==r&&(n=$(r)),null!==r&&J(r.type),e=e.value,null!==t&&1===t.tag&&J(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function ms(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Rl(t,e)}else e.current=null}function ys(t,e){switch(e.tag){case 0:case 11:case 15:vs(2,0,e);break;case 1:if(256&e.effectTag&&null!==t){var r=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:eo(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function vs(t,e,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if(0!=(n.tag&t)){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}0!=(n.tag&e)&&(i=n.create,n.destroy=i()),n=n.next}while(n!==r)}}function _s(t,e,r){switch("function"==typeof Al&&Al(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Xi(97<r?97:r,(function(){var t=n;do{var r=t.destroy;if(void 0!==r){var i=e;try{r()}catch(t){Rl(i,t)}}t=t.next}while(t!==n)}))}break;case 1:ms(e),"function"==typeof(r=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Rl(t,e)}}(e,r);break;case 5:ms(e);break;case 4:Es(t,e,r)}}function bs(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==e&&bs(e)}function xs(t){return 5===t.tag||3===t.tag||4===t.tag}function ws(t){t:{for(var e=t.return;null!==e;){if(xs(e)){var r=e;break t}e=e.return}throw Error(a(160))}switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(Vt(e,""),r.effectTag&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||xs(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}for(var i=t;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(r)if(n){var l=s;s=r,8===(o=e).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else e.insertBefore(s,r);else n?(8===(l=e).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=qr)):e.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Es(t,e,r){for(var n,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:n=n.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var l=t,u=o,c=r,h=u;;)if(_s(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=n,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(_s(t,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Cs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:vs(4,8,e);break;case 1:case 12:case 17:case 20:case 21:break;case 5:var r=e.stateNode;if(null!=r){var n=e.memoizedProps,i=null!==t?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(r[cn]=n,"input"===t&&"radio"===n.type&&null!=n.name&&Ot(r,n),Ur(t,i),e=Ur(t,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Dr(r,l):"dangerouslySetInnerHTML"===s?qt(r,l):"children"===s?Vt(r,l):wt(r,s,l,e)}switch(t){case"input":Mt(r,n);break;case"textarea":Nt(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?kt(r,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?kt(r,!!n.multiple,n.defaultValue,!0):kt(r,!!n.multiple,n.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw Error(a(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:(e=e.stateNode).hydrate&&(e.hydrate=!1,Pe(e.containerInfo));break;case 13:if(r=e,null===e.memoizedState?n=!1:(n=!0,r=e.child,Ys=Vi()),null!==r)t:for(t=r;;){if(5===t.tag)o=t.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=jr("display",i));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===r)break t;for(;null===t.sibling;){if(null===t.return||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}Ss(e);break;case 19:Ss(e);break;default:throw Error(a(163))}}function Ss(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new fs),e.forEach((function(e){var n=Ll.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}var Ts="function"==typeof WeakMap?WeakMap:Map;function Ps(t,e,r){(r=mo(r,null)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xs||(Xs=!0,Hs=n),gs(t,e)},r}function Os(t,e,r){(r=mo(r,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"==typeof n){var i=e.value;r.payload=function(){return gs(t,e),n(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Ks?Ks=new Set([this]):Ks.add(this),gs(t,e));var r=e.stack;this.componentDidCatch(e.value,{componentStack:null!==r?r:""})}),r}var Ms,Rs=Math.ceil,Is=k.ReactCurrentDispatcher,Ls=k.ReactCurrentOwner,ks=16,As=32,Fs=0,Ns=null,Zs=null,js=0,Ds=0,Gs=null,zs=1073741823,Us=1073741823,Bs=null,qs=0,Vs=!1,Ys=0,Ws=null,Xs=!1,Hs=null,Ks=null,Js=!1,$s=null,Qs=90,tl=null,el=0,rl=null,nl=0;function il(){return 0!=(48&Fs)?1073741821-(Vi()/10|0):0!==nl?nl:nl=1073741821-(Vi()/10|0)}function ol(t,e,r){if(0==(2&(e=e.mode)))return 1073741823;var n=Yi();if(0==(4&e))return 99===n?1073741823:1073741822;if(0!=(Fs&ks))return js;if(null!==r)t=to(t,0|r.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=to(t,150,100);break;case 97:case 96:t=to(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ns&&t===js&&--t,t}function al(t,e){if(50<el)throw el=0,rl=null,Error(a(185));if(null!==(t=sl(t,e))){var r=Yi();1073741823===e?0!=(8&Fs)&&0==(48&Fs)?hl(t):(ul(t),0===Fs&&Ji()):ul(t),0==(4&Fs)||98!==r&&99!==r||(null===tl?tl=new Map([[t,e]]):(void 0===(r=tl.get(t))||r>e)&&tl.set(t,e))}}function sl(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e);var n=t.return,i=null;if(null===n&&3===t.tag)i=t.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ns===i&&(vl(e),4===Ds&&Vl(i,js)),Yl(i,e)),i}function ll(t){var e=t.lastExpiredTime;return 0!==e?e:ql(t,e=t.firstPendingTime)?(e=t.lastPingedTime)>(t=t.nextKnownPendingLevel)?e:t:e}function ul(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ki(hl.bind(null,t));else{var e=ll(t),r=t.callbackNode;if(0===e)null!==r&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=il();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=n)return;r!==Di&&Mi(r)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Ki(hl.bind(null,t)):Hi(n,cl.bind(null,t),{timeout:10*(1073741821-e)-Vi()}),t.callbackNode=e}}}function cl(t,e){if(nl=0,e)return Wl(t,e=il()),ul(t),null;var r=ll(t);if(0!==r){if(e=t.callbackNode,0!=(48&Fs))throw Error(a(327));if(Pl(),t===Ns&&r===js||fl(t,r),null!==Zs){var n=Fs;Fs|=ks;for(var i=ml();;)try{bl();break}catch(e){gl(t,e)}if(ao(),Fs=n,Is.current=i,1===Ds)throw e=Gs,fl(t,r),Vl(t,r),ul(t),e;if(null===Zs)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,n=Ds,Ns=null,n){case 0:case 1:throw Error(a(345));case 2:Wl(t,2<r?2:r);break;case 3:if(Vl(t,r),r===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=El(i)),1073741823===zs&&10<(i=Ys+500-Vi())){if(Vs){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,fl(t,r);break}}if(0!==(o=ll(t))&&o!==r)break;if(0!==n&&n!==r){t.lastPingedTime=n;break}t.timeoutHandle=nn(Cl.bind(null,t),i);break}Cl(t);break;case 4:if(Vl(t,r),r===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=El(i)),Vs&&(0===(i=t.lastPingedTime)||i>=r)){t.lastPingedTime=r,fl(t,r);break}if(0!==(i=ll(t))&&i!==r)break;if(0!==n&&n!==r){t.lastPingedTime=n;break}if(1073741823!==Us?n=10*(1073741821-Us)-Vi():1073741823===zs?n=0:(n=10*(1073741821-zs)-5e3,0>(n=(i=Vi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rs(n/1960))-n)&&(n=r)),10<n){t.timeoutHandle=nn(Cl.bind(null,t),n);break}Cl(t);break;case 5:if(1073741823!==zs&&null!==Bs){o=zs;var s=Bs;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=Vi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Vl(t,r),t.timeoutHandle=nn(Cl.bind(null,t),n);break}}Cl(t);break;default:throw Error(a(329))}if(ul(t),t.callbackNode===e)return cl.bind(null,t)}}return null}function hl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)Cl(t);else{if(0!=(48&Fs))throw Error(a(327));if(Pl(),t===Ns&&e===js||fl(t,e),null!==Zs){var r=Fs;Fs|=ks;for(var n=ml();;)try{_l();break}catch(e){gl(t,e)}if(ao(),Fs=r,Is.current=n,1===Ds)throw r=Gs,fl(t,e),Vl(t,e),ul(t),r;if(null!==Zs)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ns=null,Cl(t),ul(t)}}return null}function pl(t,e){var r=Fs;Fs|=1;try{return t(e)}finally{0===(Fs=r)&&Ji()}}function dl(t,e){var r=Fs;Fs&=-2,Fs|=8;try{return t(e)}finally{0===(Fs=r)&&Ji()}}function fl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,on(r)),null!==Zs)for(r=Zs.return;null!==r;){var n=r;switch(n.tag){case 1:var i=n.type.childContextTypes;null!=i&&xi();break;case 3:Vo(),wi();break;case 5:Wo(n);break;case 4:Vo();break;case 13:case 19:di(Xo);break;case 10:lo(n)}r=r.return}Ns=t,Zs=jl(t.current,null),js=e,Ds=0,Gs=null,Us=zs=1073741823,Bs=null,qs=0,Vs=!1}function gl(t,e){for(;;){try{if(ao(),ga(),null===Zs||null===Zs.return)return Ds=1,Gs=e,null;t:{var r=t,n=Zs.return,i=Zs,o=e;if(e=js,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Xo.current),l=n;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var h=l.memoizedProps;u=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(u){var p=l.updateQueue;if(null===p){var d=new Set;d.add(a),l.updateQueue=d}else p.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=mo(1073741823,null);f.tag=2,vo(i,f)}i.expirationTime=1073741823;break t}o=void 0,i=e;var g=r.pingCache;if(null===g?(g=r.pingCache=new Ts,o=new Set,g.set(a,o)):void 0===(o=g.get(a))&&(o=new Set,g.set(a,o)),!o.has(i)){o.add(i);var m=Il.bind(null,r,a,i);a.then(m,m)}l.effectTag|=4096,l.expirationTime=e;break t}l=l.return}while(null!==l);o=Error((J(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+$(i))}5!==Ds&&(Ds=2),o=ds(o,i),l=n;do{switch(l.tag){case 3:a=o,l.effectTag|=4096,l.expirationTime=e,_o(l,Ps(l,a,e));break t;case 1:a=o;var y=l.type,v=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===Ks||!Ks.has(v)))){l.effectTag|=4096,l.expirationTime=e,_o(l,Os(l,a,e));break t}}l=l.return}while(null!==l)}Zs=wl(Zs)}catch(t){e=t;continue}break}}function ml(){var t=Is.current;return Is.current=La,null===t?La:t}function yl(t,e){t<zs&&2<t&&(zs=t),null!==e&&t<Us&&2<t&&(Us=t,Bs=e)}function vl(t){t>qs&&(qs=t)}function _l(){for(;null!==Zs;)Zs=xl(Zs)}function bl(){for(;null!==Zs&&!Ri();)Zs=xl(Zs)}function xl(t){var e=Ms(t.alternate,t,js);return t.memoizedProps=t.pendingProps,null===e&&(e=wl(t)),Ls.current=null,e}function wl(t){Zs=t;do{var e=Zs.alternate;if(t=Zs.return,0==(2048&Zs.effectTag)){t:{var r=e,n=js,o=(e=Zs).pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 20:case 21:break;case 1:case 17:bi(e.type)&&xi();break;case 3:Vo(),wi(),(o=e.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===r||null===r.child)&&Ua(e)&&cs(e);break;case 5:Wo(e),n=Bo(Uo.current);var s=e.type;if(null!==r&&null!=e.stateNode)rs(r,e,s,o,n),r.ref!==e.ref&&(e.effectTag|=128);else if(o){var l=Bo(Go.current);if(Ua(e)){var u=(o=e).stateNode;r=o.type;var c=o.memoizedProps,h=n;switch(u[un]=o,u[cn]=c,s=void 0,n=u,r){case"iframe":case"object":case"embed":Sr("load",n);break;case"video":case"audio":for(u=0;u<ee.length;u++)Sr(ee[u],n);break;case"source":Sr("error",n);break;case"img":case"image":case"link":Sr("error",n),Sr("load",n);break;case"form":Sr("reset",n),Sr("submit",n);break;case"details":Sr("toggle",n);break;case"input":Pt(n,c),Sr("invalid",n),Br(h,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},Sr("invalid",n),Br(h,"onChange");break;case"textarea":Ft(n,c),Sr("invalid",n),Br(h,"onChange")}for(s in zr(r,c),u=null,c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"==typeof l?n.textContent!==l&&(u=["children",l]):"number"==typeof l&&n.textContent!==""+l&&(u=["children",""+l]):d.hasOwnProperty(s)&&null!=l&&Br(h,s));switch(r){case"input":Ct(n),Rt(n,c,!0);break;case"textarea":Ct(n),Zt(n);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(n.onclick=qr)}s=u,o.updateQueue=s,(o=null!==s)&&cs(e)}else{r=e,h=s,c=o,u=9===n.nodeType?n:n.ownerDocument,l===jt&&(l=Gt(h)),l===jt?"script"===h?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"==typeof c.is?u=u.createElement(h,{is:c.is}):(u=u.createElement(h),"select"===h&&(h=u,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):u=u.createElementNS(l,h),(c=u)[un]=r,c[cn]=o,es(c,e),e.stateNode=c;var p=n,f=Ur(h=s,r=o);switch(h){case"iframe":case"object":case"embed":Sr("load",c),n=r;break;case"video":case"audio":for(n=0;n<ee.length;n++)Sr(ee[n],c);n=r;break;case"source":Sr("error",c),n=r;break;case"img":case"image":case"link":Sr("error",c),Sr("load",c),n=r;break;case"form":Sr("reset",c),Sr("submit",c),n=r;break;case"details":Sr("toggle",c),n=r;break;case"input":Pt(c,r),n=Tt(c,r),Sr("invalid",c),Br(p,"onChange");break;case"option":n=Lt(c,r);break;case"select":c._wrapperState={wasMultiple:!!r.multiple},n=i({},r,{value:void 0}),Sr("invalid",c),Br(p,"onChange");break;case"textarea":Ft(c,r),n=At(c,r),Sr("invalid",c),Br(p,"onChange");break;default:n=r}zr(h,n),u=void 0,l=h;var g=c,m=n;for(u in m)if(m.hasOwnProperty(u)){var y=m[u];"style"===u?Dr(g,y):"dangerouslySetInnerHTML"===u?null!=(y=y?y.__html:void 0)&&qt(g,y):"children"===u?"string"==typeof y?("textarea"!==l||""!==y)&&Vt(g,y):"number"==typeof y&&Vt(g,""+y):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=y&&Br(p,u):null!=y&&wt(g,u,y,f))}switch(h){case"input":Ct(c),Rt(c,r,!1);break;case"textarea":Ct(c),Zt(c);break;case"option":null!=r.value&&c.setAttribute("value",""+xt(r.value));break;case"select":(n=c).multiple=!!r.multiple,null!=(c=r.value)?kt(n,!!r.multiple,c,!1):null!=r.defaultValue&&kt(n,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof n.onClick&&(c.onclick=qr)}(o=en(s,o))&&cs(e)}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw Error(a(166));break;case 6:if(r&&null!=e.stateNode)ns(0,e,r.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw Error(a(166));n=Bo(Uo.current),Bo(Go.current),Ua(e)?(s=(o=e).stateNode,n=o.memoizedProps,s[un]=o,(o=s.nodeValue!==n)&&cs(e)):(s=e,(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[un]=s,e.stateNode=o)}break;case 13:if(di(Xo),o=e.memoizedState,0!=(64&e.effectTag)){e.expirationTime=n;break t}o=null!==o,s=!1,null===r?void 0!==e.memoizedProps.fallback&&Ua(e):(s=null!==(n=r.memoizedState),o||null===n||null!==(n=r.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=n,n.nextEffect=c):(e.firstEffect=e.lastEffect=n,n.nextEffect=null),n.effectTag=8)),o&&!s&&0!=(2&e.mode)&&(null===r&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Xo.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),0!==qs&&null!==Ns&&(Vl(Ns,js),Yl(Ns,qs)))),(o||s)&&(e.effectTag|=4);break;case 4:Vo();break;case 10:lo(e);break;case 19:if(di(Xo),null===(o=e.memoizedState))break;if(s=0!=(64&e.effectTag),null===(c=o.rendering)){if(s)hs(o,!1);else if(0!==Ds||null!==r&&0!=(64&r.effectTag))for(r=e.child;null!==r;){if(null!==(c=Ho(r))){for(e.effectTag|=64,hs(o,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===o.lastEffect&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=n,s=e.child;null!==s;)r=o,(n=s).effectTag&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(c=n.alternate)?(n.childExpirationTime=0,n.expirationTime=r,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null):(n.childExpirationTime=c.childExpirationTime,n.expirationTime=c.expirationTime,n.child=c.child,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,r=c.dependencies,n.dependencies=null===r?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders}),s=s.sibling;fi(Xo,1&Xo.current|2),e=e.child;break t}r=r.sibling}}else{if(!s)if(null!==(r=Ho(c))){if(e.effectTag|=64,s=!0,null!==(n=r.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null);break}}else Vi()>o.tailExpiration&&1<n&&(e.effectTag|=64,s=!0,hs(o,!1),e.expirationTime=e.childExpirationTime=n-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=o.last)?n.sibling=c:e.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Vi()+500),n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=e.lastEffect,n.sibling=null,o=Xo.current,fi(Xo,o=s?1&o|2:1&o),e=n;break t}break;default:throw Error(a(156,e.tag))}e=null}if(o=Zs,1===js||1!==o.childExpirationTime){for(s=0,n=o.child;null!==n;)(r=n.expirationTime)>s&&(s=r),(c=n.childExpirationTime)>s&&(s=c),n=n.sibling;o.childExpirationTime=s}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Zs.firstEffect),null!==Zs.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Zs.firstEffect),t.lastEffect=Zs.lastEffect),1<Zs.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Zs:t.firstEffect=Zs,t.lastEffect=Zs))}else{if(null!==(e=ps(Zs)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Zs.sibling))return e;Zs=t}while(null!==Zs);return 0===Ds&&(Ds=5),null}function El(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Cl(t){var e=Yi();return Xi(99,Sl.bind(null,t,e)),null}function Sl(t,e){do{Pl()}while(null!==$s);if(0!=(48&Fs))throw Error(a(327));var r=t.finishedWork,n=t.finishedExpirationTime;if(null===r)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,r===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=El(r);if(t.firstPendingTime=i,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ns&&(Zs=Ns=null,js=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Fs;Fs|=As,Ls.current=null,Qr=Cr;var s=Hr();if(Kr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(t){l=null;break t}var p=0,d=-1,f=-1,g=0,m=0,y=s,v=null;e:for(;;){for(var _;y!==l||0!==c&&3!==y.nodeType||(d=p+c),y!==h||0!==u&&3!==y.nodeType||(f=p+u),3===y.nodeType&&(p+=y.nodeValue.length),null!==(_=y.firstChild);)v=y,y=_;for(;;){if(y===s)break e;if(v===l&&++g===c&&(d=p),v===h&&++m===u&&(f=p),null!==(_=y.nextSibling))break;v=(y=v).parentNode}y=_}l=-1===d||-1===f?null:{start:d,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;tn={focusedElem:s,selectionRange:l},Cr=!1,Ws=i;do{try{Tl()}catch(t){if(null===Ws)throw Error(a(330));Rl(Ws,t),Ws=Ws.nextEffect}}while(null!==Ws);Ws=i;do{try{for(s=t,l=e;null!==Ws;){var b=Ws.effectTag;if(16&b&&Vt(Ws.stateNode,""),128&b){var x=Ws.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ws(Ws),Ws.effectTag&=-3;break;case 6:ws(Ws),Ws.effectTag&=-3,Cs(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,Cs(Ws.alternate,Ws);break;case 4:Cs(Ws.alternate,Ws);break;case 8:Es(s,c=Ws,l),bs(c)}Ws=Ws.nextEffect}}catch(t){if(null===Ws)throw Error(a(330));Rl(Ws,t),Ws=Ws.nextEffect}}while(null!==Ws);if(w=tn,x=Hr(),b=w.focusedElem,l=w.selectionRange,x!==b&&b&&b.ownerDocument&&Xr(b.ownerDocument.documentElement,b)){null!==l&&Kr(b)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),c=b.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=Wr(b,s),h=Wr(b,l),c&&h&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((x=x.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(h.node,h.offset)):(x.setEnd(h.node,h.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}tn=null,Cr=!!Qr,Qr=null,t.current=r,Ws=i;do{try{for(b=n;null!==Ws;){var E=Ws.effectTag;if(36&E){var C=Ws.alternate;switch(w=b,(x=Ws).tag){case 0:case 11:case 15:vs(16,32,x);break;case 1:var S=x.stateNode;if(4&x.effectTag)if(null===C)S.componentDidMount();else{var T=x.elementType===x.type?C.memoizedProps:eo(x.type,C.memoizedProps);S.componentDidUpdate(T,C.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var P=x.updateQueue;null!==P&&Eo(0,P,S);break;case 3:var O=x.updateQueue;if(null!==O){if(s=null,null!==x.child)switch(x.child.tag){case 5:case 1:s=x.child.stateNode}Eo(0,O,s)}break;case 5:var M=x.stateNode;null===C&&4&x.effectTag&&en(x.type,x.memoizedProps)&&M.focus();break;case 6:case 4:case 12:case 19:case 17:case 20:case 21:break;case 13:if(null===x.memoizedState){var R=x.alternate;if(null!==R){var I=R.memoizedState;if(null!==I){var L=I.dehydrated;null!==L&&Pe(L)}}}break;default:throw Error(a(163))}}if(128&E){x=void 0;var k=Ws.ref;if(null!==k){var A=Ws.stateNode;Ws.tag,x=A,"function"==typeof k?k(x):k.current=x}}Ws=Ws.nextEffect}}catch(t){if(null===Ws)throw Error(a(330));Rl(Ws,t),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Gi(),Fs=o}else t.current=r;if(Js)Js=!1,$s=t,Qs=e;else for(Ws=i;null!==Ws;)e=Ws.nextEffect,Ws.nextEffect=null,Ws=e;if(0===(e=t.firstPendingTime)&&(Ks=null),1073741823===e?t===rl?el++:(el=0,rl=t):el=0,"function"==typeof kl&&kl(r.stateNode,n),ul(t),Xs)throw Xs=!1,t=Hs,Hs=null,t;return 0!=(8&Fs)||Ji(),null}function Tl(){for(;null!==Ws;){var t=Ws.effectTag;0!=(256&t)&&ys(Ws.alternate,Ws),0==(512&t)||Js||(Js=!0,Hi(97,(function(){return Pl(),null}))),Ws=Ws.nextEffect}}function Pl(){if(90!==Qs){var t=97<Qs?97:Qs;return Qs=90,Xi(t,Ol)}}function Ol(){if(null===$s)return!1;var t=$s;if($s=null,0!=(48&Fs))throw Error(a(331));var e=Fs;for(Fs|=As,t=t.current.firstEffect;null!==t;){try{var r=t;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:vs(128,0,r),vs(0,64,r)}}catch(e){if(null===t)throw Error(a(330));Rl(t,e)}r=t.nextEffect,t.nextEffect=null,t=r}return Fs=e,Ji(),!0}function Ml(t,e,r){vo(t,e=Ps(t,e=ds(r,e),1073741823)),null!==(t=sl(t,1073741823))&&ul(t)}function Rl(t,e){if(3===t.tag)Ml(t,t,e);else for(var r=t.return;null!==r;){if(3===r.tag){Ml(r,t,e);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ks||!Ks.has(n))){vo(r,t=Os(r,t=ds(e,t),1073741823)),null!==(r=sl(r,1073741823))&&ul(r);break}}r=r.return}}function Il(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),Ns===t&&js===r?4===Ds||3===Ds&&1073741823===zs&&Vi()-Ys<500?fl(t,js):Vs=!0:ql(t,r)&&(0!==(e=t.lastPingedTime)&&e<r||(t.lastPingedTime=r,t.finishedExpirationTime===r&&(t.finishedExpirationTime=0,t.finishedWork=null),ul(t)))}function Ll(t,e){var r=t.stateNode;null!==r&&r.delete(e),0===(e=0)&&(e=ol(e=il(),t,null)),null!==(t=sl(t,e))&&ul(t)}Ms=function(t,e,r){var n=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||yi.current)Va=!0;else{if(n<r){switch(Va=!1,e.tag){case 3:ts(e),Ba();break;case 5:if(Yo(e),4&e.mode&&1!==r&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:bi(e.type)&&Si(e);break;case 4:qo(e,e.stateNode.containerInfo);break;case 10:so(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=r?os(t,e,r):(fi(Xo,1&Xo.current),null!==(e=us(t,e,r))?e.sibling:null);fi(Xo,1&Xo.current);break;case 19:if(n=e.childExpirationTime>=r,0!=(64&t.effectTag)){if(n)return ls(t,e,r);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),fi(Xo,Xo.current),!n)return null}return us(t,e,r)}Va=!1}}else Va=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=_i(e,mi.current),co(e,r),i=fa(null,e,n,t,i,r),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,ga(),bi(n)){var o=!0;Si(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=n.getDerivedStateFromProps;"function"==typeof s&&Po(e,n,s,t),i.updater=Oo,e.stateNode=i,i._reactInternalFiber=e,Lo(e,n,t,r),e=Qa(null,e,n,!0,o,r)}else e.tag=0,Ya(null,e,i,r),e=e.child;return e;case 16:if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return Zl(t)?1:0;if(null!=t){if((t=t.$$typeof)===q)return 11;if(t===W)return 14}return 2}(i),t=eo(i,t),o){case 0:e=Ja(null,e,i,t,r);break;case 1:e=$a(null,e,i,t,r);break;case 11:e=Wa(null,e,i,t,r);break;case 14:e=Xa(null,e,i,eo(i.type,t),n,r);break;default:throw Error(a(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,Ja(t,e,n,i=e.elementType===n?i:eo(n,i),r);case 1:return n=e.type,i=e.pendingProps,$a(t,e,n,i=e.elementType===n?i:eo(n,i),r);case 3:if(ts(e),null===(n=e.updateQueue))throw Error(a(282));if(i=null!==(i=e.memoizedState)?i.element:null,wo(e,n,e.pendingProps,null,r),(n=e.memoizedState.element)===i)Ba(),e=us(t,e,r);else{if((i=e.stateNode.hydrate)&&(Na=an(e.stateNode.containerInfo.firstChild),Fa=e,i=Za=!0),i)for(r=jo(e,null,n,r),e.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Ya(t,e,n,r),Ba();e=e.child}return e;case 5:return Yo(e),null===t&&Ga(e),n=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,rn(n,i)?s=null:null!==o&&rn(n,o)&&(e.effectTag|=16),Ka(t,e),4&e.mode&&1!==r&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ya(t,e,s,r),e=e.child),e;case 6:return null===t&&Ga(e),null;case 13:return os(t,e,r);case 4:return qo(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Zo(e,null,n,r):Ya(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Wa(t,e,n,i=e.elementType===n?i:eo(n,i),r);case 7:return Ya(t,e,e.pendingProps,r),e.child;case 8:case 12:return Ya(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,so(e,o=i.value),null!==s){var l=s.value;if(0===(o=ti(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!yi.current){e=us(t,e,r);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!=(c.observedBits&o)){1===l.tag&&((c=mo(r,null)).tag=2,vo(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),uo(l.return,r),u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ya(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=(o=e.pendingProps).children,co(e,r),n=n(i=ho(i,o.unstable_observedBits)),e.effectTag|=1,Ya(t,e,n,r),e.child;case 14:return o=eo(i=e.type,e.pendingProps),Xa(t,e,i,o=eo(i.type,o),n,r);case 15:return Ha(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:eo(n,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,bi(n)?(t=!0,Si(e)):t=!1,co(e,r),Ro(e,n,i),Lo(e,n,i,r),Qa(null,e,n,!0,t,r);case 19:return ls(t,e,r)}throw Error(a(156,e.tag))};var kl=null,Al=null;function Fl(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nl(t,e,r,n){return new Fl(t,e,r,n)}function Zl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function jl(t,e){var r=t.alternate;return null===r?((r=Nl(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dl(t,e,r,n,i,o){var s=2;if(n=t,"function"==typeof t)Zl(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case j:return Gl(r.children,i,o,e);case B:s=8,i|=7;break;case D:s=8,i|=1;break;case G:return(t=Nl(12,r,e,8|i)).elementType=G,t.type=G,t.expirationTime=o,t;case V:return(t=Nl(13,r,e,i)).type=V,t.elementType=V,t.expirationTime=o,t;case Y:return(t=Nl(19,r,e,i)).elementType=Y,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case z:s=10;break t;case U:s=9;break t;case q:s=11;break t;case W:s=14;break t;case X:s=16,n=null;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Nl(s,r,e,i)).elementType=t,e.type=n,e.expirationTime=o,e}function Gl(t,e,r,n){return(t=Nl(7,t,n,e)).expirationTime=r,t}function zl(t,e,r){return(t=Nl(6,t,null,e)).expirationTime=r,t}function Ul(t,e,r){return(e=Nl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bl(t,e,r){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ql(t,e){var r=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==r&&r>=e&&t<=e}function Vl(t,e){var r=t.firstSuspendedTime,n=t.lastSuspendedTime;r<e&&(t.firstSuspendedTime=e),(n>e||0===r)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Yl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var r=t.firstSuspendedTime;0!==r&&(e>=r?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Wl(t,e){var r=t.lastExpiredTime;(0===r||r>e)&&(t.lastExpiredTime=e)}function Xl(t,e,r,n){var i=e.current,o=il(),s=So.suspense;o=ol(o,i,s);t:if(r){e:{if(re(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(bi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var u=r.type;if(bi(u)){r=Ci(r,u,l);break t}}r=l}else r=gi;return null===e.context?e.context=r:e.pendingContext=r,(e=mo(o,s)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),vo(i,e),al(i,o),o}function Hl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Jl(t,e){Kl(t,e),(t=t.alternate)&&Kl(t,e)}function $l(t,e,r){var n=new Bl(t,e,r=null!=r&&!0===r.hydrate),i=Nl(3,null,null,2===e?7:1===e?3:0);n.current=i,i.stateNode=n,t[hn]=n.current,r&&0!==e&&function(t){var e=Ar(t);ye.forEach((function(r){Fr(r,t,e)})),ve.forEach((function(r){Fr(r,t,e)}))}(9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function Ql(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function tu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Hl(a);s.call(t)}}Xl(e,a,t,i)}else{if(o=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new $l(t,0,e?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Hl(a);l.call(t)}}dl((function(){Xl(e,a,t,i)}))}return Hl(a)}function eu(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Z,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function ru(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(e))throw Error(a(200));return eu(t,e,null,r)}$l.prototype.render=function(t,e){Xl(t,this._internalRoot,null,void 0===e?null:e)},$l.prototype.unmount=function(t){var e=this._internalRoot,r=void 0===t?null:t,n=e.containerInfo;Xl(null,e,null,(function(){n[hn]=null,null!==r&&r()}))},ae=function(t){if(13===t.tag){var e=to(il(),150,100);al(t,e),Jl(t,e)}},se=function(t){if(13===t.tag){il();var e=Qi++;al(t,e),Jl(t,e)}},le=function(t){if(13===t.tag){var e=il();al(t,e=ol(e,t,null)),Jl(t,e)}},tt=function(t,e,r){switch(e){case"input":if(Mt(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=gn(n);if(!i)throw Error(a(90));St(n),Mt(n,i)}}}break;case"textarea":Nt(t,r);break;case"select":null!=(e=r.value)&&kt(t,!!r.multiple,e,!1)}},at=pl,st=function(t,e,r,n){var i=Fs;Fs|=4;try{return Xi(98,t.bind(null,e,r,n))}finally{0===(Fs=i)&&Ji()}},lt=function(){0==(49&Fs)&&(function(){if(null!==tl){var t=tl;tl=null,t.forEach((function(t,e){Wl(e,t),ul(e)})),Ji()}}(),Pl())},ut=function(t,e){var r=Fs;Fs|=2;try{return t(e)}finally{0===(Fs=r)&&Ji()}};var nu={createPortal:ru,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=oe(e))?null:t.stateNode},hydrate:function(t,e,r){if(!Ql(e))throw Error(a(200));return tu(null,t,e,!0,r)},render:function(t,e,r){if(!Ql(e))throw Error(a(200));return tu(null,t,e,!1,r)},unstable_renderSubtreeIntoContainer:function(t,e,r,n){if(!Ql(r))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return tu(t,e,r,!1,n)},unmountComponentAtNode:function(t){if(!Ql(t))throw Error(a(40));return!!t._reactRootContainer&&(dl((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[hn]=null}))})),!0)},unstable_createPortal:function(){return ru.apply(void 0,arguments)},unstable_batchedUpdates:pl,flushSync:function(t,e){if(0!=(48&Fs))throw Error(a(187));var r=Fs;Fs|=1;try{return Xi(99,t.bind(null,e))}finally{Fs=r,Ji()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[dn,fn,gn,I.injectEventPluginsByName,p,Ae,function(t){P(t,ke)},it,ot,Rr,R,Pl,{current:!1}]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(t);kl=function(t){try{e.onCommitFiberRoot(r,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Al=function(t){try{e.onCommitFiberUnmount(r,t)}catch(t){}}}catch(t){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=oe(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:pn,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var iu={default:nu},ou=iu&&nu||iu;t.exports=ou.default||ou},51732:(t,e,r)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=r(98314)},34659:(t,e,r)=>{"use strict";var n=r(45109),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||v}function x(){}function w(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||v}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var E=w.prototype=new x;E.constructor=w,n(E,b.prototype),E.isPureReactComponent=!0;var C={current:null},S={current:null},T=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,r){var n,i={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)T.call(e,n)&&!P.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:S.current}}function M(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var R=/\/+/g,I=[];function L(t,e,r,n){if(I.length){var i=I.pop();return i.result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function k(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>I.length&&I.push(t)}function A(t,e,r,n){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return r(n,t,""===e?"."+N(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=e+N(i=t[l],l);s+=A(i,u,r,n)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(i=t.next()).done;)s+=A(i=i.value,u=e+N(i,l++),r,n);else if("object"===i)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}function F(t,e,r){return null==t?0:A(t,"",e,r)}function N(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function Z(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?D(t,n,r,(function(t){return t})):null!=t&&(M(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(R,"$&/")+"/")+r)),n.push(t))}function D(t,e,r,n,i){var o="";null!=r&&(o=(""+r).replace(R,"$&/")+"/"),F(t,j,e=L(e,o,n,i)),k(e)}function G(){var t=C.current;if(null===t)throw Error(y(321));return t}var z={Children:{map:function(t,e,r){if(null==t)return t;var n=[];return D(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;F(t,Z,e=L(null,null,e,r)),k(e)},count:function(t){return F(t,(function(){return null}),null)},toArray:function(t){var e=[];return D(t,e,null,(function(t){return t})),e},only:function(t){if(!M(t))throw Error(y(143));return t}},createRef:function(){return{current:null}},Component:b,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return G().useCallback(t,e)},useContext:function(t,e){return G().useContext(t,e)},useEffect:function(t,e){return G().useEffect(t,e)},useImperativeHandle:function(t,e,r){return G().useImperativeHandle(t,e,r)},useDebugValue:function(){},useLayoutEffect:function(t,e){return G().useLayoutEffect(t,e)},useMemo:function(t,e){return G().useMemo(t,e)},useReducer:function(t,e,r){return G().useReducer(t,e,r)},useRef:function(t){return G().useRef(t)},useState:function(t){return G().useState(t)},Fragment:s,Profiler:u,StrictMode:l,Suspense:d,createElement:O,cloneElement:function(t,e,r){if(null==t)throw Error(y(267,t));var i=n({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=S.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)T.call(e,c)&&!P.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:l}},createFactory:function(t){var e=O.bind(null,t);return e.type=t,e},isValidElement:M,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n}},U={default:z},B=U&&z||U;t.exports=B.default||B},3044:(t,e,r)=>{"use strict";t.exports=r(34659)},15343:(t,e,r)=>{var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(56359),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},56359:t=>{!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u=e.regeneratorRuntime;if(u)t.exports=u;else{(u=e.regeneratorRuntime=t.exports).wrap=_;var c="suspendedStart",h="suspendedYield",p="executing",d="completed",f={},g={};g[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(R([])));y&&y!==n&&i.call(y,a)&&(g=y);var v=E.prototype=x.prototype=Object.create(g);w.prototype=v.constructor=E,E.constructor=w,E[l]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(v),t},u.awrap=function(t){return{__await:t}},C(S.prototype),S.prototype[s]=function(){return this},u.AsyncIterator=S,u.async=function(t,e,r,n){var i=new S(_(t,e,r,n));return u.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(v),v[l]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=R,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),f}}}function _(t,e,r,n){var i=e&&e.prototype instanceof x?e:x,o=Object.create(i.prototype),a=new M(n||[]);return o._invoke=function(t,e,r){var n=c;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var l=b(t,e,r);if("normal"===l.type){if(n=r.done?d:h,l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=d,r.method="throw",r.arg=l.arg)}}}(t,r,a),o}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function w(){}function E(){}function C(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t){function e(r,n,o,a){var s=b(t[r],t,n);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),a)}a(s.arg)}var r;this._invoke=function(t,n){function i(){return new Promise((function(r,i){e(t,n,r,i)}))}return r=r?r.then(i,i):i()}}function T(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,T(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=b(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function R(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},40247:(t,e)=>{"use strict";var r,n,i,o,a;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,u=function(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(t){throw setTimeout(u,0),t}},c=Date.now();e.unstable_now=function(){return Date.now()-c},r=function(t){null!==s?setTimeout(r,0,t):(s=t,setTimeout(u,0))},n=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},o=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)e.unstable_now=function(){return h.now()};else{var m=p.now();e.unstable_now=function(){return p.now()-m}}var y=!1,v=null,_=-1,b=5,x=0;o=function(){return e.unstable_now()>=x},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<t?Math.floor(1e3/t):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();x=t+b;try{v(!0,t)?E.postMessage(null):(y=!1,v=null)}catch(t){throw E.postMessage(null),t}}else y=!1},r=function(t){v=t,y||(y=!0,E.postMessage(null))},n=function(t,r){_=d((function(){t(e.unstable_now())}),r)},i=function(){f(_),_=-1}}function C(t,e){var r=t.length;t.push(e);t:for(;;){var n=Math.floor((r-1)/2),i=t[n];if(!(void 0!==i&&0<P(i,e)))break t;t[n]=e,t[r]=i,r=n}}function S(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>P(a,r))void 0!==l&&0>P(l,a)?(t[n]=l,t[s]=r,n=s):(t[n]=a,t[o]=r,n=o);else{if(!(void 0!==l&&0>P(l,r)))break t;t[n]=l,t[s]=r,n=s}}}return e}return null}function P(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var O=[],M=[],R=1,I=null,L=3,k=!1,A=!1,F=!1;function N(t){for(var e=S(M);null!==e;){if(null===e.callback)T(M);else{if(!(e.startTime<=t))break;T(M),e.sortIndex=e.expirationTime,C(O,e)}e=S(M)}}function Z(t){if(F=!1,N(t),!A)if(null!==S(O))A=!0,r(j);else{var e=S(M);null!==e&&n(Z,e.startTime-t)}}function j(t,r){A=!1,F&&(F=!1,i()),k=!0;var a=L;try{for(N(r),I=S(O);null!==I&&(!(I.expirationTime>r)||t&&!o());){var s=I.callback;if(null!==s){I.callback=null,L=I.priorityLevel;var l=s(I.expirationTime<=r);r=e.unstable_now(),"function"==typeof l?I.callback=l:I===S(O)&&T(O),N(r)}else T(O);I=S(O)}if(null!==I)var u=!0;else{var c=S(M);null!==c&&n(Z,c.startTime-r),u=!1}return u}finally{I=null,L=a,k=!1}}function D(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=a;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=L;L=t;try{return e()}finally{L=r}},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var r=L;L=e;try{return t()}finally{L=r}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:D(t)}else a=D(t),l=s;return t={id:R++,callback:o,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,C(M,t),null===S(O)&&t===S(M)&&(F?i():F=!0,n(Z,l-s))):(t.sortIndex=a,C(O,t),A||k||(A=!0,r(j))),t},e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_wrapCallback=function(t){var e=L;return function(){var r=L;L=e;try{return t.apply(this,arguments)}finally{L=r}}},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_shouldYield=function(){var t=e.unstable_now();N(t);var r=S(O);return r!==I&&null!==I&&null!==r&&null!==r.callback&&r.startTime<=t&&r.expirationTime<I.expirationTime||o()},e.unstable_requestPaint=G,e.unstable_continueExecution=function(){A||k||(A=!0,r(j))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return S(O)},e.unstable_Profiling=null},16386:(t,e,r)=>{"use strict";t.exports=r(40247)},76121:function(t){(function(){var e;t.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(t){return"https://fonts.google.com/specimen/"+t.replace(/( )/g,"+")},normalizeName:function(t){return t}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},44781:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});class n extends Array{constructor(t,e){if(t>n.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(t),this.sign=e}static BigInt(t){var e=Math.floor,r=Number.isFinite;if("number"==typeof t){if(0===t)return n.__zero();if((0|t)===t)return 0>t?n.__oneDigit(-t,!0):n.__oneDigit(t,!1);if(!r(t)||e(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return n.__fromDouble(t)}if("string"==typeof t){const e=n.__fromString(t);if(null===e)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return e}if("boolean"==typeof t)return!0===t?n.__oneDigit(1,!1):n.__zero();if("object"==typeof t){if(t.constructor===n)return t;const e=n.__toPrimitive(t);return n.BigInt(e)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const e of this)t.push((e?(e>>>0).toString(16):e)+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(t&t-1)?n.__toStringBasePowerOfTwo(this,t):n.__toStringGeneric(this,t,!1)}static toNumber(t){var e=Math.clz32;const r=t.length;if(0===r)return 0;if(1===r){const e=t.__unsignedDigit(0);return t.sign?-e:e}const i=t.__digit(r-1),o=e(i),a=32*r-o;if(1024<a)return t.sign?-1/0:1/0;let s=a-1,l=i,u=r-1;const c=o+1;let h=32===c?0:l<<c;h>>>=12;const p=c-12;let d=12<=c?0:l<<20+c,f=20+c;0<p&&0<u&&(u--,l=t.__digit(u),h|=l>>>32-p,d=l<<p,f=p),0<f&&0<u&&(u--,l=t.__digit(u),d|=l>>>32-f,f-=32);const g=n.__decideRounding(t,f,u,l);if((1===g||0===g&&1==(1&d))&&(d=d+1>>>0,0==d&&(h++,0!=h>>>20&&(h=0,s++,1023<s))))return t.sign?-1/0:1/0;const m=t.sign?-2147483648:0;return s=s+1023<<20,n.__kBitConversionInts[1]=m|s|h,n.__kBitConversionInts[0]=d,n.__kBitConversionDouble[0]}static unaryMinus(t){if(0===t.length)return t;const e=t.__copy();return e.sign=!t.sign,e}static bitwiseNot(t){return t.sign?n.__absoluteSubOne(t).__trim():n.__absoluteAddOne(t,!0)}static exponentiate(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(0===e.length)return n.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return t.sign&&0==(1&e.__digit(0))?n.unaryMinus(t):t;if(1<e.length)throw new RangeError("BigInt too big");let r=e.__unsignedDigit(0);if(1===r)return t;if(r>=n.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){const e=1+(r>>>5),i=t.sign&&0!=(1&r),o=new n(e,i);o.__initializeDigits();const a=1<<(31&r);return o.__setDigit(e-1,a),o}let i=null,o=t;for(0!=(1&r)&&(i=t),r>>=1;0!==r;r>>=1)o=n.multiply(o,o),0!=(1&r)&&(i=null===i?o:n.multiply(i,o));return i}static multiply(t,e){if(0===t.length)return t;if(0===e.length)return e;let r=t.length+e.length;32<=t.__clzmsd()+e.__clzmsd()&&r--;const i=new n(r,t.sign!==e.sign);i.__initializeDigits();for(let r=0;r<t.length;r++)n.__multiplyAccumulate(e,t.__digit(r),i,r);return i.__trim()}static divide(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>n.__absoluteCompare(t,e))return n.__zero();const r=t.sign!==e.sign,i=e.__unsignedDigit(0);let o;if(1===e.length&&65535>=i){if(1===i)return r===t.sign?t:n.unaryMinus(t);o=n.__absoluteDivSmall(t,i,null)}else o=n.__absoluteDivLarge(t,e,!0,!1);return o.sign=r,o.__trim()}static remainder(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>n.__absoluteCompare(t,e))return t;const r=e.__unsignedDigit(0);if(1===e.length&&65535>=r){if(1===r)return n.__zero();const e=n.__absoluteModSmall(t,r);return 0===e?n.__zero():n.__oneDigit(e,t.sign)}const i=n.__absoluteDivLarge(t,e,!1,!0);return i.sign=t.sign,i.__trim()}static add(t,e){const r=t.sign;return r===e.sign?n.__absoluteAdd(t,e,r):0<=n.__absoluteCompare(t,e)?n.__absoluteSub(t,e,r):n.__absoluteSub(e,t,!r)}static subtract(t,e){const r=t.sign;return r===e.sign?0<=n.__absoluteCompare(t,e)?n.__absoluteSub(t,e,r):n.__absoluteSub(e,t,!r):n.__absoluteAdd(t,e,r)}static leftShift(t,e){return 0===e.length||0===t.length?t:e.sign?n.__rightShiftByAbsolute(t,e):n.__leftShiftByAbsolute(t,e)}static signedRightShift(t,e){return 0===e.length||0===t.length?t:e.sign?n.__leftShiftByAbsolute(t,e):n.__rightShiftByAbsolute(t,e)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,e){return 0>n.__compareToBigInt(t,e)}static lessThanOrEqual(t,e){return 0>=n.__compareToBigInt(t,e)}static greaterThan(t,e){return 0<n.__compareToBigInt(t,e)}static greaterThanOrEqual(t,e){return 0<=n.__compareToBigInt(t,e)}static equal(t,e){if(t.sign!==e.sign)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t.__digit(r)!==e.__digit(r))return!1;return!0}static notEqual(t,e){return!n.equal(t,e)}static bitwiseAnd(t,e){var r=Math.max;if(!t.sign&&!e.sign)return n.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){const i=r(t.length,e.length)+1;let o=n.__absoluteSubOne(t,i);const a=n.__absoluteSubOne(e);return o=n.__absoluteOr(o,a,o),n.__absoluteAddOne(o,!0,o).__trim()}return t.sign&&([t,e]=[e,t]),n.__absoluteAndNot(t,n.__absoluteSubOne(e)).__trim()}static bitwiseXor(t,e){var r=Math.max;if(!t.sign&&!e.sign)return n.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){const i=r(t.length,e.length),o=n.__absoluteSubOne(t,i),a=n.__absoluteSubOne(e);return n.__absoluteXor(o,a,o).__trim()}const i=r(t.length,e.length)+1;t.sign&&([t,e]=[e,t]);let o=n.__absoluteSubOne(e,i);return o=n.__absoluteXor(o,t,o),n.__absoluteAddOne(o,!0,o).__trim()}static bitwiseOr(t,e){const r=(0,Math.max)(t.length,e.length);if(!t.sign&&!e.sign)return n.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){let i=n.__absoluteSubOne(t,r);const o=n.__absoluteSubOne(e);return i=n.__absoluteAnd(i,o,i),n.__absoluteAddOne(i,!0,i).__trim()}t.sign&&([t,e]=[e,t]);let i=n.__absoluteSubOne(e,r);return i=n.__absoluteAndNot(i,t,i),n.__absoluteAddOne(i,!0,i).__trim()}static asIntN(t,e){if(0===e.length)return e;if(0===t)return n.__zero();if(t>=n.__kMaxLengthBits)return e;const r=t+31>>>5;if(e.length<r)return e;const i=e.__unsignedDigit(r-1),o=1<<(31&t-1);if(e.length===r&&i<o)return e;if((i&o)!==o)return n.__truncateToNBits(t,e);if(!e.sign)return n.__truncateAndSubFromPowerOfTwo(t,e,!0);if(0==(i&o-1)){for(let i=r-2;0<=i;i--)if(0!==e.__digit(i))return n.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===r&&i===o?e:n.__truncateToNBits(t,e)}return n.__truncateAndSubFromPowerOfTwo(t,e,!1)}static asUintN(t,e){if(0===e.length)return e;if(0===t)return n.__zero();if(e.sign){if(t>n.__kMaxLengthBits)throw new RangeError("BigInt too big");return n.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=n.__kMaxLengthBits)return e;const r=t+31>>>5;if(e.length<r)return e;const i=31&t;if(e.length==r){if(0==i)return e;if(0==e.__digit(r-1)>>>i)return e}return n.__truncateToNBits(t,e)}static ADD(t,e){if(t=n.__toPrimitive(t),e=n.__toPrimitive(e),"string"==typeof t)return"string"!=typeof e&&(e=e.toString()),t+e;if("string"==typeof e)return t.toString()+e;if(t=n.__toNumeric(t),e=n.__toNumeric(e),n.__isBigInt(t)&&n.__isBigInt(e))return n.add(t,e);if("number"==typeof t&&"number"==typeof e)return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,e){return n.__compare(t,e,0)}static LE(t,e){return n.__compare(t,e,1)}static GT(t,e){return n.__compare(t,e,2)}static GE(t,e){return n.__compare(t,e,3)}static EQ(t,e){for(;;){if(n.__isBigInt(t))return n.__isBigInt(e)?n.equal(t,e):n.EQ(e,t);if("number"==typeof t){if(n.__isBigInt(e))return n.__equalToNumber(e,t);if("object"!=typeof e)return t==e;e=n.__toPrimitive(e)}else if("string"==typeof t){if(n.__isBigInt(e))return null!==(t=n.__fromString(t))&&n.equal(t,e);if("object"!=typeof e)return t==e;e=n.__toPrimitive(e)}else if("boolean"==typeof t){if(n.__isBigInt(e))return n.__equalToNumber(e,+t);if("object"!=typeof e)return t==e;e=n.__toPrimitive(e)}else if("symbol"==typeof t){if(n.__isBigInt(e))return!1;if("object"!=typeof e)return t==e;e=n.__toPrimitive(e)}else{if("object"!=typeof t)return t==e;if("object"==typeof e&&e.constructor!==n)return t==e;t=n.__toPrimitive(t)}}}static NE(t,e){return!n.EQ(t,e)}static __zero(){return new n(0,!1)}static __oneDigit(t,e){const r=new n(1,e);return r.__setDigit(0,t),r}__copy(){const t=new n(this.length,this.sign);for(let e=0;e<this.length;e++)t[e]=this[e];return t}__trim(){let t=this.length,e=this[t-1];for(;0===e;)t--,e=this[t-1],this.pop();return 0===t&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,e,r,n){if(0<e)return-1;let i;if(0>e)i=-e-1;else{if(0===r)return-1;r--,n=t.__digit(r),i=31}let o=1<<i;if(0==(n&o))return-1;if(o-=1,0!=(n&o))return 1;for(;0<r;)if(r--,0!==t.__digit(r))return 1;return 0}static __fromDouble(t){n.__kBitConversionDouble[0]=t;const e=(2047&n.__kBitConversionInts[1]>>>20)-1023,r=1+(e>>>5),i=new n(r,0>t);let o=1048575&n.__kBitConversionInts[1]|1048576,a=n.__kBitConversionInts[0];const s=31&e;let l,u=0;if(s<20){const t=20-s;u=t+32,l=o>>>t,o=o<<32-t|a>>>t,a<<=32-t}else if(20===s)u=32,l=o,o=a;else{const t=s-20;u=32-t,l=o<<t|a>>>32-t,o=a<<t}i.__setDigit(r-1,l);for(let t=r-2;0<=t;t--)0<u?(u-=32,l=o,o=a):l=0,i.__setDigit(t,l);return i.__trim()}static __isWhitespace(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}static __fromString(t,e=0){let r=0;const i=t.length;let o=0;if(o===i)return n.__zero();let a=t.charCodeAt(o);for(;n.__isWhitespace(a);){if(++o===i)return n.__zero();a=t.charCodeAt(o)}if(43===a){if(++o===i)return null;a=t.charCodeAt(o),r=1}else if(45===a){if(++o===i)return null;a=t.charCodeAt(o),r=-1}if(0===e){if(e=10,48===a){if(++o===i)return n.__zero();if(a=t.charCodeAt(o),88===a||120===a){if(e=16,++o===i)return null;a=t.charCodeAt(o)}else if(79===a||111===a){if(e=8,++o===i)return null;a=t.charCodeAt(o)}else if(66===a||98===a){if(e=2,++o===i)return null;a=t.charCodeAt(o)}}}else if(16===e&&48===a){if(++o===i)return n.__zero();if(a=t.charCodeAt(o),88===a||120===a){if(++o===i)return null;a=t.charCodeAt(o)}}for(;48===a;){if(++o===i)return n.__zero();a=t.charCodeAt(o)}const s=i-o;let l=n.__kMaxBitsPerChar[e],u=n.__kBitsPerCharTableMultiplier-1;if(s>1073741824/l)return null;const c=l*s+u>>>n.__kBitsPerCharTableShift,h=new n(c+31>>>5,!1),p=10>e?e:10,d=10<e?e-10:0;if(0==(e&e-1)){l>>=n.__kBitsPerCharTableShift;const e=[],r=[];let s=!1;do{let n=0,u=0;for(;;){let e;if(a-48>>>0<p)e=a-48;else{if(!((32|a)-97>>>0<d)){s=!0;break}e=(32|a)-87}if(u+=l,n=n<<l|e,++o===i){s=!0;break}if(a=t.charCodeAt(o),32<u+l)break}e.push(n),r.push(u)}while(!s);n.__fillFromParts(h,e,r)}else{h.__initializeDigits();let r=!1,s=0;do{let c=0,f=1;for(;;){let n;if(a-48>>>0<p)n=a-48;else{if(!((32|a)-97>>>0<d)){r=!0;break}n=(32|a)-87}const l=f*e;if(4294967295<l)break;if(f=l,c=c*e+n,s++,++o===i){r=!0;break}a=t.charCodeAt(o)}u=32*n.__kBitsPerCharTableMultiplier-1;const g=l*s+u>>>n.__kBitsPerCharTableShift+5;h.__inplaceMultiplyAdd(f,c,g)}while(!r)}for(;o!==i;){if(!n.__isWhitespace(a))return null;a=t.charCodeAt(o++)}return 0!=r&&10!==e?null:(h.sign=-1==r,h.__trim())}static __fillFromParts(t,e,r){let n=0,i=0,o=0;for(let a=e.length-1;0<=a;a--){const s=e[a],l=r[a];i|=s<<o,o+=l,32===o?(t.__setDigit(n++,i),o=0,i=0):32<o&&(t.__setDigit(n++,i),o-=32,i=s>>>l-o)}if(0!==i){if(n>=t.length)throw new Error("implementation bug");t.__setDigit(n++,i)}for(;n<t.length;n++)t.__setDigit(n,0)}static __toStringBasePowerOfTwo(t,e){var r=Math.clz32;const i=t.length;let o=e-1;o=(85&o>>>1)+(85&o),o=(51&o>>>2)+(51&o),o=(15&o>>>4)+(15&o);const a=o,s=e-1,l=t.__digit(i-1);let u=0|(32*i-r(l)+a-1)/a;if(t.sign&&u++,268435456<u)throw new Error("string too long");const c=Array(u);let h=u-1,p=0,d=0;for(let e=0;e<i-1;e++){const r=t.__digit(e),i=(p|r<<d)&s;c[h--]=n.__kConversionChars[i];const o=a-d;for(p=r>>>o,d=32-o;d>=a;)c[h--]=n.__kConversionChars[p&s],p>>>=a,d-=a}const f=(p|l<<d)&s;for(c[h--]=n.__kConversionChars[f],p=l>>>a-d;0!==p;)c[h--]=n.__kConversionChars[p&s],p>>>=a;if(t.sign&&(c[h--]="-"),-1!=h)throw new Error("implementation bug");return c.join("")}static __toStringGeneric(t,e,r){var i=Math.clz32;const o=t.length;if(0===o)return"";if(1===o){let n=t.__unsignedDigit(0).toString(e);return!1===r&&t.sign&&(n="-"+n),n}const a=32*o-i(t.__digit(o-1)),s=n.__kMaxBitsPerChar[e]-1;let l=a*n.__kBitsPerCharTableMultiplier;l+=s-1,l=0|l/s;const u=l+1>>1,c=n.exponentiate(n.__oneDigit(e,!1),n.__oneDigit(u,!1));let h,p;const d=c.__unsignedDigit(0);if(1===c.length&&65535>=d){h=new n(t.length,!1),h.__initializeDigits();let r=0;for(let e=2*t.length-1;0<=e;e--){const n=r<<16|t.__halfDigit(e);h.__setHalfDigit(e,0|n/d),r=0|n%d}p=r.toString(e)}else{const r=n.__absoluteDivLarge(t,c,!0,!0);h=r.quotient;const i=r.remainder.__trim();p=n.__toStringGeneric(i,e,!0)}h.__trim();let f=n.__toStringGeneric(h,e,!0);for(;p.length<u;)p="0"+p;return!1===r&&t.sign&&(f="-"+f),f+p}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,e){const r=t.sign;if(r!==e.sign)return n.__unequalSign(r);const i=n.__absoluteCompare(t,e);return 0<i?n.__absoluteGreater(r):0>i?n.__absoluteLess(r):0}static __compareToNumber(t,e){if(!0|e){const r=t.sign,i=0>e;if(r!==i)return n.__unequalSign(r);if(0===t.length){if(i)throw new Error("implementation bug");return 0===e?0:-1}if(1<t.length)return n.__absoluteGreater(r);const o=Math.abs(e),a=t.__unsignedDigit(0);return a>o?n.__absoluteGreater(r):a<o?n.__absoluteLess(r):0}return n.__compareToDouble(t,e)}static __compareToDouble(t,e){var r=Math.clz32;if(e!=e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;const i=t.sign;if(i!==0>e)return n.__unequalSign(i);if(0===e)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;n.__kBitConversionDouble[0]=e;const o=2047&n.__kBitConversionInts[1]>>>20;if(2047==o)throw new Error("implementation bug: handled elsewhere");const a=o-1023;if(0>a)return n.__absoluteGreater(i);const s=t.length;let l=t.__digit(s-1);const u=r(l),c=32*s-u,h=a+1;if(c<h)return n.__absoluteLess(i);if(c>h)return n.__absoluteGreater(i);let p=1048576|1048575&n.__kBitConversionInts[1],d=n.__kBitConversionInts[0];const f=31-u;if(f!==(c-1)%31)throw new Error("implementation bug");let g,m=0;if(20>f){const t=20-f;m=t+32,g=p>>>t,p=p<<32-t|d>>>t,d<<=32-t}else if(20===f)m=32,g=p,p=d;else{const t=f-20;m=32-t,g=p<<t|d>>>32-t,p=d<<t}if(l>>>=0,g>>>=0,l>g)return n.__absoluteGreater(i);if(l<g)return n.__absoluteLess(i);for(let e=s-2;0<=e;e--){0<m?(m-=32,g=p>>>0,p=d,d=0):g=0;const r=t.__unsignedDigit(e);if(r>g)return n.__absoluteGreater(i);if(r<g)return n.__absoluteLess(i)}if(0!==p||0!==d){if(0===m)throw new Error("implementation bug");return n.__absoluteLess(i)}return 0}static __equalToNumber(t,e){var r=Math.abs;return e|0===e?0===e?0===t.length:1===t.length&&t.sign===0>e&&t.__unsignedDigit(0)===r(e):0===n.__compareToDouble(t,e)}static __comparisonResultToBool(t,e){switch(e){case 0:return 0>t;case 1:return 0>=t;case 2:return 0<t;case 3:return 0<=t}throw new Error("unreachable")}static __compare(t,e,r){if(t=n.__toPrimitive(t),e=n.__toPrimitive(e),"string"==typeof t&&"string"==typeof e)switch(r){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(n.__isBigInt(t)&&"string"==typeof e)return null!==(e=n.__fromString(e))&&n.__comparisonResultToBool(n.__compareToBigInt(t,e),r);if("string"==typeof t&&n.__isBigInt(e))return null!==(t=n.__fromString(t))&&n.__comparisonResultToBool(n.__compareToBigInt(t,e),r);if(t=n.__toNumeric(t),e=n.__toNumeric(e),n.__isBigInt(t)){if(n.__isBigInt(e))return n.__comparisonResultToBool(n.__compareToBigInt(t,e),r);if("number"!=typeof e)throw new Error("implementation bug");return n.__comparisonResultToBool(n.__compareToNumber(t,e),r)}if("number"!=typeof t)throw new Error("implementation bug");if(n.__isBigInt(e))return n.__comparisonResultToBool(n.__compareToNumber(e,t),2^r);if("number"!=typeof e)throw new Error("implementation bug");return 0===r?t<e:1===r?t<=e:2===r?t>e:3===r?t>=e:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(t,e,r){if(t.length<e.length)return n.__absoluteAdd(e,t,r);if(0===t.length)return t;if(0===e.length)return t.sign===r?t:n.unaryMinus(t);let i=t.length;(0===t.__clzmsd()||e.length===t.length&&0===e.__clzmsd())&&i++;const o=new n(i,r);let a=0,s=0;for(;s<e.length;s++){const r=e.__digit(s),n=t.__digit(s),i=(65535&n)+(65535&r)+a,l=(n>>>16)+(r>>>16)+(i>>>16);a=l>>>16,o.__setDigit(s,65535&i|l<<16)}for(;s<t.length;s++){const e=t.__digit(s),r=(65535&e)+a,n=(e>>>16)+(r>>>16);a=n>>>16,o.__setDigit(s,65535&r|n<<16)}return s<o.length&&o.__setDigit(s,a),o.__trim()}static __absoluteSub(t,e,r){if(0===t.length)return t;if(0===e.length)return t.sign===r?t:n.unaryMinus(t);const i=new n(t.length,r);let o=0,a=0;for(;a<e.length;a++){const r=t.__digit(a),n=e.__digit(a),s=(65535&r)-(65535&n)-o;o=1&s>>>16;const l=(r>>>16)-(n>>>16)-o;o=1&l>>>16,i.__setDigit(a,65535&s|l<<16)}for(;a<t.length;a++){const e=t.__digit(a),r=(65535&e)-o;o=1&r>>>16;const n=(e>>>16)-o;o=1&n>>>16,i.__setDigit(a,65535&r|n<<16)}return i.__trim()}static __absoluteAddOne(t,e,r=null){const i=t.length;null===r?r=new n(i,e):r.sign=e;let o=!0;for(let e,n=0;n<i;n++){e=t.__digit(n);const i=-1===e;o&&(e=0|e+1),o=i,r.__setDigit(n,e)}return o&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(t,e){const r=t.length,i=new n(e=e||r,!1);let o=!0;for(let e,n=0;n<r;n++){e=t.__digit(n);const r=0===e;o&&(e=0|e-1),o=r,i.__setDigit(n,e)}for(let t=r;t<e;t++)i.__setDigit(t,0);return i}static __absoluteAnd(t,e,r=null){let i=t.length,o=e.length,a=o;if(i<o){a=i;const r=t,n=i;t=e,i=o,e=r,o=n}let s=a;null===r?r=new n(s,!1):s=r.length;let l=0;for(;l<a;l++)r.__setDigit(l,t.__digit(l)&e.__digit(l));for(;l<s;l++)r.__setDigit(l,0);return r}static __absoluteAndNot(t,e,r=null){const i=t.length,o=e.length;let a=o;i<o&&(a=i);let s=i;null===r?r=new n(s,!1):s=r.length;let l=0;for(;l<a;l++)r.__setDigit(l,t.__digit(l)&~e.__digit(l));for(;l<i;l++)r.__setDigit(l,t.__digit(l));for(;l<s;l++)r.__setDigit(l,0);return r}static __absoluteOr(t,e,r=null){let i=t.length,o=e.length,a=o;if(i<o){a=i;const r=t,n=i;t=e,i=o,e=r,o=n}let s=i;null===r?r=new n(s,!1):s=r.length;let l=0;for(;l<a;l++)r.__setDigit(l,t.__digit(l)|e.__digit(l));for(;l<i;l++)r.__setDigit(l,t.__digit(l));for(;l<s;l++)r.__setDigit(l,0);return r}static __absoluteXor(t,e,r=null){let i=t.length,o=e.length,a=o;if(i<o){a=i;const r=t,n=i;t=e,i=o,e=r,o=n}let s=i;null===r?r=new n(s,!1):s=r.length;let l=0;for(;l<a;l++)r.__setDigit(l,t.__digit(l)^e.__digit(l));for(;l<i;l++)r.__setDigit(l,t.__digit(l));for(;l<s;l++)r.__setDigit(l,0);return r}static __absoluteCompare(t,e){const r=t.length-e.length;if(0!=r)return r;let n=t.length-1;for(;0<=n&&t.__digit(n)===e.__digit(n);)n--;return 0>n?0:t.__unsignedDigit(n)>e.__unsignedDigit(n)?1:-1}static __multiplyAccumulate(t,e,r,n){var i=Math.imul;if(0===e)return;const o=65535&e,a=e>>>16;let s=0,l=0,u=0;for(let e=0;e<t.length;e++,n++){let c=r.__digit(n),h=65535&c,p=c>>>16;const d=t.__digit(e),f=65535&d,g=d>>>16,m=i(f,o),y=i(f,a),v=i(g,o),_=i(g,a);h+=l+(65535&m),p+=u+s+(h>>>16)+(m>>>16)+(65535&y)+(65535&v),s=p>>>16,l=(y>>>16)+(v>>>16)+(65535&_)+s,s=l>>>16,l&=65535,u=_>>>16,c=65535&h|p<<16,r.__setDigit(n,c)}for(;0!=s||0!==l||0!==u;n++){let t=r.__digit(n);const e=(65535&t)+l,i=(t>>>16)+(e>>>16)+u+s;l=0,u=0,s=i>>>16,t=65535&e|i<<16,r.__setDigit(n,t)}}static __internalMultiplyAdd(t,e,r,n,i){var o=Math.imul;let a=r,s=0;for(let r=0;r<n;r++){const n=t.__digit(r),l=o(65535&n,e),u=(65535&l)+s+a;a=u>>>16;const c=o(n>>>16,e),h=(65535&c)+(l>>>16)+a;a=h>>>16,s=c>>>16,i.__setDigit(r,h<<16|65535&u)}if(i.length>n)for(i.__setDigit(n++,a+s);n<i.length;)i.__setDigit(n++,0);else if(0!==a+s)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,e,r){var n=Math.imul;r>this.length&&(r=this.length);const i=65535&t,o=t>>>16;let a=0,s=65535&e,l=e>>>16;for(let t=0;t<r;t++){const e=this.__digit(t),r=65535&e,u=e>>>16,c=n(r,i),h=n(r,o),p=n(u,i),d=n(u,o),f=s+(65535&c),g=l+a+(f>>>16)+(c>>>16)+(65535&h)+(65535&p);s=(h>>>16)+(p>>>16)+(65535&d)+(g>>>16),a=s>>>16,s&=65535,l=d>>>16,this.__setDigit(t,65535&f|g<<16)}if(0!=a||0!==s||0!==l)throw new Error("implementation bug")}static __absoluteDivSmall(t,e,r){null===r&&(r=new n(t.length,!1));let i=0;for(let n,o=2*t.length-1;0<=o;o-=2){n=(i<<16|t.__halfDigit(o))>>>0;const a=0|n/e;i=0|n%e,n=(i<<16|t.__halfDigit(o-1))>>>0;const s=0|n/e;i=0|n%e,r.__setDigit(o>>>1,a<<16|s)}return r}static __absoluteModSmall(t,e){let r=0;for(let n=2*t.length-1;0<=n;n--){r=0|((r<<16|t.__halfDigit(n))>>>0)%e}return r}static __absoluteDivLarge(t,e,r,i){var o=Math.imul;const a=e.__halfDigitLength(),s=e.length,l=t.__halfDigitLength()-a;let u=null;r&&(u=new n(l+2>>>1,!1),u.__initializeDigits());const c=new n(a+2>>>1,!1);c.__initializeDigits();const h=n.__clz16(e.__halfDigit(a-1));0<h&&(e=n.__specialLeftShift(e,h,0));const p=n.__specialLeftShift(t,h,1),d=e.__halfDigit(a-1);let f=0;for(let t,i=l;0<=i;i--){t=65535;const l=p.__halfDigit(i+a);if(l!==d){const r=(l<<16|p.__halfDigit(i+a-1))>>>0;t=0|r/d;let n=0|r%d;const s=e.__halfDigit(a-2),u=p.__halfDigit(i+a-2);for(;o(t,s)>>>0>(n<<16|u)>>>0&&(t--,n+=d,!(65535<n)););}n.__internalMultiplyAdd(e,t,0,s,c);let h=p.__inplaceSub(c,i,a+1);0!==h&&(h=p.__inplaceAdd(e,i,a),p.__setHalfDigit(i+a,p.__halfDigit(i+a)+h),t--),r&&(1&i?f=t<<16:u.__setDigit(i>>>1,f|t))}return i?(p.__inplaceRightShift(h),r?{quotient:u,remainder:p}:p):r?u:void 0}static __clz16(t){return Math.clz32(t)-16}__inplaceAdd(t,e,r){let n=0;for(let i=0;i<r;i++){const r=this.__halfDigit(e+i)+t.__halfDigit(i)+n;n=r>>>16,this.__setHalfDigit(e+i,r)}return n}__inplaceSub(t,e,r){let n=0;if(1&e){e>>=1;let i=this.__digit(e),o=65535&i,a=0;for(;a<r-1>>>1;a++){const r=t.__digit(a),s=(i>>>16)-(65535&r)-n;n=1&s>>>16,this.__setDigit(e+a,s<<16|65535&o),i=this.__digit(e+a+1),o=(65535&i)-(r>>>16)-n,n=1&o>>>16}const s=t.__digit(a),l=(i>>>16)-(65535&s)-n;if(n=1&l>>>16,this.__setDigit(e+a,l<<16|65535&o),e+a+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(i=this.__digit(e+a+1),o=(65535&i)-(s>>>16)-n,n=1&o>>>16,this.__setDigit(e+t.length,4294901760&i|65535&o))}else{e>>=1;let i=0;for(;i<t.length-1;i++){const r=this.__digit(e+i),o=t.__digit(i),a=(65535&r)-(65535&o)-n;n=1&a>>>16;const s=(r>>>16)-(o>>>16)-n;n=1&s>>>16,this.__setDigit(e+i,s<<16|65535&a)}const o=this.__digit(e+i),a=t.__digit(i),s=(65535&o)-(65535&a)-n;n=1&s>>>16;let l=0;0==(1&r)&&(l=(o>>>16)-(a>>>16)-n,n=1&l>>>16),this.__setDigit(e+i,l<<16|65535&s)}return n}__inplaceRightShift(t){if(0===t)return;let e=this.__digit(0)>>>t;const r=this.length-1;for(let n=0;n<r;n++){const r=this.__digit(n+1);this.__setDigit(n,r<<32-t|e),e=r>>>t}this.__setDigit(r,e)}static __specialLeftShift(t,e,r){const i=t.length,o=new n(i+r,!1);if(0===e){for(let e=0;e<i;e++)o.__setDigit(e,t.__digit(e));return 0<r&&o.__setDigit(i,0),o}let a=0;for(let r=0;r<i;r++){const n=t.__digit(r);o.__setDigit(r,n<<e|a),a=n>>>32-e}return 0<r&&o.__setDigit(i,a),o}static __leftShiftByAbsolute(t,e){const r=n.__toShiftAmount(e);if(0>r)throw new RangeError("BigInt too big");const i=r>>>5,o=31&r,a=t.length,s=0!==o&&0!=t.__digit(a-1)>>>32-o,l=a+i+(s?1:0),u=new n(l,t.sign);if(0===o){let e=0;for(;e<i;e++)u.__setDigit(e,0);for(;e<l;e++)u.__setDigit(e,t.__digit(e-i))}else{let e=0;for(let t=0;t<i;t++)u.__setDigit(t,0);for(let r=0;r<a;r++){const n=t.__digit(r);u.__setDigit(r+i,n<<o|e),e=n>>>32-o}if(s)u.__setDigit(a+i,e);else if(0!=e)throw new Error("implementation bug")}return u.__trim()}static __rightShiftByAbsolute(t,e){const r=t.length,i=t.sign,o=n.__toShiftAmount(e);if(0>o)return n.__rightShiftByMaximum(i);const a=o>>>5,s=31&o;let l=r-a;if(0>=l)return n.__rightShiftByMaximum(i);let u=!1;if(i)if(0!=(t.__digit(a)&(1<<s)-1))u=!0;else for(let e=0;e<a;e++)if(0!==t.__digit(e)){u=!0;break}if(u&&0===s){0==~t.__digit(r-1)&&l++}let c=new n(l,i);if(0===s)for(let e=a;e<r;e++)c.__setDigit(e-a,t.__digit(e));else{let e=t.__digit(a)>>>s;const n=r-a-1;for(let r=0;r<n;r++){const n=t.__digit(r+a+1);c.__setDigit(r,n<<32-s|e),e=n>>>s}c.__setDigit(n,e)}return u&&(c=n.__absoluteAddOne(c,!0,c)),c.__trim()}static __rightShiftByMaximum(t){return t?n.__oneDigit(1,!0):n.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const e=t.__unsignedDigit(0);return e>n.__kMaxLengthBits?-1:e}static __toPrimitive(t,e="default"){if("object"!=typeof t)return t;if(t.constructor===n)return t;const r=t[Symbol.toPrimitive];if(r){const t=r(e);if("object"!=typeof t)return t;throw new TypeError("Cannot convert object to primitive value")}const i=t.valueOf;if(i){const e=i.call(t);if("object"!=typeof e)return e}const o=t.toString;if(o){const e=o.call(t);if("object"!=typeof e)return e}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return n.__isBigInt(t)?t:+t}static __isBigInt(t){return"object"==typeof t&&t.constructor===n}static __truncateToNBits(t,e){const r=t+31>>>5,i=new n(r,e.sign),o=r-1;for(let t=0;t<o;t++)i.__setDigit(t,e.__digit(t));let a=e.__digit(o);if(0!=(31&t)){const e=32-(31&t);a=a<<e>>>e}return i.__setDigit(o,a),i.__trim()}static __truncateAndSubFromPowerOfTwo(t,e,r){var i=Math.min;const o=t+31>>>5,a=new n(o,r);let s=0;const l=o-1;let u=0;for(const t=i(l,e.length);s<t;s++){const t=e.__digit(s),r=0-(65535&t)-u;u=1&r>>>16;const n=0-(t>>>16)-u;u=1&n>>>16,a.__setDigit(s,65535&r|n<<16)}for(;s<l;s++)a.__setDigit(s,0|-u);let c=l<e.length?e.__digit(l):0;const h=31&t;let p;if(0==h){const t=0-(65535&c)-u;u=1&t>>>16;p=65535&t|0-(c>>>16)-u<<16}else{const t=32-h;c=c<<t>>>t;const e=1<<32-t,r=(65535&e)-(65535&c)-u;u=1&r>>>16;p=65535&r|(e>>>16)-(c>>>16)-u<<16,p&=e-1}return a.__setDigit(l,p),a.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,e){this[t]=0|e}__setDigitGrow(t,e){this[t]=0|e}__halfDigitLength(){const t=this.length;return 65535>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 65535&this[t>>>1]>>>((1&t)<<4)}__setHalfDigit(t,e){const r=t>>>1,n=this.__digit(r),i=1&t?65535&n|e<<16:4294901760&n|65535&e;this.__setDigit(r,i)}static __digitPow(t,e){let r=1;for(;0<e;)1&e&&(r*=t),e>>>=1,t*=t;return r}}n.__kMaxLength=33554432,n.__kMaxLengthBits=n.__kMaxLength<<5,n.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],n.__kBitsPerCharTableShift=5,n.__kBitsPerCharTableMultiplier=1<<n.__kBitsPerCharTableShift,n.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.__kBitConversionBuffer=new ArrayBuffer(8),n.__kBitConversionDouble=new Float64Array(n.__kBitConversionBuffer),n.__kBitConversionInts=new Int32Array(n.__kBitConversionBuffer);const i=n}}]);